webpackJsonp([1,5],{"+LT7":function(n,l,e){"use strict";var t=e("TDEt"),i=e("XPFw");e.d(l,"a",function(){return u});var u=function(){function n(n,l){this._gameService=n,this._configService=l}return n.prototype.ngOnInit=function(){},n.prototype.dropped=function(n,l){this._gameService.map.currentHive.getBeeById(n.dragData).setJob(l)},n.prototype.getWorkerCount=function(n){return this._gameService.map.currentHive.bees.filter(function(l){return l.jid===n}).length},n.prototype.getResourceRequirements=function(n){return this._configService.getResourceCost(n)},n.ctorParameters=function(){return[{type:t.a},{type:i.a}]},n}()},"/fcW":function(n,l){function e(n){throw new Error("Cannot find module '"+n+"'.")}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="/fcW"},1:function(n,l,e){n.exports=e("x35b")},"1Kte":function(n,l,e){"use strict";var t=e("3j3K"),i=e("TDEt"),u=e("Gf3B");e.d(l,"a",function(){return s});var s=function(){function n(n,l){this._gameService=n,this.ngZone=l,this._imageList=["bee.svg","bee-2.svg","egg.svg","honeypot.svg","larva.svg","nectar.svg","nectar2.svg","pollen.svg","tombstone.svg"],this.dontTranslate=!1,this.needsResize=!1,this.hexsize_min=20,this.hexsize_max=160,this.imagesLoaded=!1,this.fps=0,this.smoothing=.99,this.mapconfig=n.map.grid.config}return n.prototype.ngOnInit=function(){var n=this;this.loadImages(this._imageList).then(function(l){var e=l.reduce(function(n,l){return n[l.name]=l.image,n},{});n.images=e,n.imagesLoaded=!0,n.setupCanvas()}).catch(function(n){console.log(n)})},n.prototype.ngOnDestroy=function(){this.gameLoopSub.unsubscribe()},n.prototype.loadImage=function(n){return new Promise(function(l,e){var t=new Image(100,100);t.src="assets/images/map/"+n,l({name:n,image:t})})},n.prototype.loadImages=function(n){var l=n.map(this.loadImage);return Promise.all(l)},n.prototype.setupCanvas=function(){var n=this;this.canvas=document.getElementById("map"),this.context=this.canvas.getContext("2d"),this.gameLoopSub=this._gameService.animationEvent$.subscribe(function(l){n.ngZone.runOutsideAngular(function(){if(l>0){var e=1/(l/1e3);0===n.fps&&(n.fps=e),n.fps=n.fps*n.smoothing+e*(1-n.smoothing)}n._gameService.map.beeImg||(n._gameService.map.beeImg=n.images["bee.svg"]),n.draw()})}),this.setHexSize(this.mapconfig.hexConfig.HEIGHT)},n.prototype.mousewheel=function(n){return n.wheelDeltaY>0&&this.zoomIn(),n.wheelDeltaY<0&&this.zoomOut(),!1},n.prototype.mousedown=function(n){if("map"===n.target.id)return 0===n.button&&(this.mouseMoved=!1,this.mouseDown=!0),!1},n.prototype.mouseup=function(n){return this.mouseDown&&0===n.button&&!this.mouseMoved&&"map"===n.target.id&&this._gameService.map.mapClicked(n.offsetX,n.offsetY),this.mouseDown=!1,!1},n.prototype.mousemove=function(n){if("map"===n.target.id)return this.mouseDown&&1===n.buttons&&(Math.abs(n.movementX)>.1||Math.abs(n.movementY)>.1)&&(this.mouseMoved=!0,this.moveCanvasBy(n.movementX,n.movementY)),!1},n.prototype.zoomIn=function(){this.mapconfig.hexConfig.HEIGHT<this.hexsize_max&&this.setHexSize(1.1*this.mapconfig.hexConfig.HEIGHT)},n.prototype.zoomOut=function(){this.mapconfig.hexConfig.HEIGHT>this.hexsize_min&&this.setHexSize(this.mapconfig.hexConfig.HEIGHT/1.1)},n.prototype.resetZoom=function(){this.setHexSize(50),this.moveCanvas(0,0),this.dontTranslate=!0},n.prototype.moveCanvas=function(n,l){this.canvas.style.left=n+"px",this.canvas.style.top=l+"px",this._gameService.map.mapMoved(n,l)},n.prototype.moveCanvasBy=function(n,l){var e=parseFloat(this.canvas.style.left)+n,t=parseFloat(this.canvas.style.top)+l;this.moveCanvas(e,t)},n.prototype.setHexSize=function(n){this.mapconfig=this._gameService.map.grid.setHexSizeByHeight(n),this._gameService.map.redraw=!0,this.needsResize=!0},n.prototype.draw=function(){void 0!==this.canvas&&void 0!==this.context&&(this._gameService.map.needsRecenter&&(this.resetZoom(),this._gameService.map.needsRecenter=!1),this.needsResize&&(this.needsResize=!1,this.resizeCanvas()),this._gameService.map.drawMap(this.context))},n.prototype.resizeCanvas=function(){var n=parseFloat(this.canvas.style.width),l=parseFloat(this.canvas.style.height);this.canvas.style.width=this.mapconfig.canvasSize.X+"px",this.canvas.style.height=this.mapconfig.canvasSize.Y+"px",this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight,n=n||this.mapconfig.canvasSize.X,l=l||this.mapconfig.canvasSize.Y;var e=Math.round((0-(this.mapconfig.canvasSize.X-n))/2),t=Math.round((0-(this.mapconfig.canvasSize.Y-l))/2);this.dontTranslate||0===e&&0===t||this.moveCanvasBy(e,t),this.dontTranslate=!1},n.prototype.dragEnter=function(n){this._gameService.map.setRangeGraph(n.dragData)},n.prototype.dragLeave=function(n){this._gameService.map.setRangeGraph(null)},n.prototype.dropped=function(n){var l=this._gameService.map.grid.GetHexAt(new u.a(n.nativeEvent.offsetX,n.nativeEvent.offsetY));l&&(l.inRange||l.inRoute)&&l.mapResource&&this._gameService.map.getBeeById(n.dragData).addWaypointNode(l),this._gameService.map.setRangeGraph(null)},n.ctorParameters=function(){return[{type:i.a},{type:t.h}]},n}()},"2Nar":function(n,l,e){"use strict";function t(n){return o._28(0,[(n()(),o._30(0,null,null,1,"button",[["class","btn btn-sm btn-primary"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.stopProcessing()&&t}return t},null,null)),(n()(),o._29(null,["Skip offline progress"]))],null,null)}function i(n){return o._28(0,[o._31(0,r.m,[o.c]),o._38(201326592,1,{progressModal:0}),(n()(),o._30(0,null,null,61,"div",[],null,null,null,null,null)),(n()(),o._29(null,["\n    "])),(n()(),o._30(0,null,null,19,"div",[["class","nopadding col-xs-3"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._30(0,null,null,7,"div",[["class","row topRow"]],null,null,null,null,null)),(n()(),o._29(null,["\n            "])),(n()(),o._30(0,null,null,4,"div",[["class","col-xs-12 fullH"]],null,null,null,null,null)),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,1,"bloqhead-log",[],null,null,null,a.a,a.b)),o._33(122880,null,0,c.b,[c.a],null,null),(n()(),o._29(null,["\n            "])),(n()(),o._29(null,["\n        "])),(n()(),o._29(null,["\n        "])),(n()(),o._30(0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),o._29(null,["\n            "])),(n()(),o._30(0,null,null,4,"div",[["class","col-xs-12"]],null,null,null,null,null)),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,1,"bloqhead-goal-list",[],null,null,null,_.a,_.b)),o._33(57344,null,0,h.a,[],null,null),(n()(),o._29(null,["\n            "])),(n()(),o._29(null,["\n        "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n\n    "])),(n()(),o._30(0,null,null,4,"div",[["class","col-xs-9 fullH nopadding"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._30(8388608,null,null,1,"ui-view",[],null,null,null,d.b,d.c)),o._33(122880,null,0,p.a,[f.UIRouter,"UIView.PARENT_INJECT",o.P,o._21],null,null),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n    "])),(n()(),o._30(0,null,null,31,"nav",[["class","navbar navbar-inverse navbar-fixed-bottom game-menu"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._30(0,null,null,28,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),o._29(null,["\n            "])),(n()(),o._30(0,null,null,22,"ul",[["class","nav navbar-nav"]],null,null,null,null,null)),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,3,"li",[],null,null,null,null,null)),(n()(),o._30(0,null,null,2,"button",[["class","btn btn-primary"],["uiSref","main"]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==o._32(n,39).go()&&t}return t},null,null)),o._33(106496,null,0,g.a,[f.UIRouter,[2,g.b],"UIView.PARENT_INJECT"],{state:[0,"state"]},null),(n()(),o._29(null,["Main"])),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,3,"li",[],null,null,null,null,null)),(n()(),o._30(0,null,null,2,"button",[["class","btn btn-primary"],["uiSref","farm"]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==o._32(n,44).go()&&t}return t},null,null)),o._33(106496,null,0,g.a,[f.UIRouter,[2,g.b],"UIView.PARENT_INJECT"],{state:[0,"state"]},null),(n()(),o._29(null,["Farm"])),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,3,"li",[],null,null,null,null,null)),(n()(),o._30(0,null,null,2,"button",[["class","btn btn-primary"],["uiSref","achievements"]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==o._32(n,49).go()&&t}return t},null,null)),o._33(106496,null,0,g.a,[f.UIRouter,[2,g.b],"UIView.PARENT_INJECT"],{state:[0,"state"]},null),(n()(),o._29(null,["Achievements"])),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,3,"li",[],null,null,null,null,null)),(n()(),o._30(0,null,null,2,"button",[["class","btn btn-primary"],["uiSref","test"]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==o._32(n,54).go()&&t}return t},null,null)),o._33(106496,null,0,g.a,[f.UIRouter,[2,g.b],"UIView.PARENT_INJECT"],{state:[0,"state"]},null),(n()(),o._29(null,["Test Interface"])),(n()(),o._29(null,["\n                "])),(n()(),o._29(null,["\n\n            "])),(n()(),o._29(null,["\n            "])),(n()(),o._30(0,null,null,1,"bloqhead-game-control",[["class","navbar-brand navbar-right"]],null,null,null,m.a,m.b)),o._33(122880,null,0,v.a,[b.a],null,null),(n()(),o._29(null,["\n        "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n"])),(n()(),o._29(null,["\n\n\n"])),(n()(),o._30(8388608,null,null,48,"div",[["aria-hidden","true"],["aria-labelledby","mySmallModalLabel"],["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"click"],[null,"keydown.esc"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==o._32(n,66).onClick(e)&&t}if("keydown.esc"===l){t=!1!==o._32(n,66).onEsc()&&t}return t},null,null)),o._33(2170880,[[1,4],["progressModal",4]],0,y.a,[o.H,o.P,o.G,S.a],{config:[0,"config"]},null),o._39(["backdrop","keyboard"]),(n()(),o._29(null,["\n    "])),(n()(),o._30(0,null,null,43,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._30(0,null,null,40,"div",[["class","modal-content player-content"]],null,null,null,null,null)),(n()(),o._29(null,["\n            "])),(n()(),o._30(0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(n()(),o._29(null,["Welcome back!"])),(n()(),o._29(null,["\n            "])),(n()(),o._29(null,["\n            "])),(n()(),o._30(0,null,null,22,"div",[["class","modal-body"]],[[1,"data-rid",0]],null,null,null,null)),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),o._29(null,["",""])),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,12,"div",[["class","progress progress-custom"]],null,null,null,null,null)),(n()(),o._29(null,["\n                    "])),(n()(),o._30(0,null,null,9,"progressbar",[],null,null,null,E.a,E.b)),o._33(24576,null,0,T.a,[R.a],{animate:[0,"animate"],max:[1,"max"],value:[2,"value"]},null),(n()(),o._29(0,["\n                        "])),(n()(),o._30(0,null,0,1,"span",[["class","workers"]],null,null,null,null,null)),(n()(),o._29(null,["Processing your offline progress"])),(n()(),o._29(0,["\n                        "])),(n()(),o._30(0,null,0,2,"span",[["class","amounts"]],null,null,null,null,null)),(n()(),o._29(null,[""," %"])),o._40(2),(n()(),o._29(0,["\n                    "])),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),o._29(null,["Click the button below to forfeit your remaining offline progess and get into the game."])),(n()(),o._29(null,["\n            "])),(n()(),o._29(null,["\n            "])),(n()(),o._30(0,null,null,7,"div",[["class","modal-footer"]],null,null,null,null,null)),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,4,"div",[["class","scalable-list-button"]],null,null,null,null,null)),(n()(),o._29(null,["\n                    "])),(n()(),o._41(8388608,null,null,1,null,t)),o._33(8192,null,0,r.n,[o.P,o._5],{ngIf:[0,"ngIf"]},null),(n()(),o._29(null,["\n                "])),(n()(),o._29(null,["\n            "])),(n()(),o._29(null,["\n        "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n"]))],function(n,l){var e=l.component;n(l,11,0),n(l,20,0),n(l,28,0),n(l,39,0,"main"),n(l,44,0,"farm"),n(l,49,0,"achievements"),n(l,54,0,"test"),n(l,60,0),n(l,66,0,n(l,67,0,"static",!1)),n(l,87,0,!1,e.modalData.offlineMs,e.modalData.processedMs),n(l,108,0,e.modalData.processing)},function(n,l){var e=l.component;n(l,79,0,"NONE"),n(l,82,0,e.modalData.offlineString),n(l,93,0,o._36(l,93,0,n(l,94,0,o._32(l,0),e.modalData.processedMs/e.modalData.offlineMs*100,"1.1-1")))})}function u(n){return o._28(0,[(n()(),o._30(0,null,null,1,"ng-component",[],null,null,null,i,O)),o._33(2220032,null,0,w.a,[b.a,c.a,o.h],null,null)],function(n,l){n(l,1,0)},null)}var s=e("sJ/l"),o=e("3j3K"),r=e("2Je8"),a=e("CbYP"),c=e("fgLA"),_=e("tJx/"),h=e("8gpH"),d=e("nP8S"),p=e("U9Z3"),f=e("Qnhu"),g=(e.n(f),e("ZCdf")),m=e("VkeI"),v=e("a05Y"),b=e("TDEt"),y=e("xpy0"),S=e("F6a+"),E=e("jdw6"),T=e("UxEy"),R=e("nLnT"),w=e("fgMC");e.d(l,"a",function(){return x});var I=[s.a],O=o._27({encapsulation:0,styles:I,data:{}}),x=o._37("ng-component",w.a,u,{},{},[])},"2okv":function(n,l,e){"use strict";var t=e("bIhG"),i=e("wUwf"),u=e("Gf3B"),s=e("a4xK"),o=e("XPFw"),r=e("Iksp");e.d(l,"a",function(){return a});var a=function(){function n(n,l){if(this.Q_PI=Math.PI/4,this.TWO_PI=2*Math.PI,this.redraw=!0,this.needsRecenter=!1,this._configService=r.b.get(o.a),this.hives=[],this.mapResources=[],this.stepTimeMs=n,l){this.grid=new i.a(l.gridConfig),this.currentHiveID=l.currentHiveID;for(var e=0,u=l.mapResourceStates;e<u.length;e++){var a=u[e],c=new s.a(a);this.mapResources.push(c),this.grid.GetHexById(c.pos).mapResource=c}for(var _=0,h=l.hiveStates;_<h.length;_++){var d=h[_],p=new t.a(d);this.currentHiveID===p.id&&(this.currentHive=p);for(var f=0,g=p.bees;f<g.length;f++){for(var m=g[f],v=0,b=m.nodeIds;v<b.length;v++){var y=b[v];m.nodes.push(this.grid.GetHexById(y))}m.setForagingTypes()}this.hives.push(p)}for(var S=0,E=this.mapResources;S<E.length;S++)for(var T=E[S],R=0,w=T.beeids;R<w.length;R++){var I=w[R];T.bees.push(this.getBeeById(I))}}else this.generateInitialMap()}return n.prototype.getState=function(){for(var n=[],l=0,e=this.hives;l<e.length;l++){var t=e[l];n.push(t.getState())}for(var i=[],u=0,s=this.mapResources;u<s.length;u++){var o=s[u];i.push(o.getState())}return{hiveStates:n,mapResourceStates:i,gridConfig:this.grid.config,currentHiveID:this.currentHiveID,stepTimeMs:this.stepTimeMs}},n.prototype.generateInitialMap=function(){this.grid=new i.a({MAPWIDTH:7,MAPHEIGHT:7}),this.grid.setHexSizeByHeight(50),this.canvasLocation=new u.a(0,0),this.addHive("G5"),this.addHive("G9"),this.addWaterNode("D6"),this.addWaterNode("J10"),this.addWaterNode("E3"),this.addCloverNode("I7",1),this.addCloverNode("H6",1),this.addCloverNode("G11",1),this.addCloverNode("D4",1),this.addCloverNode("B2",2),this.addCloverNode("G13",2),this.addCloverNode("A7",3),this.addCloverNode("E7",3),this.currentHiveID=this.hives[0].id,this.currentHive=this.hives[0]},n.prototype.getHiveByPosition=function(n){return this.hives.find(function(l){return l.pos===n})},n.prototype.getHiveById=function(n){return this.hives.find(function(l){return l.id===n})},n.prototype.getBeeById=function(n){return this.getHiveById(parseInt(n.substring(n.indexOf("H")+1))).getBeeById(n)},n.prototype.mapClicked=function(n,l){var e=new u.a(n,l),t=this.grid.GetHexAt(e),i=this.grid.GetHexById(this.selectedHexID);if(null!==t&&void 0!==t){null!==i&&void 0!==i&&(t.id===i.id?console.log("TODO: show additional info via dialog or somethin"):i.selected=!1),t.selected=!0,this.selectedHexID=t.id;var s=this.getHiveByPosition(t.id);s&&s.id!=this.currentHiveID&&(this.currentHiveID=s.id,this.currentHive=s),this.redraw=!0}},n.prototype.mapMoved=function(n,l){this.canvasLocation=new u.a(n,l)},n.prototype.setRangeGraph=function(n){if(n){for(var l=this.currentHive.getBeeById(n),e=l.getAbility("rng").value,t=this.grid.GetHexById(this.currentHive.pos),i=0,u=0,s=l.nodes;u<s.length;u++){var o=s[u];e-=this.grid.GetHexDistance(t,o),t=o,o.inRoute=!0,o.mapResource.routeIndex=++i}if(e>0)for(var r=0,a=this.grid.Hexes;r<a.length;r++){var c=a[r];c.inRange=this.grid.GetHexDistance(t,c)<=e}}else{for(var _=0,h=this.grid.Hexes;_<h.length;_++){var d=h[_];d.inRange=!1,d.inRoute=!1}for(var p=0,f=this.mapResources;p<f.length;p++){f[p].routeIndex=null}}this.redraw=!0},n.prototype.handleGameLoop=function(n,l){for(;n>=this.stepTimeMs;){for(var e=0,t=this.mapResources;e<t.length;e++){t[e].processElapsedTime(this.stepTimeMs)}for(var i=0,u=this.hives;i<u.length;i++){u[i].handleGameLoop(this.stepTimeMs,this)}n-=this.stepTimeMs}if(!l&&this.beeCanvas){var s=this.beeCanvas.getContext("2d");this.clear(s),this.drawHives(s)}},n.prototype.addHive=function(n){var l=this.hives.length+1,e=new t.a({id:l,initialSize:2,maxSize:5,beeMutationChance:.0025,pos:n});return this.hives.push(e),e},n.prototype.addWaterNode=function(n){var l=this.grid.GetHexById(n);if(void 0!==l.mapResource)return null;var e=1,t=new s.a({id:e,resourceName:"Water",pos:n,color:"#04328C",cooldown:0,water:1e4});return this.mapResources.push(t),l.mapResource=t,t},n.prototype.addCloverNode=function(n,l){l=l||1;var e=this.grid.GetHexById(n);if(void 0!==e.mapResource)return null;var t=1,i=new s.a({id:t,level:l,resourceName:"Clover",pos:n,color:"#2C4001",cooldown:5e3,harvestMultiplier:1/l,nectar:3*l,pollen:2*l});return this.mapResources.push(i),e.mapResource=i,i},n.prototype.drawMap=function(n){if(this.clear(n),!this.mapCanvas||this.redraw){this.mapCanvas=this.mapCanvas||document.createElement("canvas"),this.mapCanvas.width=n.canvas.width,this.mapCanvas.height=n.canvas.height;var l=this.mapCanvas.getContext("2d");this.clear(l),this.drawHexes(l),this.drawResources(l),this.beeCanvas=this.beeCanvas||document.createElement("canvas"),this.beeCanvas.width=n.canvas.width,this.beeCanvas.height=n.canvas.height,l=this.beeCanvas.getContext("2d"),this.clear(l),this.drawHives(l),this.redraw=!1}n.drawImage(this.mapCanvas,0,0),n.drawImage(this.beeCanvas,0,0)},n.prototype.clear=function(n){n.clearRect(0,0,n.canvas.width,n.canvas.height)},n.prototype.drawHexes=function(n){for(var l=0,e=this.grid.Hexes;l<e.length;l++){e[l].draw(n,this.grid.config.SHOW_HEX_ID,this.grid.config.SHOW_HEX_XY)}},n.prototype.drawResources=function(n){for(var l=0,e=this.mapResources;l<e.length;l++){var t=e[l],i=this.grid.GetHexById(t.pos);n.fillStyle=t.color,n.beginPath(),n.arc(i.MidPoint.X,i.MidPoint.Y,.3*this.grid.config.hexConfig.HEIGHT,0,this.TWO_PI),n.closePath(),n.fill(),n.lineWidth=2,n.strokeStyle="black",n.stroke(),t.routeIndex&&(n.fillStyle="white",n.font="bolder 8pt Trebuchet MS,Tahoma,Verdana,Arial,sans-serif",n.textAlign="center",n.textBaseline="middle",n.fillText(t.routeIndex+"",i.MidPoint.X,i.MidPoint.Y))}},n.prototype.drawHives=function(n){for(var l=0,e=this.hives;l<e.length;l++){var t=e[l],i=this.grid.GetHexById(t.pos),u="H"+t.id;n.fillStyle=t.id===this.currentHiveID?"yellow":"grey",n.beginPath(),n.arc(i.MidPoint.X,i.MidPoint.Y,.3*this.grid.config.hexConfig.HEIGHT,0,this.TWO_PI),n.closePath(),n.fill(),n.lineWidth=2,n.strokeStyle="black",n.stroke(),n.fillStyle="black",n.font="bolder 8pt Trebuchet MS,Tahoma,Verdana,Arial,sans-serif",n.textAlign="center",n.textBaseline="middle",n.fillText(u,i.MidPoint.X,i.MidPoint.Y),this.drawBees(n,t)}},n.prototype.drawBees=function(n,l){var e=1.5,t=this.grid.config.hexConfig.SIDE/e;for(var i in l.beesToDraw){var u=l.beesToDraw[i];if(u.isMoving){var s=this.grid.GetHexById(u.tripStart),o=this.grid.GetHexById(u.tripEnd),r=1;0!==u.tripTotalTime&&(r=u.tripElaspedTime/u.tripTotalTime);var a=o.MidPoint.X-s.MidPoint.X,c=o.MidPoint.Y-s.MidPoint.Y;u.heading||(u.heading=Math.atan2(c,a)+2*this.Q_PI);var _=s.MidPoint.X+a*r,h=s.MidPoint.Y+c*r;n.save(),n.translate(_,h),n.rotate(u.heading),n.drawImage(this.beeImg,t/-2,t/-2,t,t),n.restore()}else delete l.beesToDraw[i],u.heading=null}},n}()},"3alE":function(n,l,e){"use strict";function t(n){return o._28(0,[(n()(),o._30(0,null,null,1,"li",[],null,null,null,null,null)),(n()(),o._29(null,["",""]))],null,function(n,l){n(l,1,0,l.context.$implicit.name)})}function i(n){return o._28(0,[(n()(),o._30(0,null,null,58,"div",[["class","player-box"]],null,null,null,null,null)),(n()(),o._29(null,["\n    "])),(n()(),o._30(0,null,null,9,"h3",[["class","box-title"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._30(0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(n()(),o._29(null,["\n            "])),(n()(),o._30(0,null,null,3,"div",[["class","col-xs-12"]],null,null,null,null,null)),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,0,"i",[["class","fa fa-globe"]],null,null,null,null,null)),(n()(),o._29(null,[" Hive#"," Population ["," / ","]\n            "])),(n()(),o._29(null,["\n        "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n    "])),(n()(),o._30(0,null,null,44,"div",[["class","player-content"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._30(0,null,null,41,"div",[["class","row population-container"]],null,null,null,null,null)),(n()(),o._29(null,["\n            "])),(n()(),o._30(0,null,null,37,"tabset",[["type","pills"]],[[2,"tab-container",null]],null,null,r.a,r.b)),o._33(90112,null,0,a.a,[c.a],{type:[0,"type"]},null),(n()(),o._29(0,["\n\n                "])),(n()(),o._30(0,null,0,23,"tab",[["customClass","tab-list-button"],["heading","Overview"]],[[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),o._33(40960,null,0,_.a,[a.a],{heading:[0,"heading"],customClass:[1,"customClass"]},null),(n()(),o._29(null,["\n                    "])),(n()(),o._30(0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),o._29(null,["Queens"])),(n()(),o._29(null,["\n                    "])),(n()(),o._30(0,null,null,2,"population-panel",[],null,null,null,h.a,h.b)),o._33(57344,null,0,d.a,[p.a],{filter:[0,"filter"]},null),o._39(["type","traits"]),(n()(),o._29(null,["\n                    "])),(n()(),o._30(0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),o._29(null,["Workers"])),(n()(),o._29(null,["\n                    "])),(n()(),o._30(0,null,null,2,"population-panel",[],null,null,null,h.a,h.b)),o._33(57344,null,0,d.a,[p.a],{filter:[0,"filter"]},null),o._39(["type","traits"]),(n()(),o._29(null,["\n                    "])),(n()(),o._30(0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),o._29(null,["Drones"])),(n()(),o._29(null,["\n                    "])),(n()(),o._30(0,null,null,2,"population-panel",[],null,null,null,h.a,h.b)),o._33(57344,null,0,d.a,[p.a],{filter:[0,"filter"]},null),o._39(["type","traits"]),(n()(),o._29(null,["\n                "])),(n()(),o._29(0,["\n                "])),(n()(),o._30(0,null,0,8,"tab",[["customClass","tab-list-button"],["heading","Custom View"]],[[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),o._33(40960,null,0,_.a,[a.a],{heading:[0,"heading"],customClass:[1,"customClass"]},null),(n()(),o._29(null,["\n                    "])),(n()(),o._30(0,null,null,4,"ul",[],null,null,null,null,null)),(n()(),o._29(null,["\n                        "])),(n()(),o._41(8388608,null,null,1,null,t)),o._33(401408,null,0,f.r,[o.P,o._5,o.t],{ngForOf:[0,"ngForOf"]},null),(n()(),o._29(null,["\n                    "])),(n()(),o._29(null,["\n                "])),(n()(),o._29(0,["\n            "])),(n()(),o._29(null,["\n            "])),(n()(),o._29(null,["\n        "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n"]))],function(n,l){var e=l.component;n(l,18,0,"pills"),n(l,21,0,"Overview","tab-list-button"),n(l,27,0,n(l,28,0,e.BeeTypes.QUEEN,o._43)),n(l,34,0,n(l,35,0,e.BeeTypes.WORKER,o._43)),n(l,41,0,n(l,42,0,e.BeeTypes.DRONE,o._43)),n(l,46,0,"Custom View","tab-list-button"),n(l,51,0,e._gameService.map.currentHive.bees)},function(n,l){var e=l.component;n(l,9,0,e._gameService.map.currentHiveID,e._gameService.map.currentHive.getPopulationCount(),e._gameService.map.currentHive.populationLimit),n(l,17,0,o._32(l,18).clazz),n(l,20,0,o._32(l,21).active,o._32(l,21).addClass),n(l,45,0,o._32(l,46).active,o._32(l,46).addClass)})}function u(n){return o._28(0,[(n()(),o._30(0,null,null,1,"bloqhead-population",[],null,null,null,i,v)),o._33(57344,null,0,g.a,[p.a],null,null)],function(n,l){n(l,1,0)},null)}var s=e("DGBS"),o=e("3j3K"),r=e("7GXJ"),a=e("lOd9"),c=e("ElZy"),_=e("Ki8D"),h=e("W4vm"),d=e("j9Nw"),p=e("TDEt"),f=e("2Je8"),g=e("FrzW");e.d(l,"b",function(){return v}),l.a=i;var m=[s.a],v=o._27({encapsulation:0,styles:m,data:{}});o._37("bloqhead-population",g.a,u,{},{},[])},"7GXJ":function(n,l,e){"use strict";function t(n){return o._28(0,[(n()(),o._30(0,null,null,3,"span",[],null,null,null,null,null)),(n()(),o._29(null,["\n              "])),(n()(),o._30(0,null,null,0,"span",[["class","glyphicon glyphicon-remove-circle"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){e.preventDefault();t=!1!==i.removeTab(n.parent.context.$implicit)&&t}return t},null,null)),(n()(),o._29(null,["\n            "]))],null,null)}function i(n){return o._28(0,[(n()(),o._30(0,null,null,13,"li",[],[[2,"active",null],[2,"disabled",null]],null,null,null,null)),o._33(139264,null,0,r.o,[o.t,o.u,o.H,o.G],{ngClass:[0,"ngClass"]},null),o._44(2),(n()(),o._29(null,["\n          "])),(n()(),o._30(0,null,null,8,"a",[["class","nav-link"],["href","javascript:void(0);"]],[[2,"active",null],[2,"disabled",null]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!=(n.context.$implicit.active=!0)&&t}return t},null,null)),(n()(),o._29(null,["\n            "])),(n()(),o._30(8388608,null,null,2,"span",[],null,null,null,null,null)),o._33(8192,null,0,a.a,[o.P],{ngTransclude:[0,"ngTransclude"]},null),(n()(),o._29(null,["",""])),(n()(),o._29(null,["\n            "])),(n()(),o._41(8388608,null,null,1,null,t)),o._33(8192,null,0,r.n,[o.P,o._5],{ngIf:[0,"ngIf"]},null),(n()(),o._29(null,["\n          "])),(n()(),o._29(null,["\n        "]))],function(n,l){n(l,1,0,n(l,2,0,"nav-item",l.context.$implicit.customClass||"")),n(l,7,0,l.context.$implicit.headingRef),n(l,11,0,l.context.$implicit.removable)},function(n,l){n(l,0,0,l.context.$implicit.active,l.context.$implicit.disabled),n(l,4,0,l.context.$implicit.active,l.context.$implicit.disabled),n(l,8,0,l.context.$implicit.heading)})}function u(n){return o._28(0,[(n()(),o._29(null,["\n    "])),(n()(),o._30(0,null,null,5,"ul",[["class","nav"]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==e.preventDefault()&&t}return t},null,null)),o._33(139264,null,0,r.o,[o.t,o.u,o.H,o.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o._29(null,["\n        "])),(n()(),o._41(8388608,null,null,1,null,i)),o._33(401408,null,0,r.r,[o.P,o._5,o.t],{ngForOf:[0,"ngForOf"]},null),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n    "])),(n()(),o._30(0,null,null,3,"div",[["class","tab-content"]],null,null,null,null,null)),(n()(),o._29(null,["\n      "])),o._42(null,0),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n  "]))],function(n,l){var e=l.component;n(l,2,0,"nav",e.classMap),n(l,5,0,e.tabs)},null)}function s(n){return o._28(0,[(n()(),o._30(0,null,null,1,"tabset",[],[[2,"tab-container",null]],null,null,u,d)),o._33(90112,null,0,c.a,[_.a],null,null)],null,function(n,l){n(l,0,0,o._32(l,1).clazz)})}var o=e("3j3K"),r=e("2Je8"),a=e("oEg6"),c=e("lOd9"),_=e("ElZy");e.d(l,"b",function(){return d}),l.a=u;var h=[],d=o._27({encapsulation:2,styles:h,data:{}});o._37("tabset",c.a,s,{vertical:"vertical",justified:"justified",type:"type"},{},["*"])},"8gpH":function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(){}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()},"8ue6":function(n,l,e){"use strict";var t=e("TDEt");e.d(l,"a",function(){return i});var i=function(){function n(n){this._gameService=n}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[{type:t.a}]},n}()},BN1Q:function(n,l,e){"use strict";function t(n){return o._28(0,[(n()(),o._30(0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o._29(null,["Loading..."])),(n()(),o._30(0,null,null,0,"i",[["class","fa fa-spinner fa-spin"]],null,null,null,null,null))],null,null)}function i(n){return o._28(0,[o._31(0,r.m,[o.c]),(n()(),o._30(0,null,null,70,"div",[["class","player-box"]],null,null,null,null,null)),(n()(),o._29(null,["\n    "])),(n()(),o._30(0,null,null,13,"h3",[["class","box-title"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._30(0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(n()(),o._29(null,["\n            "])),(n()(),o._30(0,null,null,7,"div",[["class","col-xs-12"]],null,null,null,null,null)),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,0,"i",[["class","fa fa-map"]],null,null,null,null,null)),(n()(),o._29(null,[" Map\n                "])),(n()(),o._30(0,null,null,2,"div",[["class","pull-right"]],null,null,null,null,null)),(n()(),o._29(null,["\n                    "," FPS\n                "])),o._40(2),(n()(),o._29(null,["\n            "])),(n()(),o._29(null,["\n        "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n    "])),(n()(),o._30(0,null,null,52,"div",[["class","player-content"]],null,null,null,null,null)),(n()(),o._29(null,["\n        "])),(n()(),o._30(0,null,null,49,"div",[["class","row map-container"]],null,null,null,null,null)),(n()(),o._29(null,["\n            "])),(n()(),o._30(0,null,null,46,"div",[["class","row map-container"],["style","overflow: hidden;  position: relative;"]],null,null,null,null,null)),(n()(),o._29(null,["\n                "])),(n()(),o._41(8388608,null,null,1,null,t)),o._33(8192,null,0,r.n,[o.P,o._5],{ngIf:[0,"ngIf"]},null),(n()(),o._29(null,["\n                "])),(n()(),o._30(0,null,null,40,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),o._29(null,["\n                    "])),(n()(),o._29(null,["\n                    "])),(n()(),o._30(0,null,null,19,"div",[["class","pull-left"]],null,null,null,null,null)),(n()(),o._29(null,["\n                        "])),(n()(),o._30(0,null,null,7,"span",[],null,null,null,null,null)),(n()(),o._29(null,["ID "])),(n()(),o._30(0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,e){var t=!0,i=n.component;if("change"===l){t=!1!==o._32(n,35).onChange(e.target.checked)&&t}if("blur"===l){t=!1!==o._32(n,35).onTouched()&&t}if("ngModelChange"===l){t=!1!==(i._gameService.map.grid.config.SHOW_HEX_ID=e)&&t}return t},null,null)),o._33(8192,null,0,c.j,[o.G,o.H],null,null),o._34(512,null,c.f,function(n){return[n]},[c.j]),o._33(335872,null,0,c.g,[[8,null],[8,null],[8,null],[2,c.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._34(1024,null,c.h,null,[c.g]),o._33(8192,null,0,c.i,[c.h],null,null),(n()(),o._29(null,["\n                        "])),(n()(),o._30(0,null,null,7,"span",[],null,null,null,null,null)),(n()(),o._29(null,["XY "])),(n()(),o._30(0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,l,e){var t=!0,i=n.component;if("change"===l){t=!1!==o._32(n,44).onChange(e.target.checked)&&t}if("blur"===l){t=!1!==o._32(n,44).onTouched()&&t}if("ngModelChange"===l){t=!1!==(i._gameService.map.grid.config.SHOW_HEX_XY=e)&&t}return t},null,null)),o._33(8192,null,0,c.j,[o.G,o.H],null,null),o._34(512,null,c.f,function(n){return[n]},[c.j]),o._33(335872,null,0,c.g,[[8,null],[8,null],[8,null],[2,c.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._34(1024,null,c.h,null,[c.g]),o._33(8192,null,0,c.i,[c.h],null,null),(n()(),o._29(null,["\n                    "])),(n()(),o._29(null,["\n                    "])),(n()(),o._30(0,null,null,10,"div",[["class","btn-group pull-right"],["role","group"],["style","z-index: 100;"]],null,null,null,null,null)),(n()(),o._29(null,["\n                        "])),(n()(),o._30(0,null,null,1,"div",[["class","btn btn-sm btn-info"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.resetZoom()&&t}return t},null,null)),(n()(),o._30(0,null,null,0,"i",[["class","fa fa-arrows-alt"]],null,null,null,null,null)),(n()(),o._29(null,["\n                        "])),(n()(),o._30(0,null,null,1,"div",[["class","btn btn-sm btn-info"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.zoomOut()&&t}return t},null,null)),(n()(),o._30(0,null,null,0,"i",[["class","fa fa-minus"]],null,null,null,null,null)),(n()(),o._29(null,["\n                        "])),(n()(),o._30(0,null,null,1,"div",[["class","btn btn-sm btn-info"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.zoomIn()&&t}return t},null,null)),(n()(),o._30(0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(n()(),o._29(null,["\n                    "])),(n()(),o._29(null,["\n\n                    "])),(n()(),o._29(null,["\n                    "])),(n()(),o._30(0,null,null,2,"canvas",[["bloqheadDropTarget",""],["id","map"],["style","position:absolute;top:0px;left:0px;"]],null,[[null,"onDragEnter"],[null,"onDragLeave"],[null,"onDrop"],[null,"dragenter"],[null,"dragleave"],[null,"drop"]],function(n,l,e){var t=!0,i=n.component;if("dragenter"===l){t=!1!==o._32(n,65).dragEnter(e)&&t}if("dragleave"===l){t=!1!==o._32(n,65).dragLeave(e)&&t}if("drop"===l){t=!1!==o._32(n,65).drop(e)&&t}if("onDragEnter"===l){t=!1!==i.dragEnter(e)&&t}if("onDragLeave"===l){t=!1!==i.dragLeave(e)&&t}if("onDrop"===l){t=!1!==i.dropped(e)&&t}return t},null,null)),o._33(106496,null,0,_.b,[o.H,o.h],{dropTargetId:[0,"dropTargetId"]},{onDragEnter:"onDragEnter",onDragLeave:"onDragLeave",onDrop:"onDrop"}),(n()(),o._29(null,["\n                    "])),(n()(),o._29(null,["\n\n                "])),(n()(),o._29(null,["\n            "])),(n()(),o._29(null,["\n        "])),(n()(),o._29(null,["\n    "])),(n()(),o._29(null,["\n"]))],function(n,l){var e=l.component;n(l,25,0,!e.imagesLoaded),n(l,37,0,e._gameService.map.grid.config.SHOW_HEX_ID),n(l,46,0,e._gameService.map.grid.config.SHOW_HEX_XY),n(l,65,0,"forager")},function(n,l){var e=l.component;n(l,12,0,o._36(l,12,0,n(l,13,0,o._32(l,0),e.fps,"1.2-2"))),n(l,27,0,!e.imagesLoaded),n(l,34,0,o._32(l,39).ngClassUntouched,o._32(l,39).ngClassTouched,o._32(l,39).ngClassPristine,o._32(l,39).ngClassDirty,o._32(l,39).ngClassValid,o._32(l,39).ngClassInvalid,o._32(l,39).ngClassPending),n(l,43,0,o._32(l,48).ngClassUntouched,o._32(l,48).ngClassTouched,o._32(l,48).ngClassPristine,o._32(l,48).ngClassDirty,o._32(l,48).ngClassValid,o._32(l,48).ngClassInvalid,o._32(l,48).ngClassPending)})}function u(n){return o._28(0,[(n()(),o._30(0,null,null,1,"bloqhead-map",[],null,[[null,"mousewheel"],[null,"mousedown"],[null,"mouseup"],[null,"mousemove"]],function(n,l,e){var t=!0;if("mousewheel"===l){t=!1!==o._32(n,1).mousewheel(e)&&t}if("mousedown"===l){t=!1!==o._32(n,1).mousedown(e)&&t}if("mouseup"===l){t=!1!==o._32(n,1).mouseup(e)&&t}if("mousemove"===l){t=!1!==o._32(n,1).mousemove(e)&&t}return t},i,p)),o._33(122880,null,0,a.a,[h.a,o.h],null,null)],function(n,l){n(l,1,0)},null)}var s=e("aBQX"),o=e("3j3K"),r=e("2Je8"),a=e("1Kte"),c=e("NVOs"),_=e("CNxT"),h=e("TDEt");e.d(l,"b",function(){return p}),l.a=i;var d=[s.a],p=o._27({encapsulation:0,styles:d,data:{}});o._37("bloqhead-map",a.a,u,{},{},[])},CNxT:function(n,l,e){"use strict";var t=e("3j3K"),i=e("Iksp"),u=e("CpRO");e.d(l,"a",function(){return s}),e.d(l,"b",function(){return o});var s=function(){function n(n){this.onDragStart=new t.N,this.onDragEnd=new t.N,this.element=n.nativeElement,this.dragService=i.b.get(u.a)}return n.prototype.ngOnInit=function(){this.data||(this.data=i.d.new())},n.prototype.dragStart=function(n){var l=n.orignalEvent||n;l.stopPropagation(),l.dataTransfer&&l.dataTransfer.setData("text/plain",this.data),this.element.classList.add(this.dragClass||"lvl-moving"),this.dragService.dragData=this.data,this.dragService.dropTargetIds=this.dropTargetIds,this.onDragStart.emit(l),this.dragService.onDragStart.next()},n.prototype.dragEnd=function(n){this.element.classList.remove(this.dragClass||"lvl-moving");var l=n.originalEvent||n;this.dragService.onDragEnd.next(),this.onDragEnd.emit(l),l.stopPropagation(),l.preventDefault()},n.ctorParameters=function(){return[{type:t.H}]},n}(),o=function(){function n(n,l){this.ngZone=l,this.enabled=!0,this.onDragOver=new t.N,this.onDragEnter=new t.N,this.onDragLeave=new t.N,this.onDrop=new t.N,this.element=n.nativeElement,this.dragService=i.b.get(u.a)}return n.prototype.ngOnInit=function(){var n=this;this.overClass=this.overClass||"lvl-over",this.targetClass=this.targetClass||"lvl-target",this.dragStartEvent=this.dragService.onDragStart.subscribe(function(){n.allowDrop()&&n.element.classList.add(n.targetClass)}),this.dragEndEvent=this.dragService.onDragEnd.subscribe(function(){n.element.classList.remove(n.overClass,n.targetClass)}),this.ngZone.runOutsideAngular(function(){n.element.addEventListener("dragover",function(l){n.dragOver(l)})})},n.prototype.ngOnDestroy=function(){this.dragStartEvent.unsubscribe(),this.dragEndEvent.unsubscribe()},n.prototype.dragOver=function(n){var l=n.originalEvent||n;if(this.allowDrop())return l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect="move"),this.onDragOver.emit(l),!1},n.prototype.dragEnter=function(n){this.allowDrop()&&this.element.classList.add(this.overClass);var l=n.originalEvent||n;l.preventDefault(),l.stopPropagation(),this.onDragEnter.emit({nativeEvent:l,dragData:this.dragService.dragData})},n.prototype.dragLeave=function(n){var l=n.originalEvent||n;this.element.classList.remove(this.overClass),l.preventDefault(),this.onDragLeave.emit({nativeEvent:l,dragData:this.dragService.dragData})},n.prototype.drop=function(n){var l=n.originalEvent||n;l.preventDefault(),l.stopPropagation(),this.dragService.onDragEnd.next();var e={x:l.clientX-this.element.offsetLeft,y:l.clientY-this.element.offsetTop};this.onDrop.emit({nativeEvent:l,dragData:this.dragService.dragData,relativePos:e})},n.prototype.allowDrop=function(){return this.enabled&&-1!==this.dragService.dropTargetIds.indexOf(this.dropTargetId)},n.ctorParameters=function(){return[{type:t.H},{type:t.h}]},n}()},CbYP:function(n,l,e){"use strict";function t(n){return s._28(0,[(n()(),s._30(0,null,null,9,"li",[],null,null,null,null,null)),s._33(139264,null,0,o.o,[s.t,s.u,s.H,s.G],{ngClass:[0,"ngClass"]},null),(n()(),s._29(null,["\n                    ["])),(n()(),s._30(0,null,null,2,"span",[],null,null,null,null,null)),(n()(),s._29(null,["",""])),s._40(2),(n()(),s._29(null,["] \n                    "])),(n()(),s._30(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),s._29(null,["",""])),(n()(),s._29(null,["\n                "]))],function(n,l){var e=l.component;n(l,1,0,s._35(1,"",e.getLogClass(l.context.$implicit.type),""))},function(n,l){n(l,4,0,s._36(l,4,0,n(l,5,0,s._32(l.parent,0),l.context.$implicit.timestamp,"MM/dd HH:mm:ss"))),n(l,8,0,l.context.$implicit.message)})}function i(n){return s._28(0,[s._31(0,o.q,[s.c]),(n()(),s._30(0,null,null,26,"div",[["class","player-box"]],null,null,null,null,null)),(n()(),s._29(null,["\n    "])),(n()(),s._30(0,null,null,6,"h3",[["class","box-title"],["ng-transclude","boxTitleHtml"]],null,null,null,null,null)),(n()(),s._29(null,["\n        "])),(n()(),s._30(0,null,null,0,"i",[["class","fa fa-list"]],null,null,null,null,null)),(n()(),s._29(null,[" Log\n        "])),(n()(),s._30(0,null,null,1,"i",[["class","pull-right fa"],["title","Autoscroll On/Off"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!=(i.pauseScroll=!i.pauseScroll)&&t}return t},null,null)),s._33(139264,null,0,o.o,[s.t,s.u,s.H,s.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),s._29(null,["\n    "])),(n()(),s._29(null,["\n    "])),(n()(),s._30(0,null,null,15,"div",[["class","player-content"]],null,null,null,null,null)),(n()(),s._29(null,["\n        "])),(n()(),s._30(0,null,null,12,"div",[["class","log-component"]],null,null,null,null,null)),(n()(),s._29(null,["\n            "])),(n()(),s._30(0,null,null,9,"ul",[["class","list-group"]],null,null,null,null,null)),(n()(),s._29(null,["\n                "])),(n()(),s._41(8388608,null,null,1,null,t)),s._33(401408,null,0,o.r,[s.P,s._5,s.t],{ngForOf:[0,"ngForOf"]},null),(n()(),s._29(null,["\n                "])),(n()(),s._30(0,null,null,3,"li",[["ngShow","scrolling"]],null,null,null,null,null)),(n()(),s._29(null,["\n                    "])),(n()(),s._30(0,null,null,0,"a",[["id","scrollBottom"]],null,null,null,null,null)),(n()(),s._29(null,["\n                "])),(n()(),s._29(null,["\n            "])),(n()(),s._29(null,["\n        "])),(n()(),s._29(null,["\n    "])),(n()(),s._29(null,["\n"]))],function(n,l){var e=l.component;n(l,8,0,"pull-right fa",s._35(1,"",e.pauseScroll?"fa-play":"fa-pause","")),n(l,18,0,e._logService.messages)},null)}function u(n){return s._28(0,[(n()(),s._30(0,null,null,1,"bloqhead-log",[],null,null,null,i,c)),s._33(122880,null,0,r.b,[r.a],null,null)],function(n,l){n(l,1,0)},null)}var s=e("3j3K"),o=e("2Je8"),r=e("fgLA");e.d(l,"b",function(){return c}),l.a=i;var a=[],c=s._27({encapsulation:2,styles:a,data:{}});s._37("bloqhead-log",r.b,u,{},{},[])},CpRO:function(n,l,e){"use strict";var t=e("EEr4");e.n(t);e.d(l,"a",function(){return i});var i=function(){function n(){this.onDragStart=new t.Subject,this.onDragEnd=new t.Subject}return n}()},D4sV:function(n,l,e){"use strict";var t=e("TDEt");e.d(l,"a",function(){return i});var i=function(){function n(n){this._gameService=n}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[{type:t.a}]},n}()},DGBS:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[""]},FX7h:function(n,l,e){"use strict";var t=e("XPFw"),i=e("RwyB"),u=e("VBTM"),s=e("Iksp"),o=e("fgLA"),r=e("yQWr"),a=e("0XFg");e.n(a);e.d(l,"a",function(){return _}),e.d(l,"b",function(){return d}),e.d(l,"d",function(){return p}),e.d(l,"c",function(){return f}),e.d(l,"e",function(){return g}),e.d(l,"f",function(){return m});var c=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var e in l)l.hasOwnProperty(e)&&(n[e]=l[e])};return function(l,e){function t(){this.constructor=l}n(l,e),l.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),_={QUEEN:"queen",DRONE:"drone",WORKER:"worker",LARVA:"larva",EGG:"egg"},h=function(){function n(n){this.foragingTypes={water:!1,nectar:!1,pollen:!1},this._configService=s.b.get(t.a),this._logService=s.b.get(o.a)}return n.prototype.update=function(n){this.id=n&&n.id||this.id||"0",this.pos=n&&n.pos||this.pos||"A1",this.tripStart=n&&n.tripStart||this.tripStart||null,this.tripEnd=n&&n.tripEnd||this.tripEnd||null,this.tripElaspedTime=n&&n.tripElaspedTime||this.tripElaspedTime||0,this.tripTotalTime=n&&n.tripTotalTime||this.tripTotalTime||0,this.waitingAtResource=n&&null!=n.waitingAtResource?n.waitingAtResource:null==this.waitingAtResource||this.waitingAtResource,this.dt=n&&n.dt||this.dt||(new Date).getTime(),this.queenParentId=n&&n.queenParentId||this.queenParentId||null,this.droneParentId=n&&n.droneParentId||this.droneParentId||null,this.generation=n&&n.generation||this.generation||0,this.setJob(n&&n.jid||this.jid||r.a.IDLE,n&&n.jobStep||this.jobStep||null),this.msSinceWork=n&&n.msSinceWork||this.msSinceWork||0,this.msSinceDeathCheck=n&&n.msSinceDeathCheck||this.msSinceDeathCheck||0,this.dead=n&&null!=n.dead?n.dead:null!=this.dead&&this.dead,this.nodeIds=n&&n.nodeIds||this.nodeIds||[],this.isMoving=n&&n.isMoving||!1,this.harvesting=n&&n.harvesting||!1,this.baskets=n&&n.baskets||this.baskets||null,null===this.baskets&&(this.baskets={},this.baskets[r.b.NECTAR]=0,this.baskets[r.b.POLLEN]=0,this.baskets[r.b.WATER]=0),this.nodeIndex=n&&n.nodeIndex||this.nodeIndex||0,this.beeMutationChance=n&&n.beeMutationChance||this.beeMutationChance||.005,this.genome=new i.a(n&&n.genome||null,this.hasPairs),this.traits=this._configService.getTraits(this.genome),this.abilities=this._configService.getAbilities(this.traits),this.abilitiesMap=this.abilities.reduce(function(n,l){return n[l.abilityId]=l,n},{}),this.name=this.beetype+this.id,this.workStatus=null},n.prototype.getState=function(){return{id:this.id,beetype:this.beetype,pos:this.pos,tripStart:this.tripStart,tripEnd:this.tripEnd,tripElaspedTime:this.tripElaspedTime,tripTotalTime:this.tripTotalTime,waitingAtResource:this.waitingAtResource,dt:this.dt,queenParentId:this.queenParentId,droneParentId:this.droneParentId,generation:this.generation,jid:this.jid,jobStep:this.jobStep,msSinceWork:this.msSinceWork,msSinceDeathCheck:this.msSinceDeathCheck,nodeIndex:this.nodeIndex,beeMutationChance:this.beeMutationChance,dead:this.dead,nodeIds:this.nodeIds,genome:this.genome,isMoving:this.isMoving,harvesting:this.harvesting,baskets:this.baskets}},n.prototype.die=function(){this._logService.logGeneralMessage(e.i(a.sprintf)("%s died",this.name)),this.dead=!0,this.setJob(r.a.IDLE)},n.prototype.getAbility=function(n){return this.abilitiesMap[n]},n.prototype.mature=function(n){throw new Error("Method not implemented.")},n.prototype.fertilizeEgg=function(n){throw new Error("Method not implemented.")},n.prototype.hatch=function(n){throw new Error("Method not implemented.")},n.prototype.mate=function(n){throw new Error("Method not implemented.")},n.prototype.storageAmount=function(n){var l;switch(n){case r.b.NECTAR:l=this.getAbility(r.d.STR_NECTAR).value;break;case r.b.POLLEN:l=this.getAbility(r.d.STR_POLLEN).value;break;case r.b.WATER:l=this.getAbility(r.d.STR_WATER).value}return l-this.baskets[n]},n.prototype.storageFull=function(){return(this.foragingTypes.nectar?this.storageAmount(r.b.NECTAR):0)+(this.foragingTypes.pollen?this.storageAmount(r.b.POLLEN):0)+(this.foragingTypes.water?this.storageAmount(r.b.WATER):0)<=0},n.prototype.storageEmpty=function(){return this.baskets[r.b.NECTAR]+this.baskets[r.b.POLLEN]+this.baskets[r.b.WATER]<=0},n.prototype.setJob=function(n,l){if(this.jid!==n){var e=u.a.find(function(l){return l.jid===n});-1!==e.beetypes.indexOf(this.beetype)&&(this.workStatus=null,this.jid=n,this.job=e,this.msSinceWork=0,this.jobStep=l,this.nodes=[],this.nodeIds=[],this.nodeIndex=0,this.isMoving=!1)}},n.prototype.setForagingTypes=function(){this.foragingTypes={water:!1,nectar:!1,pollen:!1};for(var n=0,l=this.nodes;n<l.length;n++){var e=l[n];this.foragingTypes.nectar=this.foragingTypes.nectar||e.mapResource.nectar>0,this.foragingTypes.pollen=this.foragingTypes.pollen||e.mapResource.pollen>0,this.foragingTypes.water=this.foragingTypes.water||e.mapResource.water>0}},n.prototype.addWaypointNode=function(n){this.jid!==r.a.FORAGER&&this.setJob(r.a.FORAGER),-1===this.nodeIds.indexOf(n.id)?(this.nodes.push(n),this.nodeIds.push(n.id),this.setForagingTypes()):this.removeWaypointNode(n)},n.prototype.removeWaypointNode=function(n){this.harvesting&&n.mapResource.doneHarvesting(),n.mapResource.bees.splice(n.mapResource.bees.indexOf(this),1),this.nodes.splice(this.nodes.indexOf(n),1),this.nodeIds.splice(this.nodeIds.indexOf(n.id),1),this.setForagingTypes()},n.prototype.doSpawn=function(n,l){throw new Error("Method not implemented.")},n.prototype.doProduce=function(n,l){var e=this.getAbility(this.jobStep.rate).value,t=this.getAbility(this.jobStep.yield);if(l.storageSpace(t.rid)>=t.value&&(this.msSinceWork+=n,this.msSinceWork>=e))for(;this.msSinceWork>=e;){for(var i=[],u=!1,s=0,o=this.jobStep.cost;s<o.length;s++){var r=o[s],a=this.getAbility(r),c=l.changeResource(a.c_rid,-1*a.value);if(!(u=-1!==c.error&&c.stored===-1*a.value))break;i.push({rid:a.c_rid,amount:a.value})}if(u){var c=l.changeResource(t.rid,t.value);u=-1!==c.error&&c.stored===t.value,u||l.changeResource(t.rid,-1*c.stored)}if(!u){for(var _=0,h=i;_<h.length;_++){var d=h[_];l.changeResource(d.rid,d.amount)}this.msSinceWork=e;break}if(this.msSinceWork-=e,l.storageSpace(t.rid)<t.value)break}this.workStatus={action:this.job.name,value:this.msSinceWork/1e3,max:e/1e3,rid:t.rid}},n.prototype.startTrip=function(n,l,e){this.heading=null,this.isMoving=!0,l.beesToDraw[this.id]=this;var t=this.getAbility(r.d.SPD_FLY).value;this.tripStart=this.pos,this.tripElaspedTime=0,this.tripEnd=n.id,this.tripTotalTime=e.grid.GetHexDistance(n,e.grid.GetHexById(this.tripStart))*t},n.prototype.endTrip=function(n){this.isMoving=!1,delete n.beesToDraw[this.id],this.msSinceWork=0,this.tripStart=null,this.pos=this.tripEnd},n.prototype.doTravel=function(n,l,e){if(0===this.nodeIds.length||0===this.nodes.length)return this.nodeIds=[],this.nodes=[],this.nodeIndex=0,this.tripStart=this.tripEnd,void this.goHome(n,l,e);var t=this.nodes[this.nodeIndex].mapResource;this.tripStart!==this.pos&&this.startTrip(this.nodes[this.nodeIndex],l,e),this.tripElaspedTime+=n,this.tripElaspedTime>=this.tripTotalTime&&(this.endTrip(l),this.jobStep=this.job.actions.find(function(n){return n.action===u.b.COLLECT}),t.queueHarvest(this));var i=t.water>0?r.b.WATER:r.b.POLLEN;this.workStatus={action:"Travelling to "+this.tripEnd,value:this.tripElaspedTime/1e3,max:this.tripTotalTime/1e3,rid:i}},n.prototype.doCollect=function(n,l,e){if(0===this.nodeIds.length||0===this.nodes.length)return this.nodeIds=[],this.nodes=[],this.nodeIndex=0,void this.goHome(n,l,e);if(this.nodeIndex>=this.nodes.length&&(this.nodeIndex=this.nodes.length-1,console.log("nodeIndex out of sync! - "+this.name)),this.waitingAtResource)return void(this.workStatus={action:"Waiting at resource",value:0,max:0});var t=this.nodes[this.nodeIndex].mapResource,i=this.getAbility(this.jobStep.rate).value*t.harvestMultiplier;for(this.msSinceWork+=n;this.msSinceWork>=i;){var s=!1,o=r.b.NECTAR;t.getAvailable(o)>0&&this.storageAmount(o)>0&&(this.baskets[o]+=t.collect(o,1),s=!0),o=r.b.POLLEN,!s&&t.getAvailable(o)>0&&this.storageAmount(o)>0&&(this.baskets[o]+=t.collect(o,1),s=!0),o=r.b.WATER,!s&&t.getAvailable(o)>0&&this.storageAmount(o)>0&&(this.baskets[o]+=t.collect(o,1),s=!0),s?this.msSinceWork-=i:(this._logService.logWorkMessage(this.name+" done harvesting."),this.harvesting=!1,this.nodes[this.nodeIndex].mapResource.doneHarvesting(),this.msSinceWork-=i,this.nodeIndex+1===this.nodes.length?(this.nodeIndex=0,this.goHome(0,l,e)):this.storageFull()?this.goHome(0,l,e):(this.jobStep=this.job.actions.find(function(n){return n.action===u.b.TRAVEL}),this.nodeIndex++))}this.workStatus={action:"Collecting",rid:this.getCollectRid(t),value:this.msSinceWork/1e3,max:i/1e3}},n.prototype.getCollectRid=function(n){return this.storageAmount(r.b.NECTAR)>0&&n.getAvailable(r.b.NECTAR)>0?r.b.NECTAR:this.storageAmount(r.b.POLLEN)>0&&n.getAvailable(r.b.POLLEN)>0?r.b.POLLEN:this.storageAmount(r.b.WATER)>0&&n.getAvailable(r.b.WATER)>0?r.b.WATER:null},n.prototype.getDepositRid=function(n){var l=n.resourcesMap[r.b.NECTAR],e=n.resourcesMap[r.b.POLLEN],t=n.resourcesMap[r.b.WATER];return this.baskets[r.b.NECTAR]>0&&l.owned<l.max?r.b.NECTAR:this.baskets[r.b.POLLEN]>0&&e.owned<e.max?r.b.POLLEN:this.baskets[r.b.WATER]>0&&t.owned<t.max?r.b.WATER:this.baskets[r.b.NECTAR]>0?r.b.NECTAR:this.baskets[r.b.POLLEN]>0?r.b.POLLEN:this.baskets[r.b.WATER]>0?r.b.WATER:null},n.prototype.doDeposit=function(n,l){var e=this.getAbility(this.jobStep.rate).value;for(this.msSinceWork+=n,this.workStatus={action:"Depositing",rid:this.getDepositRid(l),value:this.msSinceWork/1e3,max:e/1e3};this.msSinceWork>=e;){var t=!1,i=r.b.NECTAR;if(this.baskets[i]>0){var s=l.changeResource(i,1);-1!==s.error&&1===s.stored&&(this.baskets[i]--,t=!0,this.workStatus.rid=i)}if(i=r.b.POLLEN,this.baskets[i]>0&&!t){var s=l.changeResource(i,1);-1!==s.error&&1===s.stored&&(this.baskets[i]--,t=!0,this.workStatus.rid=i)}if(i=r.b.WATER,this.baskets[i]>0&&!t){var s=l.changeResource(i,1);-1!==s.error&&1===s.stored&&(this.baskets[i]--,t=!0,this.workStatus.rid=i)}if(t||this.storageFull()||(this.jobStep=this.job.actions.find(function(n){return n.action===u.b.TRAVEL}),this.msSinceWork=0),!t){this.msSinceWork=e;break}this.msSinceWork-=e}},n.prototype.goHome=function(n,l,e){this.tripStart!==this.pos&&(this.jobStep=null,this.startTrip(e.grid.GetHexById(l.pos),l,e)),this.tripElaspedTime+=n,this.tripElaspedTime>=this.tripTotalTime&&(this.endTrip(l),this.jobStep=this.job.actions[0],this.job.jid===r.a.FORAGER&&(this._logService.logWorkMessage(this.name+" returned home."),this.storageEmpty()?0===this.nodeIds.length?this.setJob(r.a.IDLE):this.jobStep=this.job.actions.find(function(n){return n.action===u.b.TRAVEL}):this.jobStep=this.job.actions.find(function(n){return n.action===u.b.DEPOSIT}))),this.job.jid===r.a.IDLE?this.workStatus={action:this.job.name,value:0,max:0}:this.workStatus={action:"Going Home",value:this.tripElaspedTime/1e3,max:this.tripTotalTime/1e3}},n.prototype.checkDeath=function(n,l){for(this.msSinceDeathCheck+=n;this.msSinceDeathCheck>1e3;){var t=l.resourcesMap[r.b.DEFENSE].owned;e.i(s.c)(0,1e4+t)<this.getAbility(r.d.MORT_RATE).value&&this.die(),this.msSinceDeathCheck-=1e3}},n.prototype.doWork=function(n,l,e){if(!this.dead&&this.beetype!==_.EGG&&this.beetype!==_.LARVA){if(this.checkDeath(n,l),!this.jobStep)return void this.goHome(n,l,e);switch(this.jid){case r.a.BREEDER:this.jobStep.action===u.b.SPAWN&&this.doSpawn(n,l);break;case r.a.NURSE:case r.a.PRODUCER_FOOD:case r.a.PRODUCER_HONEY:case r.a.BUILDER:case r.a.UNDERTAKER:this.jobStep.action===u.b.PRODUCE&&this.doProduce(n,l);break;case r.a.FORAGER:this.jobStep.action===u.b.TRAVEL?this.doTravel(n,l,e):this.jobStep.action===u.b.COLLECT?this.doCollect(n,l,e):this.jobStep.action===u.b.DEPOSIT&&this.doDeposit(n,l);break;case r.a.GUARD:default:this.msSinceWork=0}}},n}(),d=function(n){function l(l){var e=n.call(this,l)||this;return e.layEgg=function(n){var l=this.genome.getEggGenome(),e=new g({id:n,dt:(new Date).getTime(),generation:this.generation+1,genome:l,queenParentId:this.id,beeMutationChance:this.beeMutationChance,pos:this.pos});return e.update(),e},e.beetype=_.QUEEN,e.hasPairs=!0,e.minDrones=10,e.droneGenomes=[],e.droneIds=[],e.update(l),e}return c(l,n),l.prototype.update=function(l){if(l&&l.droneGenomes){for(var e=0,t=l.droneGenomes;e<t.length;e++){var u=t[e];this.droneGenomes.push(new i.a(u,!1))}this.droneIds=l.droneIds}n.prototype.update.call(this,l)},l.prototype.getState=function(){var l=n.prototype.getState.call(this);return l.droneGenomes=this.droneGenomes,l.droneIds=this.droneIds,l},l.prototype.fertilizeEgg=function(n){if(n.beetype!==_.EGG)throw new Error("Can only fertilize eggs.");var l=e.i(s.c)(0,this.droneGenomes.length-1),t=this.droneGenomes[l],i=n.genome.fertilize(t);return new m({id:n.id,dt:(new Date).getTime(),generation:this.generation+1,genome:i,queenParentId:this.id,droneParentId:this.droneIds[l],beeMutationChance:this.beeMutationChance,pos:this.pos})},l.prototype.canLayEggs=function(n){return n.getNurseryCount()<n.nurseryLimit&&this.droneGenomes.length>=this.minDrones},l.prototype.mate=function(n){if(n.beetype!==_.DRONE)throw new Error("Queen cannot mate with non-drone bees");this.droneGenomes.push(n.genome),this.droneIds.push(n.id),n.die()},l.prototype.doSpawn=function(n,l){var e=this.getAbility(this.jobStep.rate).value;if(this.canLayEggs(l))for(this.msSinceWork+=n;this.msSinceWork>=e;){var t=this.layEgg(l.getNextId());l.bees.push(t),this.msSinceWork-=e}this.workStatus={action:"Laying Eggs",value:this.msSinceWork/1e3,max:e/1e3,rid:r.b.ROYAL_JELLY}},l}(h),p=function(n){function l(l){var e=n.call(this,l)||this;return e.beetype=_.WORKER,e.hasPairs=!0,e.update(l),e}return c(l,n),l.prototype.update=function(l){n.prototype.update.call(this,l)},l}(h),f=function(n){function l(l){var e=n.call(this,l)||this;return e.beetype=_.DRONE,e.hasPairs=!1,e.update(l),e}return c(l,n),l.prototype.update=function(l){n.prototype.update.call(this,l)},l}(h),g=function(n){function l(l){var e=n.call(this,l)||this;return e.beetype=_.EGG,e.hasPairs=!1,e.update(l),e}return c(l,n),l.prototype.update=function(l){n.prototype.update.call(this,l)},l.prototype.hatch=function(n){if(n===_.DRONE)return new f({id:this.id,generation:this.generation,genome:this.genome,beeMutationChance:this.beeMutationChance,pos:this.pos})},l}(h),m=function(n){function l(l){var e=n.call(this,l)||this;return e.beetype=_.LARVA,e.hasPairs=!0,e.update(l),e}return c(l,n),l.prototype.update=function(l){n.prototype.update.call(this,l)},l.prototype.mature=function(n){return n===_.WORKER?new p({id:this.id,genome:this.genome,generation:this.generation,beeMutationChance:this.beeMutationChance,pos:this.pos}):n===_.QUEEN?new d({id:this.id,genome:this.genome,generation:this.generation,beeMutationChance:this.beeMutationChance,pos:this.pos}):void 0},l}(h)},FrzW:function(n,l,e){"use strict";var t=e("TDEt"),i=e("FX7h");e.d(l,"a",function(){return u});var u=function(){function n(n){this._gameService=n,this.BeeTypes=i.a}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[{type:t.a}]},n}()},Gf3B:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(n,l){this.X=n,this.Y=l}return n}()},Gwrm:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[""]},HfiP:function(n,l,e){"use strict";function t(n){return u._28(0,[(n()(),u._29(null,["\n    "])),(n()(),u._30(0,null,null,21,"div",[["class","row"],["style","height: 95vh;"]],null,null,null,null,null)),(n()(),u._29(null,["\n    "])),(n()(),u._30(0,null,null,18,"div",[["class","col-xs-12 fullH"]],null,null,null,null,null)),(n()(),u._29(null,[" \n        "])),(n()(),u._30(0,null,null,8,"div",[["class","player-content"]],null,null,null,null,null)),(n()(),u._29(null,["\n            "])),(n()(),u._30(0,null,null,5,"div",[["class","log-component"]],null,null,null,null,null)),(n()(),u._29(null,["\n            "])),(n()(),u._30(0,null,null,2,"pre",[],null,null,null,null,null)),(n()(),u._29(null,["",""])),u._31(0,s.l,[]),(n()(),u._29(null,["\n            "])),(n()(),u._29(null,["            \n        "])),(n()(),u._29(null,["\n        "])),(n()(),u._30(0,null,null,5,"textarea",[["readonly",""],["rows","5"],["style","width:100%; color:black;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0;if("input"===l){t=!1!==u._32(n,16)._handleInput(e.target.value)&&t}if("blur"===l){t=!1!==u._32(n,16).onTouched()&&t}if("compositionstart"===l){t=!1!==u._32(n,16)._compositionStart()&&t}if("compositionend"===l){t=!1!==u._32(n,16)._compositionEnd(e.target.value)&&t}return t},null,null)),u._33(8192,null,0,o.d,[u.G,u.H,[2,o.e]],null,null),u._34(512,null,o.f,function(n){return[n]},[o.d]),u._33(335872,null,0,o.g,[[8,null],[8,null],[8,null],[2,o.f]],{model:[0,"model"]},null),u._34(1024,null,o.h,null,[o.g]),u._33(8192,null,0,o.i,[o.h],null,null),(n()(),u._29(null,["\n    "])),(n()(),u._29(null,["\n    "]))],function(n,l){var e=l.component;n(l,18,0,u._35(1,"",e._gameService.lastSave,""))},function(n,l){var e=l.component;n(l,10,0,u._36(l,10,0,u._32(l,11).transform(e._gameService.map.getState()))),n(l,15,0,u._32(l,20).ngClassUntouched,u._32(l,20).ngClassTouched,u._32(l,20).ngClassPristine,u._32(l,20).ngClassDirty,u._32(l,20).ngClassValid,u._32(l,20).ngClassInvalid,u._32(l,20).ngClassPending)})}function i(n){return u._28(0,[(n()(),u._30(0,null,null,1,"ng-component",[],null,null,null,t,_)),u._33(57344,null,0,r.a,[a.a],null,null)],function(n,l){n(l,1,0)},null)}var u=e("3j3K"),s=e("2Je8"),o=e("NVOs"),r=e("8ue6"),a=e("TDEt");e.d(l,"a",function(){return h});var c=[],_=u._27({encapsulation:2,styles:c,data:{}}),h=u._37("ng-component",r.a,i,{},{},[])},Iksp:function(n,l,e){"use strict";function t(n,l,e){return null==e&&(e=Math.random),Math.floor(e()*(l-n+1)+n)}var i=e("3j3K");e.d(l,"a",function(){return s}),e.d(l,"b",function(){return u}),l.c=t,e.d(l,"d",function(){return o});var u,s=function(){function n(n){this.injector=n,u=this.injector}return n.ctorParameters=function(){return[{type:i.U}]},n}(),o={new:function(){function n(n){var l=(Math.random().toString(16)+"000000000").substr(2,8);return n?"-"+l.substr(0,4)+"-"+l.substr(4,4):l}return n()+n(!0)+n(!0)+n()},empty:function(){return"00000000-0000-0000-0000-000000000000"}}},NOax:function(n,l,e){"use strict";var t=e("yQWr");e.d(l,"b",function(){return i}),e.d(l,"a",function(){return u});var i=function(){function n(n){this.abilityId=n.abilityId,this.name=n.name,this.desc=n.name,this.rid=n.rid,this.c_rid=n.c_rid,this.baseValue=n.baseValue,this.value=null!=n.value?n.value:n.baseValue}return n}(),u=[{abilityId:t.d.DEF,name:"Defense",desc:"Ability to defend the hive.",baseValue:1,rid:"defense"},{abilityId:t.d.RNG,name:"Range",desc:"Number of cells a bee can fly before having to return to the hive.",baseValue:2},{abilityId:t.d.STR_POLLEN,name:"Pollen Storage",desc:"The amount of pollen a bee can hold.",baseValue:10,rid:t.b.POLLEN},{abilityId:t.d.STR_NECTAR,name:"Nectar Storage",desc:"The amount of nectar a bee can hold.",baseValue:10,rid:t.b.NECTAR},{abilityId:t.d.STR_WATER,name:"Water Storage",desc:"The amount of water a bee can hold.",baseValue:10,rid:t.b.WATER},{abilityId:t.d.SPD_FLY,name:"Flight Speed",desc:"The rate at which a bee can traverse 1 cell.",baseValue:4e3},{abilityId:t.d.SPD_CLT,name:"Collection Speed",desc:"The rate at which a bee can collect 1 resource from a node.",baseValue:1e3},{abilityId:t.d.SPD_DEP,name:"Deposit Speed",desc:"The rate at which a bee can deposits 1 resource from its resource baskets.",baseValue:1500},{abilityId:t.d.PRD_HONEY,name:"%(resource)s Production Rate",desc:"The rate at which a bee can produce %(resource)s.",baseValue:1e4,rid:t.b.HONEY},{abilityId:t.d.YLD_HONEY,name:"%(resource) Production Yield",desc:"The amount of %(resource)s a bee can produce.",baseValue:4,rid:t.b.HONEY},{abilityId:t.d.COST_HONEY_NECTAR,name:"%(resource)s Production Cost (%(cost)s)",desc:"The amount of %(cost)s a bee needs to produce %(resource)s.",baseValue:2,rid:t.b.HONEY,c_rid:t.b.NECTAR},{abilityId:t.d.PRD_WAX,name:"%(resource)s Production Rate",desc:"The rate at which a bee can produce %(resource)s.",baseValue:3e4,rid:t.b.WAX},{abilityId:t.d.YLD_WAX,name:"%(resource) Production Yield",desc:"The amount of %(resource)s a bee can produce.",baseValue:1,rid:t.b.WAX},{abilityId:t.d.COST_WAX_FOOD,name:"%(resource)s Production Cost (%(cost)s)",desc:"The amount of %(cost)s a bee needs to produce %(resource)s.",baseValue:2,rid:t.b.WAX,c_rid:t.b.FOOD},{abilityId:t.d.PRD_JELLY,name:"%(resource)s Production Rate",desc:"The rate at which a bee can produce %(resource)s.",baseValue:3e4,rid:t.b.ROYAL_JELLY},{abilityId:t.d.YLD_JELLY,name:"%(resource) Production Yield",desc:"The amount of %(resource)s a bee can produce.",baseValue:1,rid:t.b.ROYAL_JELLY},{abilityId:t.d.COST_JELLY_HONEY,name:"%(resource)s Production Cost (%(cost)s)",desc:"The amount of %(cost)s a bee needs to produce %(resource)s.",baseValue:10,rid:t.b.ROYAL_JELLY,c_rid:t.b.HONEY},{abilityId:t.d.COST_JELLY_POLLEN,name:"%(resource)s Production Cost (%(cost)s)",desc:"The amount of %(cost)s a bee needs to produce %(resource)s.",baseValue:10,rid:t.b.ROYAL_JELLY,c_rid:t.b.POLLEN},{abilityId:t.d.PRD_FOOD,name:"%(resource)s Production Rate",desc:"The rate at which a bee can produce %(resource)s.",baseValue:1e4,rid:t.b.FOOD},{abilityId:t.d.YLD_FOOD,name:"%(resource) Production Yield",desc:"The amount of %(resource)s a bee can produce.",baseValue:1,rid:t.b.FOOD},{abilityId:t.d.COST_FOOD_POLLEN,name:"%(resource)s Production Cost (%(cost)s)",desc:"The amount of %(cost)s a bee needs to produce %(resource)s.",baseValue:2,rid:t.b.FOOD,c_rid:t.b.POLLEN},{abilityId:t.d.COST_FOOD_HONEY,name:"%(resource)s Production Cost (%(cost)s)",desc:"The amount of %(cost)s a bee needs to produce %(resource)s.",baseValue:1,rid:t.b.FOOD,c_rid:t.b.HONEY},{abilityId:t.d.COST_FOOD_WATER,name:"%(resource)s Production Cost (%(cost)s)",desc:"The amount of %(cost)s a bee needs to produce %(resource)s.",baseValue:2,rid:t.b.FOOD,c_rid:t.b.WATER},{abilityId:t.d.COST_FOOD_DEADBEES,name:"%(resource)s Production Cost (%(cost)s)",desc:"The amount of %(cost)s a bee needs to produce %(resource)s.",baseValue:1,rid:t.b.FOOD,c_rid:t.b.DEADBEES},{abilityId:t.d.PRD_EGG,name:"Egg Production",desc:"The rate at which a bee can produce eggs.",baseValue:3e4},{abilityId:t.d.MORT_RATE,name:"Mortality rate",desc:"Odds out of base 1,000,000 that a bee will die per work cycle.",baseValue:1}]},NgIG:function(n,l,e){"use strict";var t=e("yQWr");e.d(l,"a",function(){return i}),e.d(l,"b",function(){return u});var i=function(){function n(n){this.rid=n.rid,this.name=n.name,this.desc=n.desc,this.jid=n.jid,this.icon=n.icon,this.owned=n.owned||0,this.max=n.max||0}return n}(),u=[{rid:t.b.NECTAR,name:"Nectar",desc:"Used for creating honey.",jid:t.a.FORAGER,icon:"fa-tint"},{rid:t.b.POLLEN,name:"Pollen",desc:"Used for food creation.",jid:t.a.FORAGER,icon:"icon-pollen"},{rid:t.b.WATER,name:"Water",desc:"Used for food creation and breeding.",jid:t.a.FORAGER,icon:"icon-water"},{rid:t.b.FOOD,name:"Food",desc:"Nurishment for the hive.",jid:t.a.PRODUCER_FOOD,icon:"fa-apple"},{rid:t.b.HONEY,name:"Honey",desc:"Used for making royal jelly and food and in building.",jid:t.a.PRODUCER_HONEY,icon:"icon-honeypot"},{rid:t.b.ROYAL_JELLY,name:"Royal Jelly",desc:"Used for breeding new queens.",jid:t.a.NURSE,icon:"icon-jar"},{rid:t.b.WAX,name:"Wax",desc:"Used in honeycomb construction.",jid:t.a.BUILDER,icon:"icon-tools"},{rid:t.b.DEADBEES,name:"Dead bees",desc:"Dead bees that take up space, convert them to food.",jid:t.a.UNDERTAKER,icon:"icon-tombstone",max:-1},{rid:t.b.DEFENSE,name:"Defense",desc:"Hive defensive ability.",jid:t.a.GUARD,icon:"icon-shield",max:-1}]},OolY:function(n,l,e){"use strict";var t=e("Gf3B");e.d(l,"a",function(){return i});var i=function(){function n(n,l,e,t){this.draw=function(n,l,e){this.inRoute?n.fillStyle="aqua":this.inRange?n.fillStyle="tomato":this.selected?n.fillStyle="#7283BA":n.fillStyle="#63422B",n.strokeStyle="#FFE200",n.lineWidth=this.config.STROKEWIDTH,n.beginPath(),n.moveTo(this.Points[0].X,this.Points[0].Y);for(var t=1;t<this.Points.length;t++){var i=this.Points[t];n.lineTo(i.X,i.Y)}if(n.closePath(),n.fill(),n.stroke(),this.id&&(l||e)){n.fillStyle="black",n.font="bolder 8pt Trebuchet MS,Tahoma,Verdana,Arial,sans-serif",n.textAlign="center",n.textBaseline="middle";var u="";l&&(u+=this.id+" "),e&&(u+=this.row+","+this.col),n.fillText(u,this.MidPoint.X,this.MidPoint.Y)}},this.config=t||{HEIGHT:91.14378277661477,WIDTH:91.14378277661477,SIDE:50,MARGIN:0},this.id=n,this.col=l,this.row=e,this.selected=!1,this.inRange=!1,this.inRoute=!1,this.Relocate(this.config)}return n.prototype.Relocate=function(n){this.config=n;var l=this.col*(n.WIDTH+n.SIDE/2)-this.col*n.WIDTH/2,e=this.row*(n.HEIGHT/2),i=(n.WIDTH-n.SIDE)/2,u=n.HEIGHT/2;n.MARGIN&&(l+=n.MARGIN,e+=n.MARGIN),this.Points=[],this.Points.push(new t.a(i+l,e)),this.Points.push(new t.a(i+n.SIDE+l,e)),this.Points.push(new t.a(n.WIDTH+l,u+e)),this.Points.push(new t.a(i+n.SIDE+l,n.HEIGHT+e)),this.Points.push(new t.a(i+l,n.HEIGHT+e)),this.Points.push(new t.a(l,u+e)),this.TopLeftPoint=new t.a(l,e),this.BottomRightPoint=new t.a(l+n.WIDTH,e+n.HEIGHT),this.MidPoint=new t.a(l+n.WIDTH/2,e+n.HEIGHT/2)},n.prototype.isInBounds=function(n,l){return this.Contains(new t.a(n,l))},n.prototype.isInHexBounds=function(n){return this.TopLeftPoint.X<n.X&&this.TopLeftPoint.Y<n.Y&&n.X<this.BottomRightPoint.X&&n.Y<this.BottomRightPoint.Y},n.prototype.Contains=function(n){var l=!1;if(this.isInHexBounds(n)){var e,t=0;for(e=0,t=this.Points.length-1;e<this.Points.length;t=e++){var i=this.Points[e],u=this.Points[t];(i.Y<=n.Y&&n.Y<u.Y||u.Y<=n.Y&&n.Y<i.Y)&&n.X<(u.X-i.X)*(n.Y-i.Y)/(u.Y-i.Y)+i.X&&(l=!l)}}return l},n.prototype.distanceFromMidPoint=function(n){var l=this.MidPoint.X-n.X,e=this.MidPoint.Y-n.Y;return Math.sqrt(l*l+e*e)},n}()},R6yu:function(n,l,e){"use strict";function t(n){return p._28(0,[(n()(),p._30(0,null,null,13,"div",[["class","progress progress-custom"]],null,null,null,null,null)),(n()(),p._29(null,["\n                        "])),(n()(),p._30(0,null,null,10,"progressbar",[],null,null,null,f.a,f.b)),p._33(24576,null,0,g.a,[m.a],{max:[0,"max"],value:[1,"value"]},null),(n()(),p._29(0,["\n                            "])),(n()(),p._30(0,null,0,3,"span",[["class","workers"]],null,null,null,null,null)),(n()(),p._30(0,null,null,1,"i",[["class","fa"]],null,null,null,null,null)),p._33(139264,null,0,v.o,[p.t,p.u,p.H,p.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),p._29(null,[" ",""])),(n()(),p._29(0,["\n                            "])),(n()(),p._30(0,null,0,1,"span",[["class","amounts"]],null,null,null,null,null)),(n()(),p._29(null,[""," / ",""])),(n()(),p._29(0,["\n                        "])),(n()(),p._29(null,["\n                    "]))],function(n,l){n(l,3,0,l.parent.context.$implicit.max,l.parent.context.$implicit.owned),n(l,7,0,"fa",l.parent.context.$implicit.icon)},function(n,l){n(l,8,0,l.component.getWorkerCount(l.parent.context.$implicit.jid)),n(l,11,0,l.parent.context.$implicit.owned,l.parent.context.$implicit.max)})}function i(n){return p._28(0,[(n()(),p._30(0,null,null,13,"div",[["class","progress progress-custom"]],null,null,null,null,null)),(n()(),p._29(null,["\n                        "])),(n()(),p._30(0,null,null,10,"progressbar",[],null,null,null,f.a,f.b)),p._33(24576,null,0,g.a,[m.a],{max:[0,"max"],value:[1,"value"]},null),(n()(),p._29(0,["\n                            "])),(n()(),p._30(0,null,0,3,"span",[["class","workers"]],null,null,null,null,null)),(n()(),p._30(0,null,null,1,"i",[["class","fa"]],null,null,null,null,null)),p._33(139264,null,0,v.o,[p.t,p.u,p.H,p.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),p._29(null,[" ",""])),(n()(),p._29(0,["\n                            "])),(n()(),p._30(0,null,0,1,"span",[["class","amounts"]],null,null,null,null,null)),(n()(),p._29(null,["",""])),(n()(),p._29(0,["\n                        "])),(n()(),p._29(null,["\n                    "]))],function(n,l){n(l,3,0,0,0),n(l,7,0,"fa",l.parent.context.$implicit.icon)},function(n,l){n(l,8,0,l.component.getWorkerCount(l.parent.context.$implicit.jid)),n(l,11,0,l.parent.context.$implicit.owned)})}function u(n){return p._28(0,[(n()(),p._30(0,null,null,8,"span",[],null,null,null,null,null)),(n()(),p._29(null,["                                \n                                "])),(n()(),p._30(0,null,null,1,"i",[["class","fa"]],[[1,"data-rid",0]],null,null,null,null)),p._33(139264,null,0,v.o,[p.t,p.u,p.H,p.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),p._29(null,["\n                                "])),(n()(),p._29(null,["\n                                "])),(n()(),p._30(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),p._29(null,["",""])),(n()(),p._29(null,["\n                            "]))],function(n,l){n(l,3,0,"fa",l.context.$implicit.resource.icon)},function(n,l){n(l,2,0,l.context.$implicit.resource.rid),n(l,7,0,l.context.$implicit.amount)})}function s(n){return p._28(0,[(n()(),p._30(0,null,null,7,"p",[["style","white-space:nowrap"]],null,null,null,null,null)),(n()(),p._29(null,["\n                            "])),(n()(),p._30(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),p._29(null,["Requires: "])),(n()(),p._29(null,["\n                            "])),(n()(),p._41(8388608,null,null,1,null,u)),p._33(401408,null,0,v.r,[p.P,p._5,p.t],{ngForOf:[0,"ngForOf"]},null),(n()(),p._29(null,["\n                        "]))],function(n,l){n(l,6,0,l.parent.context.ngIf.costs)},null)}function o(n){return p._28(0,[(n()(),p._30(0,null,null,14,"p",[["style","white-space:nowrap"]],null,null,null,null,null)),(n()(),p._29(null,["\n                            "])),(n()(),p._30(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),p._29(null,["Yields: "])),(n()(),p._29(null,["\n                            "])),(n()(),p._30(0,null,null,8,"span",[],null,null,null,null,null)),(n()(),p._29(null,["                                \n                                "])),(n()(),p._30(0,null,null,1,"i",[["class","fa"]],[[1,"data-rid",0]],null,null,null,null)),p._33(139264,null,0,v.o,[p.t,p.u,p.H,p.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),p._29(null,["\n                                "])),(n()(),p._29(null,["\n                                "])),(n()(),p._30(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),p._29(null,["",""])),(n()(),p._29(null,["\n                            "])),(n()(),p._29(null,["\n                        "]))],function(n,l){n(l,8,0,"fa",l.parent.context.ngIf.y_resource.icon)},function(n,l){n(l,7,0,l.parent.context.ngIf.y_resource.rid),n(l,12,0,l.parent.context.ngIf.y_amount)})}function r(n){return p._28(0,[(n()(),p._30(0,null,null,10,"div",[["style","text-align: left;"]],null,null,null,null,null)),(n()(),p._29(null,["\n                        "])),(n()(),p._30(0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),p._29(null,["",""])),(n()(),p._29(null,["\n\n                        "])),(n()(),p._41(8388608,null,null,1,null,s)),p._33(8192,null,0,v.n,[p.P,p._5],{ngIf:[0,"ngIf"]},null),(n()(),p._29(null,["\n                        "])),(n()(),p._41(8388608,null,null,1,null,o)),p._33(8192,null,0,v.n,[p.P,p._5],{ngIf:[0,"ngIf"]},null),(n()(),p._29(null,["\n                    "]))],function(n,l){n(l,6,0,l.context.ngIf.costs),n(l,9,0,l.context.ngIf.y_resource)},function(n,l){n(l,3,0,l.parent.parent.context.$implicit.desc)})}function a(n){return p._28(0,[(n()(),p._29(null,["\n\n                    "])),(n()(),p._41(8388608,null,null,1,null,r)),p._33(8192,null,0,v.n,[p.P,p._5],{ngIf:[0,"ngIf"]},null),(n()(),p._29(null,["\n\n                "]))],function(n,l){n(l,2,0,l.component.getResourceRequirements(l.parent.context.$implicit.jid))},null)}function c(n){return p._28(0,[(n()(),p._30(0,null,null,21,"div",[["bloqheadDropTarget",""],["class","row"]],[[1,"data-rid",0]],[[null,"onDrop"],[null,"dragenter"],[null,"dragleave"],[null,"drop"]],function(n,l,e){var t=!0,i=n.component;if("dragenter"===l){t=!1!==p._32(n,1).dragEnter(e)&&t}if("dragleave"===l){t=!1!==p._32(n,1).dragLeave(e)&&t}if("drop"===l){t=!1!==p._32(n,1).drop(e)&&t}if("onDrop"===l){t=!1!==i.dropped(e,n.context.$implicit.jid)&&t}return t},null,null)),p._33(106496,null,0,b.b,[p.H,p.h],{dropTargetId:[0,"dropTargetId"],enabled:[1,"enabled"]},{onDrop:"onDrop"}),(n()(),p._29(null,["\n                "])),(n()(),p._30(0,null,null,5,"div",[["class","col-xs-12 col-sm-3"]],null,null,null,null,null)),(n()(),p._29(null,["\n                    "])),(n()(),p._30(8388608,null,null,2,"h5",[["container","body"],["placement","right"]],null,null,null,null,null)),p._33(106496,null,0,y.a,[p.P,p.G,p.H,S.a,E.a],{tooltip:[0,"tooltip"],placement:[1,"placement"],container:[2,"container"]},null),(n()(),p._29(null,["",""])),(n()(),p._29(null,["\n                "])),(n()(),p._29(null,["\n                "])),(n()(),p._30(0,null,null,7,"div",[["class","col-xs-12 col-sm-9"]],null,null,null,null,null)),(n()(),p._29(null,["\n                    "])),(n()(),p._41(8388608,null,null,1,null,t)),p._33(8192,null,0,v.n,[p.P,p._5],{ngIf:[0,"ngIf"]},null),(n()(),p._29(null,["\n                    "])),(n()(),p._41(8388608,null,null,1,null,i)),p._33(8192,null,0,v.n,[p.P,p._5],{ngIf:[0,"ngIf"]},null),(n()(),p._29(null,["\n                "])),(n()(),p._29(null,["\n\n                "])),(n()(),p._41(0,[["prodReqTooltip",2]],null,0,null,a)),(n()(),p._29(null,["\n\n                "])),(n()(),p._29(null,["\n\n            "]))],function(n,l){n(l,1,0,l.context.$implicit.jid,"forager"!==l.context.$implicit.jid),n(l,6,0,p._32(l,19),"right","body"),n(l,13,0,-1!==l.context.$implicit.max),n(l,16,0,-1===l.context.$implicit.max)},function(n,l){n(l,0,0,l.context.$implicit.rid),n(l,7,0,l.context.$implicit.name)})}function _(n){return p._28(0,[(n()(),p._30(0,null,null,16,"div",[["class","player-box"]],null,null,null,null,null)),(n()(),p._29(null,["\n    "])),(n()(),p._30(0,null,null,3,"h3",[["class","box-title"]],null,null,null,null,null)),(n()(),p._29(null,["\n        "])),(n()(),p._30(0,null,null,0,"i",[["class","fa fa-th"]],null,null,null,null,null)),(n()(),p._29(null,[" Resources\n    "])),(n()(),p._29(null,["\n    "])),(n()(),p._30(0,null,null,8,"div",[["class","player-content"]],null,null,null,null,null)),(n()(),p._29(null,["\n        "])),(n()(),p._30(0,null,null,4,"div",[["class","resource-list col-xs-12"]],null,null,null,null,null)),(n()(),p._29(null,["\n            "])),(n()(),p._41(8388608,null,null,1,null,c)),p._33(401408,null,0,v.r,[p.P,p._5,p.t],{ngForOf:[0,"ngForOf"]},null),(n()(),p._29(null,["\n        "])),(n()(),p._29(null,["\n\n\n\n        "])),(n()(),p._29(null,["\n    "])),(n()(),p._29(null,["\n"]))],function(n,l){n(l,12,0,l.component._gameService.map.currentHive.resources)},null)}function h(n){return p._28(0,[(n()(),p._30(0,null,null,1,"bloqhead-resource-list",[],null,null,null,_,O)),p._33(57344,null,0,T.a,[R.a,w.a],null,null)],function(n,l){n(l,1,0)},null)}var d=e("wELa"),p=e("3j3K"),f=e("jdw6"),g=e("UxEy"),m=e("nLnT"),v=e("2Je8"),b=e("CNxT"),y=e("IPKB"),S=e("F6a+"),E=e("O46L"),T=e("+LT7"),R=e("TDEt"),w=e("XPFw");e.d(l,"b",function(){return O}),l.a=_;var I=[d.a],O=p._27({encapsulation:0,styles:I,data:{}});p._37("bloqhead-resource-list",T.a,h,{},{},[])},RwyB:function(n,l,e){"use strict";var t=e("Iksp");e.d(l,"a",function(){return i});var i=function(){function n(n,l){this.chromosomeCount=n&&n.chromosomeCount||10,this.hasPairs=n&&n.hasPairs||l||!1,this.mutationChance=n&&n.mutationChance||.005,this.loadChromosomes(n&&n.chromosomes||null)}return n.prototype.loadChromosomes=function(n){if(this.chromosomes=[[]],null!=n)for(var l=0,e=0,t=n;e<t.length;e++){var i=t[e];this.chromosomes.length-1<l&&this.chromosomes.push([]);for(var u=0,o=i;u<o.length;u++){var r=o[u];this.chromosomes[l].push(new s(r))}l++}else for(var a=this.hasPairs?2:1,c=0;c<a;c++){this.chromosomes.length-1<c&&this.chromosomes.push([]);for(var _=0;_<this.chromosomeCount;_++){var h=new s;h.mutationChance=this.mutationChance,this.chromosomes[c].push(h)}}},n.prototype.getGene=function(n,l){var e=this.chromosomes[0][n].getGene(l);return this.hasPairs&&(e=e||this.chromosomes[1][n].getGene(l)),e},n.prototype.fertilize=function(n){var l,e=[[]];if(this.hasPairs||n.hasPairs)throw new Error("Cannot mate genomes with chromosome pairs.");return e[0]=Object.assign({},this.chromosomes[0]),e[1]=Object.assign({},n.chromosomes[0]),l},n.prototype.getEggGenome=function(){for(var l=[[]],i=0;i<this.chromosomeCount;i++){var u=e.i(t.c)(0,1),s=this.chromosomes[u][i];l[0].push(Object.assign({},s))}return new n({hasPairs:!1,chromosomeCount:this.chromosomeCount,chromosomes:l,mutationChance:this.mutationChance})},n}(),u=[1,2,4,8,16,32,64,128,256,512,1024],s=function(){function n(n){if(this.geneCount=n&&n.geneCount||10,this.mutationChance=n&&n.mutationChance||.005,this.genes=n&&null!=n.genes?n.genes:e.i(t.c)(0,Math.pow(2,this.geneCount)),u.length<this.geneCount)for(var l=u.length;l<this.geneCount;l++)u.push(Math.pow(2,l))}return n.prototype.toBitString=function(){return this.genes.toString(2)},n.prototype.getGene=function(n){return 1==(this.genes&u[n])},n.prototype.doMutation=function(){this.mutationString="";for(var n=0;n<this.geneCount;n++)Math.random()<this.mutationChance?this.mutationString+="1":this.mutationString+="0";this.genes^=parseInt(this.mutationString,2)},n}()},S022:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(){}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()},TDEt:function(n,l,e){"use strict";var t=e("3j3K"),i=e("TfWX"),u=(e.n(i),e("2okv")),s=e("XPFw"),o=e("fgLA"),r=e("TOa9");e.n(r);e.d(l,"a",function(){return a});var a=function(){function n(n,l,e){this._configService=n,this._logService=l,this.ngZone=e,this.gameSaveKey="GENETIX_SAVE",this.lastSave="",this.offlineMs=0,this._elapsedMs=new i.BehaviorSubject(0),this._running=new i.BehaviorSubject(!0),this._processAwayTime=new i.BehaviorSubject(!1),this._processedAwayMs=new i.BehaviorSubject(0),this._msSinceAutoSave=0,this._maxAwayMs=6e5,this.animationEvent$=this._elapsedMs.asObservable(),this.stateChangeEvent$=this._running.asObservable(),this.processAwayEvent$=this._processAwayTime.asObservable(),this.processingEvent$=this._processedAwayMs.asObservable(),this.initGame()}return n.prototype.initGame=function(){var n=Date.now();this._animationRequest&&window.cancelAnimationFrame(this._animationRequest),this._logService.clearLog("Welcome to Genetix!");var l=localStorage.getItem(this.gameSaveKey),e=r.decompressFromBase64(l);this.lastSave=l;var t=e?JSON.parse(e):null;this.saveTime=t&&t.saveTime||n,this.lastTime=null,this.map=null,this.stepTimeMs=t&&t.stepTimeMs||66,t&&t.map?this.map=new u.a(this.stepTimeMs,t.map):this.map=new u.a(this.stepTimeMs,null),this.map.needsRecenter=!0,this._msSinceAutoSave=0,this._elapsedMs.next(0),this.offlineMs=n-this.saveTime,this.offlineMs>=this.stepTimeMs&&(this.offlineMs>=this._maxAwayMs?this._processAwayTime.next(!0):(this.map.handleGameLoop(this.offlineMs),this.offlineMs=0)),this._animationRequest=window.requestAnimationFrame(this.gameLoop.bind(this))},n.prototype.gameLoop=function(n){if(this._animationRequest=null,!this._processAwayTime.value){var l=Date.now(),e=l-this.saveTime;this.saveTime=l,null==this.lastTime&&(this.lastTime=n);var t=Math.floor((n-this.lastTime)/this.stepTimeMs),i=this.stepTimeMs*t;if(this.lastTime+=i,i>=this._maxAwayMs)return this.offlineMs=i,this._processAwayTime.next(!0),void(this.lastTime=0);this._running.value&&t>0&&(this.map.handleGameLoop(i),this._msSinceAutoSave+=i,this._msSinceAutoSave>=3e4&&this.saveGame()),this._animationRequest||(this._animationRequest=window.requestAnimationFrame(this.gameLoop.bind(this)))}this._elapsedMs.next(e)},n.prototype.processOfflineTime=function(){var n=this;if(this._animationRequest=null,this._processAwayTime&&this._processedAwayMs.value<=this.offlineMs){this._logService.enabled=!1;var l=this._processedAwayMs.value+this._maxAwayMs,e=this._maxAwayMs;l>this.offlineMs&&(e=l-this.offlineMs,l=this.offlineMs,this._processAwayTime.next(!1)),this.lastTime%4==0?this.ngZone.run(function(){n._processedAwayMs.next(l)}):this._processedAwayMs.next(l),this.map.handleGameLoop(e,!0),this.lastTime++,this._animationRequest||(this._animationRequest=window.requestAnimationFrame(this.processOfflineTime.bind(this)))}else this.lastTime=null,this._processAwayTime.next(!1),this._processedAwayMs.next(0),this._logService.enabled=!0,this.saveTime=Date.now(),this.saveGame(),this._animationRequest||this.ngZone.run(function(){n._animationRequest=window.requestAnimationFrame(n.gameLoop.bind(n))})},n.prototype.toggleState=function(){this._running.next(!this._running.value)},n.prototype.saveGame=function(){var n={saveTime:this.saveTime,stepTimeMs:this.stepTimeMs,map:this.map.getState()};this._msSinceAutoSave=0;var l=r.compressToBase64(JSON.stringify(n));this.lastSave=l,localStorage.setItem(this.gameSaveKey,l),this._logService.logGeneralMessage("Game saved.")},n.prototype.hardReset=function(){localStorage.removeItem(this.gameSaveKey),this.initGame()},n.prototype.getResourceType=function(n){return this._configService.getResourceById(n)},n.ctorParameters=function(){return[{type:s.a},{type:o.a},{type:t.h}]},n}()},"TO/J":function(n,l,e){"use strict";function t(n){return c._28(0,[(n()(),c._30(0,null,null,9,"div",[],null,null,null,null,null)),(n()(),c._29(null,["\n                    "])),(n()(),c._29(null,["\n                    "])),(n()(),c._30(8388608,null,null,5,"div",[["container","body"],["placement","bottom"]],null,null,null,null,null)),c._33(106496,null,0,_.a,[c.P,c.G,c.H,h.a,d.a],{tooltip:[0,"tooltip"],placement:[1,"placement"],container:[2,"container"]},null),(n()(),c._29(null,["\n                        "])),(n()(),c._30(0,null,null,1,"button",[["class","btn btn-xs btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i._gameService.map.currentHive.build(n.parent.context.$implicit)&&t}return t},null,null)),(n()(),c._29(null,["\n                            ","\n                        "])),(n()(),c._29(null,["\n                    "])),(n()(),c._29(null,["\n                "]))],function(n,l){n(l,4,0,c._32(l.parent,5),"bottom","body")},function(n,l){n(l,6,0,!l.parent.context.$implicit.canBuild),n(l,7,0,l.parent.context.$implicit.name+" ("+(l.parent.context.$implicit.gifted+l.parent.context.$implicit.purchased)+")")})}function i(n){return c._28(0,[(n()(),c._30(0,null,null,8,"span",[],null,null,null,null,null)),(n()(),c._29(null,["\n                                "])),(n()(),c._30(0,null,null,1,"i",[["class","fa"]],[[1,"data-rid",0]],null,null,null,null)),c._33(139264,null,0,p.o,[c.t,c.u,c.H,c.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),c._29(null,["\n                                "])),(n()(),c._29(null,["\n                                "])),(n()(),c._30(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),c._29(null,["",""])),(n()(),c._29(null,["\n                            "]))],function(n,l){n(l,3,0,"fa",l.context.$implicit.resource.icon)},function(n,l){n(l,2,0,l.context.$implicit.resource.rid),n(l,7,0,l.context.$implicit.amount)})}function u(n){return c._28(0,[(n()(),c._29(null,["\n\n                    "])),(n()(),c._30(0,null,null,13,"div",[["style","text-align: left;"]],null,null,null,null,null)),(n()(),c._29(null,["\n                        "])),(n()(),c._30(0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),c._29(null,["",""])),(n()(),c._29(null,["\n\n                        "])),(n()(),c._30(0,null,null,7,"p",[["style","white-space:nowrap"]],null,null,null,null,null)),(n()(),c._29(null,["\n                            "])),(n()(),c._30(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),c._29(null,["Requires: "])),(n()(),c._29(null,["\n                            "])),(n()(),c._41(8388608,null,null,1,null,i)),c._33(401408,null,0,p.r,[c.P,c._5,c.t],{ngForOf:[0,"ngForOf"]},null),(n()(),c._29(null,["\n                        "])),(n()(),c._29(null,["\n                    "])),(n()(),c._29(null,["\n\n                "]))],function(n,l){n(l,12,0,l.parent.context.$implicit.getNextCost())},function(n,l){n(l,4,0,l.parent.context.$implicit.description)})}function s(n){return c._28(0,[(n()(),c._30(0,null,null,6,"div",[["class","scalable-list-button-big"]],null,null,null,null,null)),(n()(),c._29(null,["\n                "])),(n()(),c._41(8388608,null,null,1,null,t)),c._33(8192,null,0,p.n,[c.P,c._5],{ngIf:[0,"ngIf"]},null),(n()(),c._29(null,["\n                "])),(n()(),c._41(0,[["costTooltip",2]],null,0,null,u)),(n()(),c._29(null,["\n            "]))],function(n,l){n(l,3,0,l.context.$implicit.getNextCost().length>0)},null)}function o(n){return c._28(0,[(n()(),c._30(0,null,null,15,"div",[["class","player-box"]],null,null,null,null,null)),(n()(),c._29(null,["\n    "])),(n()(),c._30(0,null,null,3,"h3",[["class","box-title"]],null,null,null,null,null)),(n()(),c._29(null,["\n        "])),(n()(),c._30(0,null,null,0,"i",[["class","fa fa-building"]],null,null,null,null,null)),(n()(),c._29(null,[" Hive Expansion\n    "])),(n()(),c._29(null,["\n    "])),(n()(),c._30(0,null,null,7,"div",[["class","player-content"]],null,null,null,null,null)),(n()(),c._29(null,["\n        "])),(n()(),c._30(0,null,null,4,"div",[["class","building-list col-xs-12"]],null,null,null,null,null)),(n()(),c._29(null,["\n            "])),(n()(),c._41(8388608,null,null,1,null,s)),c._33(401408,null,0,p.r,[c.P,c._5,c.t],{ngForOf:[0,"ngForOf"]},null),(n()(),c._29(null,["\n        "])),(n()(),c._29(null,["\n    "])),(n()(),c._29(null,["\n"]))],function(n,l){n(l,12,0,l.component._gameService.map.currentHive.buildings)},null)}function r(n){return c._28(0,[(n()(),c._30(0,null,null,1,"bloqhead-building-list",[],null,null,null,o,v)),c._33(57344,null,0,f.a,[g.a],null,null)],function(n,l){n(l,1,0)},null)}var a=e("Gwrm"),c=e("3j3K"),_=e("IPKB"),h=e("F6a+"),d=e("O46L"),p=e("2Je8"),f=e("D4sV"),g=e("TDEt");e.d(l,"b",function(){return v}),l.a=o;var m=[a.a],v=c._27({encapsulation:0,styles:m,data:{}});c._37("bloqhead-building-list",f.a,r,{},{},[])},Tg7w:function(n,l,e){"use strict";function t(n){n.transitionService;n.trace.enable(i.Category.TRANSITION)}var i=e("3nZM");e.n(i);l.a=t},VBTM:function(n,l,e){"use strict";var t=e("yQWr");e.d(l,"b",function(){return i}),e.d(l,"a",function(){return u});var i={SPAWN:"spawn",TRAVEL:"travel",COLLECT:"collect",DEPOSIT:"deposit",PRODUCE:"produce",PROTECT:"protect"},u=(function(){function n(n){this.jid=n.jid,this.name=n.name,this.desc=n.desc,this.actions=n.actions,this.beetypes=n.beetypes}}(),[{jid:t.a.IDLE,name:"Idle",desc:"No job assigned.",actions:[],beetypes:["drone","egg","larva","queen","worker"]},{jid:t.a.BREEDER,name:"Breeding Queen",desc:"Head Queen, performs the task of laying eggs and fertilizing them.",actions:[{action:i.SPAWN,rate:t.d.PRD_EGG}],beetypes:["queen"]},{jid:t.a.FORAGER,name:"Forager",desc:"Collects nectar, pollen, and water.",actions:[{action:i.TRAVEL,rate:t.d.SPD_FLY},{action:i.COLLECT,rate:t.d.SPD_CLT,storage:t.d.Get_STR},{action:i.DEPOSIT,rate:t.d.SPD_DEP}],beetypes:["worker"]},{jid:t.a.NURSE,name:"Nurse Bee",desc:"Cares for eggs and produces royal jelly from honey and pollen",actions:[{action:i.PRODUCE,rate:t.d.PRD_JELLY,yield:t.d.YLD_JELLY,cost:[t.d.COST_JELLY_HONEY,t.d.COST_JELLY_POLLEN]}],beetypes:["worker"]},{jid:t.a.PRODUCER_FOOD,name:"Food Producer",desc:"Converts stored honey, pollen, and water into usable food",actions:[{action:i.PRODUCE,rate:t.d.PRD_FOOD,yield:t.d.YLD_FOOD,cost:[t.d.COST_FOOD_HONEY,t.d.COST_FOOD_POLLEN,t.d.COST_FOOD_WATER]}],beetypes:["worker"]},{jid:t.a.PRODUCER_HONEY,name:"Honey Producer",desc:"Converts stored nectar into honey",actions:[{action:i.PRODUCE,rate:t.d.PRD_HONEY,yield:t.d.YLD_HONEY,cost:[t.d.COST_HONEY_NECTAR]}],beetypes:["worker"]},{jid:t.a.BUILDER,name:"Builder",desc:"Converts stored food into wax",actions:[{action:i.PRODUCE,rate:t.d.PRD_WAX,yield:t.d.YLD_WAX,cost:[t.d.COST_WAX_FOOD]}],beetypes:["worker"]},{jid:t.a.UNDERTAKER,name:"Undertaker Bee",desc:"Converts dead bees and rejected eggs into food.",actions:[{action:i.PRODUCE,rate:t.d.PRD_FOOD,yield:t.d.YLD_FOOD,cost:[t.d.COST_FOOD_DEADBEES]}],beetypes:["worker"]},{jid:t.a.GUARD,name:"Guard Bee",desc:"Protects the hive which reduces the mortality rate",actions:[{action:i.PROTECT,amount:t.d.DEF}],beetypes:["drone","worker"]}])},VkeI:function(n,l,e){"use strict";function t(n){return u._28(0,[(n()(),u._30(0,null,null,7,"div",[],null,null,null,null,null)),(n()(),u._30(0,null,null,1,"button",[["class","btn btn-xs btn-primary"],["title","Save Game"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i._gameService.saveGame()&&t}return t},null,null)),(n()(),u._30(0,null,null,0,"i",[["class","fa fa-floppy-o"]],null,null,null,null,null)),(n()(),u._30(0,null,null,1,"button",[["class","btn btn-xs btn-primary"],["title","Hard Reset"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i._gameService.hardReset()&&t}return t},null,null)),(n()(),u._30(0,null,null,0,"i",[["class","fa fa-recycle"]],null,null,null,null,null)),(n()(),u._30(0,null,null,2,"button",[["class","btn btn-xs btn-primary"],["title","Play/Pause"],["type","button"]],null,[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i._gameService.toggleState()&&t}return t},null,null)),(n()(),u._30(0,null,null,1,"i",[["class","fa"]],null,null,null,null,null)),u._33(139264,null,0,o.o,[u.t,u.u,u.H,u.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(n,l){var e=l.component;n(l,7,0,"fa",u._35(1,"",e.getIcon(),""))},null)}function i(n){return u._28(0,[(n()(),u._30(0,null,null,1,"bloqhead-game-control",[],null,null,null,t,c)),u._33(122880,null,0,s.a,[r.a],null,null)],function(n,l){n(l,1,0)},null)}var u=e("3j3K"),s=e("a05Y"),o=e("2Je8"),r=e("TDEt");e.d(l,"b",function(){return c}),l.a=t;var a=[],c=u._27({encapsulation:2,styles:a,data:{}});u._37("bloqhead-game-control",s.a,i,{},{},[])},W4vm:function(n,l,e){"use strict";function t(n){return h._28(0,[(n()(),h._30(0,null,null,1,"s",[["class","dead"]],null,null,null,null,null)),(n()(),h._29(null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.name)})}function i(n){return h._28(0,[(n()(),h._30(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),h._29(null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.name)})}function u(n){return h._28(0,[(n()(),h._30(0,null,null,0,"i",[["class","fa icon-tombstone text-danger"]],null,null,null,null,null))],null,null)}function s(n){return h._28(0,[(n()(),h._30(0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(n,l){n(l,0,0,h._35(2,"fa ",l.context.$implicit.icon," ",l.context.$implicit.style,""))})}function o(n){return h._28(0,[(n()(),h._30(0,null,null,15,"div",[["class","col-xs-12 col-sm-8"]],[[1,"data-rid",0]],null,null,null,null)),(n()(),h._29(null,["\n                "])),(n()(),h._30(0,null,null,12,"div",[["class","progress progress-custom"]],null,null,null,null,null)),(n()(),h._29(null,["\n                    "])),(n()(),h._30(0,null,null,9,"progressbar",[],null,null,null,d.a,d.b)),h._33(24576,null,0,p.a,[f.a],{animate:[0,"animate"],max:[1,"max"],value:[2,"value"]},null),(n()(),h._29(0,["\n                        "])),(n()(),h._30(0,null,0,1,"span",[["class","work-status"]],null,null,null,null,null)),(n()(),h._29(null,["",""])),(n()(),h._29(0,["\n                        "])),(n()(),h._29(0,["\n                        "])),(n()(),h._30(0,null,0,1,"span",[["class","work-amounts"]],null,null,null,null,null)),(n()(),h._29(null,[""," / ",""])),(n()(),h._29(0,["\n                    "])),(n()(),h._29(null,["\n                "])),(n()(),h._29(null,["\n            "]))],function(n,l){n(l,5,0,!1,l.parent.context.$implicit.workStatus.max,l.parent.context.$implicit.workStatus.value)},function(n,l){n(l,0,0,l.parent.context.$implicit.workStatus.rid||"NONE"),n(l,8,0,l.parent.context.$implicit.workStatus.action),n(l,12,0,l.parent.context.$implicit.workStatus.value.toFixed(1),l.parent.context.$implicit.workStatus.max.toFixed(1))})}function r(n){return h._28(0,[(n()(),h._30(0,null,null,20,"div",[["class","population-list animate-repeat"]],null,null,null,null,null)),(n()(),h._29(null,["\n            "])),(n()(),h._30(0,null,null,14,"div",[["bloqheadDraggable",""],["class","col-xs-12 col-sm-4"]],[[1,"data-rid",0],[8,"draggable",0]],[[null,"dragstart"],[null,"dragend"]],function(n,l,e){var t=!0;if("dragstart"===l){t=!1!==h._32(n,3).dragStart(e)&&t}if("dragend"===l){t=!1!==h._32(n,3).dragEnd(e)&&t}return t},null,null)),h._33(40960,null,0,g.a,[h.H],{dropTargetIds:[0,"dropTargetIds"],data:[1,"data"]},null),(n()(),h._29(null,["\n                "])),(n()(),h._30(0,null,null,2,"span",[],null,null,null,null,null)),(n()(),h._41(8388608,null,null,1,null,t)),h._33(8192,null,0,m.n,[h.P,h._5],{ngIf:[0,"ngIf"]},null),(n()(),h._29(null,["\n                "])),(n()(),h._41(8388608,null,null,1,null,i)),h._33(8192,null,0,m.n,[h.P,h._5],{ngIf:[0,"ngIf"]},null),(n()(),h._29(null,["  \n                "])),(n()(),h._41(8388608,null,null,1,null,u)),h._33(8192,null,0,m.n,[h.P,h._5],{ngIf:[0,"ngIf"]},null),(n()(),h._41(8388608,null,null,1,null,s)),h._33(401408,null,0,m.r,[h.P,h._5,h.t],{ngForOf:[0,"ngForOf"]},null),(n()(),h._29(null,["\n\n            "])),(n()(),h._29(null,["\n            "])),(n()(),h._41(8388608,null,null,1,null,o)),h._33(8192,null,0,m.n,[h.P,h._5],{ngIf:[0,"ngIf"]},null),(n()(),h._29(null,["\n        "]))],function(n,l){n(l,3,0,l.component.jids[l.context.$implicit.beetype],l.context.$implicit.id),n(l,7,0,l.context.$implicit.dead),n(l,10,0,!l.context.$implicit.dead),n(l,13,0,l.context.$implicit.dead),n(l,15,0,l.context.$implicit.traits),n(l,19,0,l.context.$implicit.workStatus)},function(n,l){n(l,2,0,l.context.$implicit.id,!0)})}function a(n){return h._28(0,[(n()(),h._30(0,null,null,7,"div",[["class","population-panel"]],null,null,null,null,null)),(n()(),h._29(null,["\n    "])),(n()(),h._30(0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),h._29(null,["\n        "])),(n()(),h._41(8388608,null,null,1,null,r)),h._33(401408,null,0,m.r,[h.P,h._5,h.t],{ngForOf:[0,"ngForOf"]},null),(n()(),h._29(null,["\n    "])),(n()(),h._29(null,["\n"]))],function(n,l){var e=l.component;n(l,5,0,e._gameService.map.currentHive.getBeesByType(e.filter.type))},null)}function c(n){return h._28(0,[(n()(),h._30(0,null,null,1,"population-panel",[],null,null,null,a,S)),h._33(57344,null,0,v.a,[b.a],null,null)],function(n,l){n(l,1,0)},null)}var _=e("miXm"),h=e("3j3K"),d=e("jdw6"),p=e("UxEy"),f=e("nLnT"),g=e("CNxT"),m=e("2Je8"),v=e("j9Nw"),b=e("TDEt");e.d(l,"b",function(){return S}),l.a=a;var y=[_.a],S=h._27({encapsulation:0,styles:y,data:{}});h._37("population-panel",v.a,c,{filter:"filter"},{},[])},W5Sx:function(n,l,e){"use strict";function t(n){return u._28(2,[(n()(),u._29(null,["\n    "])),(n()(),u._30(0,null,null,0,"div",[["class","tooltip-arrow"]],null,null,null,null,null)),(n()(),u._29(null,["\n    "])),(n()(),u._30(0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),u._42(null,0),(n()(),u._29(null,["\n    "]))],null,null)}function i(n){return u._28(0,[(n()(),u._30(0,null,null,1,"bs-tooltip-container",[["role","tooltip"]],[[8,"className",0],[2,"show",null]],null,null,t,a)),u._33(2121728,null,0,s.a,[o.a],null,null)],null,function(n,l){n(l,0,0,"tooltip in tooltip-"+u._32(l,1).placement+" "+u._32(l,1).placement,!u._32(l,1).isBs3)})}var u=e("3j3K"),s=e("WF/6"),o=e("O46L");e.d(l,"a",function(){return c});var r=[],a=u._27({encapsulation:2,styles:r,data:{}}),c=u._37("bs-tooltip-container",s.a,i,{},{},["*"])},XPFw:function(n,l,e){"use strict";var t=e("oaqd"),i=e("njUz"),u=e("NgIG"),s=e("NOax"),o=e("VBTM");e.d(l,"a",function(){return r});var r=function(){function n(){this.buildTraits(),this.buildResourceRequirements(),console.log(this.TRAITS)}return n.prototype.getRequiredGenesRecursive=function(n){if(null!=n.requiredTraits)for(var l,e=function(e){l=t.a.find(function(n){return n.id===e}),-1===i.checked.indexOf(e)&&i.getRequiredGenesRecursive(l);for(var u=0,s=l.genes;u<s.length;u++){var o=s[u];n.genes.push(Object.assign({},o))}},i=this,u=0,s=n.requiredTraits;u<s.length;u++){var o=s[u];e(o)}this.checked.push(n.id)},n.prototype.buildTraits=function(){this.TRAITS=[],this.checked=[];for(var n=0,l=t.a;n<l.length;n++){var e=l[n];this.getRequiredGenesRecursive(e),this.TRAITS.push(new t.b(e))}},n.prototype.getTraits=function(n){for(var l=[],e=0,t=this.TRAITS;e<t.length;e++){for(var i=t[e],u=!0,s=0,o=i.genes;s<o.length;s++){var r=o[s];n.getGene(r.chromosome,r.gene)!==r.value&&(u=!1)}u&&l.push(Object.assign({},i))}return l},n.prototype.getAbilities=function(n){for(var l=s.a.map(function(n){return new s.b(n)}),e=l.reduce(function(n,l){return n[l.abilityId]={add:0,percent:0},n},{}),t=0,i=n;t<i.length;t++)for(var u=i[t],o=0,r=u.mods;o<r.length;o++){var a=r[o];e[a.abilityId].add+=a.add||0,e[a.abilityId].percent+=a.percent&&a.percent/100||0}var c=function(n){var t=l.find(function(l){return l.abilityId===n});t.value=t.baseValue,t.value+=e[n].add,t.value*=1+e[n].percent};for(var _ in e)c(_);return l},n.prototype.getDefaultBuildings=function(){return i.b.map(function(n){return new i.a(n)})},n.prototype.getDefaultResources=function(){return u.b.map(function(n){return new u.a(n)})},n.prototype.getResourceById=function(n){return u.b.find(function(l){return l.rid===n})},n.prototype.buildResourceRequirements=function(){this.baseResourceRequirements=o.a.reduce(function(n,l){var e=[],t={},i=l.actions.find(function(n){return n.action===o.b.PRODUCE});if(i&&i.cost){for(var r=function(n){var l=s.a.find(function(l){return l.abilityId===n});e.push({resource:u.b.find(function(n){return n.rid===l.c_rid}),amount:l.baseValue})},a=0,c=i.cost;a<c.length;a++){r(c[a])}var _=s.a.find(function(n){return n.abilityId===i.yield});t.y_resource=u.b.find(function(n){return n.rid===_.rid}),t.y_amount=_.baseValue,t.costs=e,n[l.jid]=t}else n[l.jid]={};return n},{})},n.prototype.getResourceCost=function(n){return this.baseResourceRequirements[n]},n.ctorParameters=function(){return[]},n}()},Zrds:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[""]},a05Y:function(n,l,e){"use strict";var t=e("TDEt");e.d(l,"a",function(){return i});var i=function(){function n(n){this._gameService=n}return n.prototype.ngOnInit=function(){var n=this;this.stateSub=this._gameService.stateChangeEvent$.subscribe(function(l){return n.RUNNING=l})},n.prototype.getIcon=function(){return this.RUNNING?"fa-pause":"fa-play"},n.prototype.ngOnDestroy=function(){this.stateSub.unsubscribe()},n.ctorParameters=function(){return[{type:t.a}]},n}()},a4xK:function(n,l,e){"use strict";var t=e("yQWr");e.d(l,"a",function(){return i});var i=function(){function n(n){this.id=n&&n.id||0,this.level=n&&n.level||1,this.pos=n&&n.pos||"A1",this.dt=n&&n.dt||(new Date).getTime(),this.color=n&&n.color||"green",this.image=n&&n.image||"bee.svg",this.cooldown=n&&n.cooldown||5e3,this.cooldownRemaining=n&&n.cooldownRemaining||0,this.pollen=n&&n.pollen||0,this.col_pollen=n&&n.col_pollen||0,this.nectar=n&&n.nectar||0,this.col_nectar=n&&n.col_nectar||0,this.water=n&&n.water||0,this.col_water=n&&n.col_water||0,this.harvestMultiplier=n&&n.harvestMultiplier||1,this.beeIsHarvesting=n&&n.beeIsHarvesting||!1,this.resourceName=n&&n.resourceName||"??",this.beeids=n&&n.beeids||[],this.bees=[],this.name=this.resourceName+" #"+this.id}return n.prototype.getState=function(){var n=this.bees.map(function(n){return n.id});return{id:this.id,level:this.level,pos:this.pos,dt:this.dt,color:this.color,image:this.image,cooldown:this.cooldown,cooldownRemaining:this.cooldownRemaining,pollen:this.pollen,col_pollen:this.col_pollen,nectar:this.nectar,col_nectar:this.col_nectar,water:this.water,col_water:this.col_water,harvestMultiplier:this.harvestMultiplier,beeIsHarvesting:this.beeIsHarvesting,resourceName:this.resourceName,beeids:n}},n.prototype.queueHarvest=function(n){n.waitingAtResource=!0,this.bees.push(n)},n.prototype.processElapsedTime=function(n){if(this.cooldownRemaining>0&&(this.cooldownRemaining-=n),this.cooldownRemaining<=0&&this.bees.length>0&&!1===this.beeIsHarvesting){this.beeIsHarvesting=!0;var l=this.bees.shift();l.waitingAtResource=!1,l.harvesting=!0}},n.prototype.doneHarvesting=function(){this.cooldownRemaining=this.cooldown,this.beeIsHarvesting=!1,this.col_nectar=0,this.col_pollen=0,this.col_water=0},n.prototype.getAvailable=function(n){var l=0;switch(n){case t.b.NECTAR:l=this.nectar-this.col_nectar;break;case t.b.POLLEN:l=this.pollen-this.col_pollen;break;case t.b.WATER:l=this.water-this.col_water}return l},n.prototype.collect=function(n,l){var e=0,i=0;switch(n){case t.b.NECTAR:i=this.getAvailable(n),l<=i?e=l:i>0&&(e=i),this.col_nectar+=e;break;case t.b.POLLEN:i=this.getAvailable(n),l<=i?e=l:i>0&&(e=i),this.col_pollen+=e;break;case t.b.WATER:i=this.getAvailable(n),l<=i?e=l:i>0&&(e=i),this.col_water+=e}return e},n}()},aBQX:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[""]},bIhG:function(n,l,e){"use strict";var t=e("FX7h"),i=e("njUz"),u=e("NgIG"),s=e("yQWr"),o=e("XPFw"),r=e("Iksp"),a=e("fgLA"),c=e("0XFg");e.n(c);e.d(l,"a",function(){return _});var _=function(){function n(n){this.resourcesMap={},this.beesToDraw={},this.getPopulationCount=function(){return this.bees.length-this.getNurseryCount()},this._configService=r.b.get(o.a),this._logService=r.b.get(a.a),this.update(n)}return n.prototype.update=function(n){this.id=n.id||this.id||1,this.nextId=n.nextId||this.nextId||0,this.initialSize=n.initialSize||this.initialSize||2,this.maxSize=n.maxSize||this.maxSize||10,this.pos=n.pos||this.pos||"A1",this.newbornLimit=n.newbornLimit||this.newbornLimit||5,this.beeMutationChance=n.beeMutationChance||this.beeMutationChance||.005,null!=n.beeStates?this.loadBees(n):(this.bees=this.bees||[],0===this.bees.length&&this.createInitialQueen(!0)),this.updateResources(n),this.updateBuildings(n)},n.prototype.getState=function(){for(var n=[],l=0,e=this.bees;l<e.length;l++){var t=e[l];n.push(t.getState())}return{id:this.id,pos:this.pos,initialSize:this.initialSize,maxSize:this.maxSize,newbornLimit:this.newbornLimit,beeMutationChance:this.beeMutationChance,nextId:this.nextId,beeStates:n,resources:this.resources,buildings:this.buildings}},n.prototype.getBeesByType=function(n){return this.bees.filter(function(l){return l.beetype===n})},n.prototype.getBeeById=function(n){var l=this.bees.findIndex(function(l){return l.id===n});return-1==l?null:this.bees[l]},n.prototype.getNurseryCount=function(){return this.getBeesByType(t.a.EGG).length+this.getBeesByType(t.a.LARVA).length},n.prototype.loadBees=function(n){this.bees=[];for(var l=0,e=n.beeStates;l<e.length;l++){var i=e[l];switch(i.beetype){case t.a.QUEEN:this.bees.push(new t.b(i));break;case t.a.DRONE:this.bees.push(new t.c(i));break;case t.a.WORKER:this.bees.push(new t.d(i));break;case t.a.EGG:this.bees.push(new t.e(i));break;case t.a.LARVA:this.bees.push(new t.f(i))}}},n.prototype.createInitialQueen=function(n){var l=new t.b({id:this.getNextId(),generation:0,beeMutationChance:this.beeMutationChance,jid:s.a.BREEDER,pos:this.pos});if(n)for(var e=0;e<10;e++){var i=new t.c({id:this.getNextId(),generation:0,beeMutationChance:this.beeMutationChance,pos:this.pos});l.mate(i)}l.update(),this.bees.push(l)},n.prototype.updateResources=function(n){if(null==n.resources&&null==this.resources)this.resources=this._configService.getDefaultResources();else if(null!=n.resources){this.resources=[];for(var l=0,e=n.resources;l<e.length;l++){var t=e[l],i=new u.a(t);this.resources.push(i)}}this.resourcesMap=this.resources.reduce(function(n,l){return n[l.rid]=l,n},{})},n.prototype.storageSpace=function(n){var l=this.resources.find(function(l){return l.rid===n});return-1!==l.max?l.max-l.owned:-1},n.prototype.changeResource=function(n,l){var e=this.resourcesMap[n],t=0;e.owned+=l;var i=l;if(-1!=e.max&&e.owned>e.max&&(i=l-(e.owned-e.max),e.owned=e.max),e.owned<0&&(e.owned-=l,i=0,t=-1),0===t&&0!==i&&(this.updateBuildings(),n===s.b.DEADBEES&&i<0)){var u=this.bees.findIndex(function(n){return n.dead});this.bees.splice(u,1)}return{owned:e.owned,stored:i,error:t}},n.prototype.build=function(n){for(var l=n.build(),e=0,t=l;e<t.length;e++){var i=t[e];this.changeResource(i.resource.rid,-1*i.amount)}this.updateBuildings()},n.prototype.updateBuildings=function(n){if(n&&null==n.buildings&&null==this.buildings)this.buildings=this._configService.getDefaultBuildings();else if(n&&null!=n.buildings){this.buildings=[];for(var l=0,e=n.buildings;l<e.length;l++){var t=e[l],u=new i.a(t);this.buildings.push(u)}}this.nurseryLimit=0,this.populationLimit=0;for(var s=function(n){switch(n.setCanBuild(o.resources),n.use){case"storage":o.resources.find(function(l){return l.rid===n.rid}).max=n.getSize();break;case"nursery":o.nurseryLimit+=n.getSize();break;case"housing":o.populationLimit+=n.getSize()}},o=this,r=0,a=this.buildings;r<a.length;r++){var u=a[r];s(u)}},n.prototype.getNextId=function(){return++this.nextId+"-H"+this.id},n.prototype.assignBee=function(n,l){var i="",u=this.bees.findIndex(function(l){return l.id===n.id});switch(l){case t.a.DRONE:var o=n.hatch(l);this.bees[u]=o,i=e.i(c.sprintf)("New %(type)s in Hive#%(id)d! (%(name)s)",{type:l,name:o.name,id:this.id});break;case t.a.LARVA:var r=this.bees.find(function(n){return n.jid===s.a.BREEDER});if(r){var a=r.fertilizeEgg(n);this.bees[u]=a,i=e.i(c.sprintf)("New %(type)s in Hive#%(id)d! (%(name)s)",{type:l,name:a.name,id:this.id})}else i="Cannot fertlize egg. There is no queen assigned to breeding duties.";break;case t.a.QUEEN:case t.a.WORKER:var _=n.mature(l);this.bees[u]=_,i=e.i(c.sprintf)("New %(type)s in Hive#%(id)d! (%(name)s)",{type:l,name:_.name,id:this.id});break;default:i=e.i(c.sprintf)("Invalid type: %s",l)}this._logService.logGeneralMessage(i)},n.prototype.handleGameLoop=function(n,l){if(0!==n){for(var e=0,t=0,i=this.bees;t<i.length;t++){var u=i[t];u.dead&&e++,u.doWork(n,this,l)}this.resourcesMap[s.b.DEADBEES].owned=e}},n}()},baSk:function(n,l,e){"use strict";function t(n){return g._28(0,[(n()(),g._30(0,null,null,1,"s",[["class","dead"]],null,null,null,null,null)),(n()(),g._29(null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.name)})}function i(n){return g._28(0,[(n()(),g._30(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),g._29(null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.name)})}function u(n){return g._28(0,[(n()(),g._30(0,null,null,0,"i",[["class","fa icon-tombstone text-danger"]],null,null,null,null,null))],null,null)}function s(n){return g._28(0,[(n()(),g._30(0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(n,l){n(l,0,0,g._35(2,"fa ",l.context.$implicit.icon," ",l.context.$implicit.style,""))})}function o(n){return g._28(0,[(n()(),g._30(0,null,null,43,"div",[],null,null,null,null,null)),(n()(),g._29(null,["\n                "])),(n()(),g._30(0,null,null,40,"div",[["class","bloqhead-component"]],null,null,null,null,null)),(n()(),g._29(null,["\n                    "])),(n()(),g._30(0,null,null,16,"h5",[],null,null,null,null,null)),(n()(),g._29(null,["\n                        "])),(n()(),g._30(0,null,null,13,"div",[["class","col-xs-12 mortal-name"]],null,null,null,null,null)),(n()(),g._29(null,["\n                            "])),(n()(),g._30(0,null,null,2,"span",[],null,null,null,null,null)),(n()(),g._41(8388608,null,null,1,null,t)),g._33(8192,null,0,m.n,[g.P,g._5],{ngIf:[0,"ngIf"]},null),(n()(),g._29(null,["\n                            "])),(n()(),g._41(8388608,null,null,1,null,i)),g._33(8192,null,0,m.n,[g.P,g._5],{ngIf:[0,"ngIf"]},null),(n()(),g._29(null,["  \n                            "])),(n()(),g._41(8388608,null,null,1,null,u)),g._33(8192,null,0,m.n,[g.P,g._5],{ngIf:[0,"ngIf"]},null),(n()(),g._41(8388608,null,null,1,null,s)),g._33(401408,null,0,m.r,[g.P,g._5,g.t],{ngForOf:[0,"ngForOf"]},null),(n()(),g._29(null,["\n                        "])),(n()(),g._29(null,["\n                    "])),(n()(),g._29(null,["\n                    "])),(n()(),g._30(0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(n()(),g._29(null,["\n                        "])),(n()(),g._30(0,null,null,4,"div",[["class","scalable-list-button"]],null,null,null,null,null)),(n()(),g._29(null,["\n                            "])),(n()(),g._30(0,null,null,1,"button",[["class","btn btn-xs btn-primary"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.assignBee(n.context.$implicit,i.BeeTypes.LARVA)&&t}return t},null,null)),(n()(),g._29(null,["Fertilize"])),(n()(),g._29(null,["\n                        "])),(n()(),g._29(null,["\n                        "])),(n()(),g._30(0,null,null,4,"div",[["class","scalable-list-button"]],null,null,null,null,null)),(n()(),g._29(null,["\n                            "])),(n()(),g._30(0,null,null,1,"button",[["class","btn btn-xs btn-primary"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.assignBee(n.context.$implicit,i.BeeTypes.DRONE)&&t}return t},null,null)),(n()(),g._29(null,["Make Drone"])),(n()(),g._29(null,["\n                        "])),(n()(),g._29(null,["\n                        "])),(n()(),g._30(0,null,null,4,"div",[["class","scalable-list-button"]],null,null,null,null,null)),(n()(),g._29(null,["\n                            "])),(n()(),g._30(0,null,null,1,"button",[["class","btn btn-xs btn-primary"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.context.$implicit.die()&&t}return t},null,null)),(n()(),g._29(null,["Consume"])),(n()(),g._29(null,["\n                        "])),(n()(),g._29(null,["\n                    "])),(n()(),g._29(null,["\n                "])),(n()(),g._29(null,["\n            "]))],function(n,l){n(l,10,0,l.context.$implicit.dead),n(l,13,0,!l.context.$implicit.dead),n(l,16,0,l.context.$implicit.dead),n(l,18,0,l.context.$implicit.traits)},function(n,l){var e=l.component;n(l,26,0,!e.canFertilize(l.context.$implicit)),n(l,32,0,!e.canBreed(l.context.$implicit)),n(l,38,0,l.context.$implicit.dead)})}function r(n){return g._28(0,[(n()(),g._30(0,null,null,1,"s",[["class","dead"]],null,null,null,null,null)),(n()(),g._29(null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.name)})}function a(n){return g._28(0,[(n()(),g._30(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),g._29(null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.name)})}function c(n){return g._28(0,[(n()(),g._30(0,null,null,0,"i",[["class","fa icon-tombstone text-danger"]],null,null,null,null,null))],null,null)}function _(n){return g._28(0,[(n()(),g._30(0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(n,l){n(l,0,0,g._35(2,"fa ",l.context.$implicit.icon," ",l.context.$implicit.style,""))})}function h(n){return g._28(0,[(n()(),g._30(0,null,null,43,"div",[],null,null,null,null,null)),(n()(),g._29(null,["\n                "])),(n()(),g._30(0,null,null,40,"div",[["class","bloqhead-component"]],null,null,null,null,null)),(n()(),g._29(null,["\n                    "])),(n()(),g._30(0,null,null,16,"h5",[],null,null,null,null,null)),(n()(),g._29(null,["\n                        "])),(n()(),g._30(0,null,null,13,"div",[["class","col-xs-12 mortal-name"]],null,null,null,null,null)),(n()(),g._29(null,["\n                            "])),(n()(),g._30(0,null,null,2,"span",[],null,null,null,null,null)),(n()(),g._41(8388608,null,null,1,null,r)),g._33(8192,null,0,m.n,[g.P,g._5],{ngIf:[0,"ngIf"]},null),(n()(),g._29(null,["\n                            "])),(n()(),g._41(8388608,null,null,1,null,a)),g._33(8192,null,0,m.n,[g.P,g._5],{ngIf:[0,"ngIf"]},null),(n()(),g._29(null,["  \n                            "])),(n()(),g._41(8388608,null,null,1,null,c)),g._33(8192,null,0,m.n,[g.P,g._5],{ngIf:[0,"ngIf"]},null),(n()(),g._41(8388608,null,null,1,null,_)),g._33(401408,null,0,m.r,[g.P,g._5,g.t],{ngForOf:[0,"ngForOf"]},null),(n()(),g._29(null,["\n                        "])),(n()(),g._29(null,["\n                    "])),(n()(),g._29(null,["\n                    "])),(n()(),g._30(0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(n()(),g._29(null,["\n                        "])),(n()(),g._30(0,null,null,4,"div",[["class","scalable-list-button"]],null,null,null,null,null)),(n()(),g._29(null,["\n                            "])),(n()(),g._30(0,null,null,1,"button",[["class","btn btn-xs btn-primary"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.assignBee(n.context.$implicit,i.BeeTypes.WORKER)&&t}return t},null,null)),(n()(),g._29(null,["Make Worker"])),(n()(),g._29(null,["\n                        "])),(n()(),g._29(null,["\n                        "])),(n()(),g._30(0,null,null,4,"div",[["class","scalable-list-button"]],null,null,null,null,null)),(n()(),g._29(null,["\n                            "])),(n()(),g._30(0,null,null,1,"button",[["class","btn btn-xs btn-primary"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0,i=n.component;if("click"===l){t=!1!==i.assignBee(n.context.$implicit,i.BeeTypes.QUEEN)&&t}return t},null,null)),(n()(),g._29(null,["Make Queen"])),(n()(),g._29(null,["\n                        "])),(n()(),g._29(null,["\n                        "])),(n()(),g._30(0,null,null,4,"div",[["class","scalable-list-button"]],null,null,null,null,null)),(n()(),g._29(null,["\n                            "])),(n()(),g._30(0,null,null,1,"button",[["class","btn btn-xs btn-primary"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.context.$implicit.die()&&t}return t},null,null)),(n()(),g._29(null,["Consume"])),(n()(),g._29(null,["\n                        "])),(n()(),g._29(null,["\n                    "])),(n()(),g._29(null,["\n                "])),(n()(),g._29(null,["\n            "]))],function(n,l){n(l,10,0,l.context.$implicit.dead),n(l,13,0,!l.context.$implicit.dead),n(l,16,0,l.context.$implicit.dead),n(l,18,0,l.context.$implicit.traits)},function(n,l){var e=l.component;n(l,26,0,!e.canBreed(l.context.$implicit)),n(l,32,0,!e.canBreed(l.context.$implicit)),n(l,38,0,l.context.$implicit.dead)})}function d(n){return g._28(0,[(n()(),g._30(0,null,null,32,"div",[["class","player-box"]],null,null,null,null,null)),(n()(),g._29(null,["\n    "])),(n()(),g._30(0,null,null,16,"h3",[["class","box-title"]],null,null,null,null,null)),(n()(),g._29(null,["\n        "])),(n()(),g._30(0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(n()(),g._29(null,["\n            "])),(n()(),g._30(0,null,null,3,"div",[["class","col-xs-3"]],null,null,null,null,null)),(n()(),g._29(null,["\n                "])),(n()(),g._30(0,null,null,0,"i",[["class","icon-bee"]],null,null,null,null,null)),(n()(),g._29(null,[" Nursery\n            "])),(n()(),g._29(null,["\n            "])),(n()(),g._30(0,null,null,1,"div",[["class","col-xs-3"]],null,null,null,null,null)),(n()(),g._29(null,["\n                ["," / ","]\n            "])),(n()(),g._29(null,["\n            "])),(n()(),g._30(0,null,null,1,"div",[["class","col-xs-6 pull-right"]],null,null,null,null,null)),(n()(),g._29(null,["\n\n            "])),(n()(),g._29(null,["\n        "])),(n()(),g._29(null,["\n        "])),(n()(),g._29(null,["\n    "])),(n()(),g._29(null,["\n    "])),(n()(),g._30(0,null,null,11,"div",[["class","player-content"]],null,null,null,null,null)),(n()(),g._29(null,["\n        "])),(n()(),g._30(0,null,null,8,"div",[["class","row breeder-container"]],null,null,null,null,null)),(n()(),g._29(null,["\n            "])),(n()(),g._41(8388608,null,null,1,null,o)),g._33(401408,null,0,m.r,[g.P,g._5,g.t],{ngForOf:[0,"ngForOf"]},null),(n()(),g._29(null,["\n\n            "])),(n()(),g._41(8388608,null,null,1,null,h)),g._33(401408,null,0,m.r,[g.P,g._5,g.t],{ngForOf:[0,"ngForOf"]},null),(n()(),g._29(null,["\n\n\n            "])),(n()(),g._29(null,["\n\n\n        "])),(n()(),g._29(null,["\n    "])),(n()(),g._29(null,["\n"]))],function(n,l){var e=l.component;n(l,25,0,e._gameService.map.currentHive.getBeesByType("egg")),n(l,28,0,e._gameService.map.currentHive.getBeesByType("larva"))},function(n,l){var e=l.component;n(l,12,0,e._gameService.map.currentHive.getNurseryCount(),e._gameService.map.currentHive.nurseryLimit)})}function p(n){return g._28(0,[(n()(),g._30(0,null,null,1,"bloqhead-nursery-list",[],null,null,null,d,S)),g._33(57344,null,0,v.a,[b.a],null,null)],function(n,l){n(l,1,0)},null)}var f=e("Zrds"),g=e("3j3K"),m=e("2Je8"),v=e("vaHi"),b=e("TDEt");e.d(l,"b",function(){return S}),l.a=d;var y=[f.a],S=g._27({encapsulation:0,styles:y,data:{}});g._37("bloqhead-nursery-list",v.a,p,{},{},[])},eZ6p:function(n,l,e){"use strict";function t(n){return u._28(0,[(n()(),u._30(0,null,null,37,"div",[["class",""]],null,null,null,null,null)),(n()(),u._29(null,["\n    "])),(n()(),u._30(0,null,null,19,"div",[["class","row topRow"]],null,null,null,null,null)),(n()(),u._29(null,["\n        "])),(n()(),u._30(0,null,null,4,"div",[["class","col-xs-4 fullH"]],null,null,null,null,null)),(n()(),u._29(null,["\n            "])),(n()(),u._30(0,null,null,1,"bloqhead-building-list",[],null,null,null,s.a,s.b)),u._33(57344,null,0,o.a,[r.a],null,null),(n()(),u._29(null,["\n        "])),(n()(),u._29(null,["\n\n        "])),(n()(),u._30(0,null,null,4,"div",[["class","col-xs-4 fullH"]],null,null,null,null,null)),(n()(),u._29(null,["\n            "])),(n()(),u._30(0,null,null,1,"bloqhead-resource-list",[],null,null,null,a.a,a.b)),u._33(57344,null,0,c.a,[r.a,_.a],null,null),(n()(),u._29(null,["\n\n        "])),(n()(),u._29(null,["\n\n        "])),(n()(),u._30(0,null,null,4,"div",[["class","col-xs-4 fullH"]],null,null,null,null,null)),(n()(),u._29(null,["\n            "])),(n()(),u._30(0,null,null,1,"bloqhead-nursery-list",[],null,null,null,h.a,h.b)),u._33(57344,null,0,d.a,[r.a],null,null),(n()(),u._29(null,["\n        "])),(n()(),u._29(null,["\n\n\n\n    "])),(n()(),u._29(null,["\n    "])),(n()(),u._30(0,null,null,13,"div",[["class","row"],["id","bottomRow"]],null,null,null,null,null)),(n()(),u._29(null,["\n        "])),(n()(),u._30(0,null,null,4,"div",[["class","col-xs-8 fullH"]],null,null,null,null,null)),(n()(),u._29(null,["\n            "])),(n()(),u._30(0,null,null,1,"bloqhead-map",[],null,[[null,"mousewheel"],[null,"mousedown"],[null,"mouseup"],[null,"mousemove"]],function(n,l,e){var t=!0;if("mousewheel"===l){t=!1!==u._32(n,28).mousewheel(e)&&t}if("mousedown"===l){t=!1!==u._32(n,28).mousedown(e)&&t}if("mouseup"===l){t=!1!==u._32(n,28).mouseup(e)&&t}if("mousemove"===l){t=!1!==u._32(n,28).mousemove(e)&&t}return t},p.a,p.b)),u._33(122880,null,0,f.a,[r.a,u.h],null,null),(n()(),u._29(null,["\n        "])),(n()(),u._29(null,["\n        "])),(n()(),u._30(0,null,null,4,"div",[["class","col-xs-4 fullH"]],null,null,null,null,null)),(n()(),u._29(null,["\n            "])),(n()(),u._30(0,null,null,1,"bloqhead-population",[],null,null,null,g.a,g.b)),u._33(57344,null,0,m.a,[r.a],null,null),(n()(),u._29(null,["\n        "])),(n()(),u._29(null,["\n\n    "])),(n()(),u._29(null,["\n"]))],function(n,l){n(l,7,0),n(l,13,0),n(l,19,0),n(l,28,0),n(l,34,0)},null)}function i(n){return u._28(0,[(n()(),u._30(0,null,null,1,"ng-component",[],null,null,null,t,y)),u._33(57344,null,0,v.a,[],null,null)],function(n,l){n(l,1,0)},null)}var u=e("3j3K"),s=e("TO/J"),o=e("D4sV"),r=e("TDEt"),a=e("R6yu"),c=e("+LT7"),_=e("XPFw"),h=e("baSk"),d=e("vaHi"),p=e("BN1Q"),f=e("1Kte"),g=e("3alE"),m=e("FrzW"),v=e("S022");e.d(l,"a",function(){return S});var b=[],y=u._27({encapsulation:2,styles:b,data:{}}),S=u._37("ng-component",v.a,i,{},{},[])},fgLA:function(n,l,e){"use strict";e.d(l,"a",function(){return u}),e.d(l,"b",function(){return s});var t;!function(n){n[n.GENERAL=0]="GENERAL",n[n.BREED=1]="BREED",n[n.ACHIEVEMENT=2]="ACHIEVEMENT",n[n.WORK=3]="WORK"}(t||(t={}));var i=function(){function n(n){this.type=n.type,this.timestamp=n.timestamp,this.message=n.message}return n}(),u=function(){function n(){this.maxMessages=500,this.enabled=!0,this.messages=[],this.clearLog("Welcome to Genetix!")}return n.prototype.clearLog=function(n){this.messages=[],null!=n&&this.logGeneralMessage(n)},n.prototype.logGeneralMessage=function(n){this.enabled&&(this.messages.push(new i({type:t.GENERAL,timestamp:Date.now(),message:n})),this.messages.length>this.maxMessages&&this.messages.splice(0,1))},n.prototype.logBreedMessage=function(n){this.enabled&&(this.messages.push({type:t.BREED,timestamp:Date.now(),message:n}),this.messages.length>this.maxMessages&&this.messages.splice(0,1))},n.prototype.logAchievementMessage=function(n){this.enabled&&(this.messages.push({type:t.ACHIEVEMENT,timestamp:Date.now(),message:n}),this.messages.length>this.maxMessages&&this.messages.splice(0,1))},n.prototype.logWorkMessage=function(n){this.enabled&&(this.messages.push({type:t.WORK,timestamp:Date.now(),message:n}),this.messages.length>this.maxMessages&&this.messages.splice(0,1))},n.ctorParameters=function(){return[]},n}(),s=function(){function n(n){this._logService=n}return n.prototype.ngOnInit=function(){this.pauseScroll=!1},n.prototype.ngOnDestroy=function(){},n.prototype.getLogClass=function(n){var l="";switch(n){case t.GENERAL:l="color-general";break;case t.ACHIEVEMENT:l="color-achievement";break;case t.BREED:l="color-breed";break;case t.WORK:l="color-work";break;default:l="list-group-item-none"}return l},n.ctorParameters=function(){return[{type:u}]},n}()},fgMC:function(n,l,e){"use strict";var t=e("3j3K"),i=e("TDEt"),u=e("fgLA");e.d(l,"a",function(){return s});var s=function(){function n(n,l,e){this._gameService=n,this._logService=l,this.ngZone=e,this.title="GenetixNg4",this.modalData={offlineMs:0,offlineString:"",processing:!1,processedMs:0}}return n.prototype.ngOnInit=function(){var n=this;this.processingSub=this._gameService.processingEvent$.subscribe(function(l){n.modalData.processedMs=l,n.modalData.processing=l>0}),this.modalShownSub=this.progressModal.onShown.subscribe(function(){n.startProcessing()})},n.prototype.ngAfterViewInit=function(){var n=this;this.processAwaySub=this._gameService.processAwayEvent$.subscribe(function(l){l?n.showProgress():n.stopProcessing()})},n.prototype.ngOnDestroy=function(){this.processAwaySub.unsubscribe(),this.processingSub.unsubscribe(),this.modalShownSub.unsubscribe()},n.prototype.showProgress=function(){this.progressModal.show(),this.modalData.offlineMs=this._gameService.offlineMs,this.modalData.offlineString=this.createOfflineString(this.modalData.offlineMs)},n.prototype.startProcessing=function(){var n=this;this.ngZone.runOutsideAngular(function(){n._gameService.processOfflineTime()})},n.prototype.stopProcessing=function(){this._gameService.offlineMs=0,this.closeProgress()},n.prototype.closeProgress=function(){this.modalData={offlineMs:0,offlineString:"",processing:!1,processedMs:0},this.progressModal.hide()},n.prototype.createOfflineString=function(n){var l="You have been away for: ",e=n/1e3,t=Math.floor(e%60);e/=60;var i=Math.floor(e%60);e/=60;var u=Math.floor(e%24);e/=24;var s=Math.floor(e);return l+=s?s+" days, ":"",l+=u+" hours, ",l+=i+" minutes, ",l+=t+" seconds."},n.ctorParameters=function(){return[{type:i.a},{type:u.a},{type:t.h}]},n}()},j9Nw:function(n,l,e){"use strict";var t=e("TDEt"),i=e("FX7h"),u=e("VBTM");e.d(l,"a",function(){return s});var s=function(){function n(n){this._gameService=n,this.jids=new Map}return n.prototype.ngOnInit=function(){var n=i.a.DRONE;this.addJids(n),n=i.a.WORKER,this.addJids(n),n=i.a.QUEEN,this.addJids(n)},n.prototype.addJids=function(n){this.jids[n]=[];for(var l=0,e=u.a;l<e.length;l++){var t=e[l];-1!==t.beetypes.indexOf(n)&&this.jids[n].push(t.jid)}},n.ctorParameters=function(){return[{type:t.a}]},n}()},jdw6:function(n,l,e){"use strict";function t(n){return u._28(0,[(n()(),u._29(null,["\n    "])),(n()(),u._30(0,null,null,8,"div",[["progress",""]],[[1,"max",0],[2,"progress",null]],null,null,null,null)),u._33(8192,null,0,s.a,[],{animate:[0,"animate"],max:[1,"max"]},null),(n()(),u._29(null,["\n      "])),(n()(),u._30(0,null,null,4,"bar",[],null,null,null,o.a,o.b)),u._33(122880,null,0,r.a,[s.a],{type:[0,"type"],value:[1,"value"]},null),(n()(),u._29(0,["\n          "])),u._42(0,0),(n()(),u._29(0,["\n      "])),(n()(),u._29(null,["\n    "])),(n()(),u._29(null,["\n  "]))],function(n,l){var e=l.component;n(l,2,0,e.animate,e.max),n(l,5,0,e.type,e.value)},function(n,l){n(l,1,0,u._32(l,2).max,u._32(l,2).addClass)})}function i(n){return u._28(0,[(n()(),u._30(0,null,null,1,"progressbar",[],null,null,null,t,h)),u._33(24576,null,0,a.a,[c.a],null,null)],null,null)}var u=e("3j3K"),s=e("t7Yg"),o=e("l/xl"),r=e("0MGc"),a=e("UxEy"),c=e("nLnT");e.d(l,"b",function(){return h}),l.a=t;var _=[],h=u._27({encapsulation:2,styles:_,data:{}});u._37("progressbar",a.a,i,{animate:"animate",max:"max",type:"type",value:"value"},{},["*"])},kZql:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t={production:!0}},kke6:function(n,l,e){"use strict";var t=e("3j3K"),i=e("Iksp"),u=e("2Je8"),s=e("Qbdm"),o=e("euY1"),r=e("Fkvj"),a=e("CCBf"),c=e("h+R6"),_=e("NVOs"),h=e("Fzro"),d=e("6mXj"),p=e("O46L"),f=e("/CuN"),g=e("F6a+"),m=e("nLnT"),v=e("ElZy"),b=e("XPFw"),y=e("fgLA"),S=e("TDEt"),E=e("CpRO"),T=e("W5Sx"),R=e("z4U6"),w=e("nP8S"),I=e("eZ6p"),O=e("2Nar"),x=e("HfiP"),C=e("jcoH"),D=e("S022"),P=e("fgMC"),A=e("8ue6"),H=e("Tg7w"),M=e("Qnhu"),L=(e.n(M),e("7alq")),N=(e.n(L),e("i/uW")),k=(e.n(N),e("BTY6")),G=(e.n(k),e("ciIN")),j=(e.n(G),e("HYun")),F=(e.n(j),e("8h/D")),B=(e.n(F),e("wqfb")),W=(e.n(B),e("66wj")),U=(e.n(W),e("5oXY"));e.d(l,"a",function(){return X});var Y=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var e in l)l.hasOwnProperty(e)&&(n[e]=l[e])};return function(l,e){function t(){this.constructor=l}n(l,e),l.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),z=function(n){function l(l){return n.call(this,l,[T.a,R.a,w.a,I.a,O.a,x.a],[w.a])||this}return Y(l,n),Object.defineProperty(l.prototype,"_LOCALE_ID_17",{get:function(){return null==this.__LOCALE_ID_17&&(this.__LOCALE_ID_17=t.b(this.parent.get(t.c,null))),this.__LOCALE_ID_17},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_NgLocalization_18",{get:function(){return null==this.__NgLocalization_18&&(this.__NgLocalization_18=new u.a(this._LOCALE_ID_17)),this.__NgLocalization_18},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Compiler_19",{get:function(){return null==this.__Compiler_19&&(this.__Compiler_19=new t.d),this.__Compiler_19},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_APP_ID_20",{get:function(){return null==this.__APP_ID_20&&(this.__APP_ID_20=t.e()),this.__APP_ID_20},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_IterableDiffers_21",{get:function(){return null==this.__IterableDiffers_21&&(this.__IterableDiffers_21=t.f()),this.__IterableDiffers_21},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_KeyValueDiffers_22",{get:function(){return null==this.__KeyValueDiffers_22&&(this.__KeyValueDiffers_22=t.g()),this.__KeyValueDiffers_22},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_DomSanitizer_23",{get:function(){return null==this.__DomSanitizer_23&&(this.__DomSanitizer_23=new s.b(this.parent.get(s.c))),this.__DomSanitizer_23},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Sanitizer_24",{get:function(){return null==this.__Sanitizer_24&&(this.__Sanitizer_24=this._DomSanitizer_23),this.__Sanitizer_24},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_HAMMER_GESTURE_CONFIG_25",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_25&&(this.__HAMMER_GESTURE_CONFIG_25=new s.d),this.__HAMMER_GESTURE_CONFIG_25},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_EVENT_MANAGER_PLUGINS_26",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_26&&(this.__EVENT_MANAGER_PLUGINS_26=[new s.e(this.parent.get(s.c)),new s.f(this.parent.get(s.c)),new s.g(this.parent.get(s.c),this._HAMMER_GESTURE_CONFIG_25)]),this.__EVENT_MANAGER_PLUGINS_26},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_EventManager_27",{get:function(){return null==this.__EventManager_27&&(this.__EventManager_27=new s.h(this._EVENT_MANAGER_PLUGINS_26,this.parent.get(t.h))),this.__EventManager_27},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵDomSharedStylesHost_28",{get:function(){return null==this.__ɵDomSharedStylesHost_28&&(this.__ɵDomSharedStylesHost_28=new s.i(this.parent.get(s.c))),this.__ɵDomSharedStylesHost_28},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵDomRendererFactory2_29",{get:function(){return null==this.__ɵDomRendererFactory2_29&&(this.__ɵDomRendererFactory2_29=new s.j(this._EventManager_27,this._ɵDomSharedStylesHost_28)),this.__ɵDomRendererFactory2_29},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_RendererFactory2_30",{get:function(){return null==this.__RendererFactory2_30&&(this.__RendererFactory2_30=this._ɵDomRendererFactory2_29),this.__RendererFactory2_30},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵSharedStylesHost_31",{get:function(){return null==this.__ɵSharedStylesHost_31&&(this.__ɵSharedStylesHost_31=this._ɵDomSharedStylesHost_28),this.__ɵSharedStylesHost_31},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Testability_32",{get:function(){return null==this.__Testability_32&&(this.__Testability_32=new t.i(this.parent.get(t.h))),this.__Testability_32},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Meta_33",{get:function(){return null==this.__Meta_33&&(this.__Meta_33=new s.k(this.parent.get(s.c))),this.__Meta_33},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Title_34",{get:function(){return null==this.__Title_34&&(this.__Title_34=new s.l(this.parent.get(s.c))),this.__Title_34},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵi_35",{get:function(){return null==this.__ɵi_35&&(this.__ɵi_35=new _.a),this.__ɵi_35},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_BrowserXhr_36",{get:function(){return null==this.__BrowserXhr_36&&(this.__BrowserXhr_36=new h.a),this.__BrowserXhr_36},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ResponseOptions_37",{get:function(){return null==this.__ResponseOptions_37&&(this.__ResponseOptions_37=new h.b),this.__ResponseOptions_37},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_XSRFStrategy_38",{get:function(){return null==this.__XSRFStrategy_38&&(this.__XSRFStrategy_38=h.c()),this.__XSRFStrategy_38},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_XHRBackend_39",{get:function(){return null==this.__XHRBackend_39&&(this.__XHRBackend_39=new h.d(this._BrowserXhr_36,this._ResponseOptions_37,this._XSRFStrategy_38)),this.__XHRBackend_39},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_RequestOptions_40",{get:function(){return null==this.__RequestOptions_40&&(this.__RequestOptions_40=new h.e),this.__RequestOptions_40},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Http_41",{get:function(){return null==this.__Http_41&&(this.__Http_41=h.f(this._XHRBackend_39,this._RequestOptions_40)),this.__Http_41},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_TooltipConfig_42",{get:function(){return null==this.__TooltipConfig_42&&(this.__TooltipConfig_42=new p.a),this.__TooltipConfig_42},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_PositioningService_43",{get:function(){return null==this.__PositioningService_43&&(this.__PositioningService_43=new f.a),this.__PositioningService_43},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ComponentLoaderFactory_44",{get:function(){return null==this.__ComponentLoaderFactory_44&&(this.__ComponentLoaderFactory_44=new g.a(this.componentFactoryResolver,this.parent.get(t.h),this,this._PositioningService_43)),this.__ComponentLoaderFactory_44},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ProgressbarConfig_45",{get:function(){return null==this.__ProgressbarConfig_45&&(this.__ProgressbarConfig_45=new m.a),this.__ProgressbarConfig_45},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_TabsetConfig_46",{get:function(){return null==this.__TabsetConfig_46&&(this.__TabsetConfig_46=new v.a),this.__TabsetConfig_46},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_LocationStrategy_47",{get:function(){return null==this.__LocationStrategy_47&&(this.__LocationStrategy_47=new u.b(this.parent.get(u.c),this.parent.get(u.d,null))),this.__LocationStrategy_47},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_UIRouter_50",{get:function(){return null==this.__UIRouter_50&&(this.__UIRouter_50=C.a(this._LocationStrategy_47,this._UIROUTER_ROOT_MODULE_48,this._UIROUTER_MODULE_TOKEN_49,this)),this.__UIRouter_50},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_StateRegistry_51",{get:function(){return null==this.__StateRegistry_51&&(this.__StateRegistry_51=C.b(this._UIRouter_50)),this.__StateRegistry_51},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_UIView_PARENT_INJECT_52",{get:function(){return null==this.__UIView_PARENT_INJECT_52&&(this.__UIView_PARENT_INJECT_52=C.c(this._StateRegistry_51)),this.__UIView_PARENT_INJECT_52},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_StateService_53",{get:function(){return null==this.__StateService_53&&(this.__StateService_53=C.d(this._UIRouter_50)),this.__StateService_53},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_TransitionService_54",{get:function(){return null==this.__TransitionService_54&&(this.__TransitionService_54=C.e(this._UIRouter_50)),this.__TransitionService_54},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_UrlMatcherFactory_55",{get:function(){return null==this.__UrlMatcherFactory_55&&(this.__UrlMatcherFactory_55=C.f(this._UIRouter_50)),this.__UrlMatcherFactory_55},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_UrlRouter_56",{get:function(){return null==this.__UrlRouter_56&&(this.__UrlRouter_56=C.g(this._UIRouter_50)),this.__UrlRouter_56},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_UrlService_57",{get:function(){return null==this.__UrlService_57&&(this.__UrlService_57=C.h(this._UIRouter_50)),this.__UrlService_57},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ViewService_58",{get:function(){return null==this.__ViewService_58&&(this.__ViewService_58=C.i(this._UIRouter_50)),this.__ViewService_58},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_UIRouterGlobals_59",{get:function(){return null==this.__UIRouterGlobals_59&&(this.__UIRouterGlobals_59=C.j(this._UIRouter_50)),this.__UIRouterGlobals_59},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ConfigService_61",{get:function(){return null==this.__ConfigService_61&&(this.__ConfigService_61=new b.a),this.__ConfigService_61},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_LogService_62",{get:function(){return null==this.__LogService_62&&(this.__LogService_62=new y.a),this.__LogService_62},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_GameService_63",{get:function(){return null==this.__GameService_63&&(this.__GameService_63=new S.a(this._ConfigService_61,this._LogService_62,this.parent.get(t.h))),this.__GameService_63},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_DragService_64",{get:function(){return null==this.__DragService_64&&(this.__DragService_64=new E.a),this.__DragService_64},enumerable:!0,configurable:!0}),l.prototype.createInternal=function(){return this._CommonModule_0=new u.e,this._ErrorHandler_1=s.m(),this._APP_INITIALIZER_2=[t.j,s.n(this.parent.get(s.o,null),this.parent.get(t.k,null))],this._ApplicationInitStatus_3=new t.l(this._APP_INITIALIZER_2),this._ɵf_4=new t.m(this.parent.get(t.h),this.parent.get(t.n),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_3),this._ApplicationRef_5=this._ɵf_4,this._ApplicationModule_6=new t.o(this._ApplicationRef_5),this._BrowserModule_7=new s.p(this.parent.get(s.p,null)),this._TooltipModule_8=new o.a,this._ProgressbarModule_9=new r.a,this._TabsModule_10=new a.a,this._ModalModule_11=new c.a,this._ɵba_12=new _.b,this._FormsModule_13=new _.c,this._HttpModule_14=new h.g,this._UIRouterModule_15=new d.a,this._AppModule_16=new i.a(this),this._UIROUTER_ROOT_MODULE_48=[{states:[{parent:"game",name:"main",url:"/main",component:D.a},{name:"game",redirectTo:"home",component:P.a},{parent:"game",name:"test",url:"/test",component:A.a}],useHash:!0,otherwise:{state:"main"},config:H.a}],this._UIROUTER_MODULE_TOKEN_49=[{states:[{parent:"game",name:"main",url:"/main",component:D.a},{name:"game",redirectTo:"home",component:P.a},{parent:"game",name:"test",url:"/test",component:A.a}],useHash:!0,otherwise:{state:"main"},config:H.a}],this._ROUTES_60=[[{parent:"game",name:"main",url:"/main",component:D.a},{name:"game",redirectTo:"home",component:P.a},{parent:"game",name:"test",url:"/test",component:A.a}]],this._AppModule_16},l.prototype.getInternal=function(n,l){return n===u.e?this._CommonModule_0:n===t.p?this._ErrorHandler_1:n===t.q?this._APP_INITIALIZER_2:n===t.l?this._ApplicationInitStatus_3:n===t.m?this._ɵf_4:n===t.r?this._ApplicationRef_5:n===t.o?this._ApplicationModule_6:n===s.p?this._BrowserModule_7:n===o.a?this._TooltipModule_8:n===r.a?this._ProgressbarModule_9:n===a.a?this._TabsModule_10:n===c.a?this._ModalModule_11:n===_.b?this._ɵba_12:n===_.c?this._FormsModule_13:n===h.g?this._HttpModule_14:n===d.a?this._UIRouterModule_15:n===i.a?this._AppModule_16:n===t.c?this._LOCALE_ID_17:n===u.f?this._NgLocalization_18:n===t.d?this._Compiler_19:n===t.s?this._APP_ID_20:n===t.t?this._IterableDiffers_21:n===t.u?this._KeyValueDiffers_22:n===s.q?this._DomSanitizer_23:n===t.v?this._Sanitizer_24:n===s.r?this._HAMMER_GESTURE_CONFIG_25:n===s.s?this._EVENT_MANAGER_PLUGINS_26:n===s.h?this._EventManager_27:n===s.i?this._ɵDomSharedStylesHost_28:n===s.j?this._ɵDomRendererFactory2_29:n===t.w?this._RendererFactory2_30:n===s.t?this._ɵSharedStylesHost_31:n===t.i?this._Testability_32:n===s.k?this._Meta_33:n===s.l?this._Title_34:n===_.a?this._ɵi_35:n===h.a?this._BrowserXhr_36:n===h.h?this._ResponseOptions_37:n===h.i?this._XSRFStrategy_38:n===h.d?this._XHRBackend_39:n===h.j?this._RequestOptions_40:n===h.k?this._Http_41:n===p.a?this._TooltipConfig_42:n===f.a?this._PositioningService_43:n===g.a?this._ComponentLoaderFactory_44:n===m.a?this._ProgressbarConfig_45:n===v.a?this._TabsetConfig_46:n===u.g?this._LocationStrategy_47:n===d.b?this._UIROUTER_ROOT_MODULE_48:n===d.c?this._UIROUTER_MODULE_TOKEN_49:n===M.UIRouter?this._UIRouter_50:n===L.StateRegistry?this._StateRegistry_51:"UIView.PARENT_INJECT"===n?this._UIView_PARENT_INJECT_52:n===N.StateService?this._StateService_53:n===k.TransitionService?this._TransitionService_54:n===G.UrlMatcherFactory?this._UrlMatcherFactory_55:n===j.UrlRouter?this._UrlRouter_56:n===F.UrlService?this._UrlService_57:n===B.ViewService?this._ViewService_58:n===W.UIRouterGlobals?this._UIRouterGlobals_59:n===U.a?this._ROUTES_60:n===b.a?this._ConfigService_61:n===y.a?this._LogService_62:n===S.a?this._GameService_63:n===E.a?this._DragService_64:l},l.prototype.destroyInternal=function(){this._ɵf_4.ngOnDestroy(),this.__ɵDomSharedStylesHost_28&&this._ɵDomSharedStylesHost_28.ngOnDestroy()},l}(t.x),X=new t.y(z,i.a)},"l/xl":function(n,l,e){"use strict";function t(n){return u._28(0,[(n()(),u._29(null,["\n  "])),(n()(),u._30(0,null,null,4,"div",[["aria-valuemin","0"],["class","progress-bar"],["role","progressbar"],["style","min-width: 0;"]],[[1,"aria-valuenow",0],[1,"aria-valuetext",0],[1,"aria-valuemax",0]],null,null,null,null)),u._33(139264,null,0,s.o,[u.t,u.u,u.H,u.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._33(139264,null,0,s.p,[u.u,u.H,u.G],{ngStyle:[0,"ngStyle"]},null),u._39(["width","transition"]),u._42(null,0),(n()(),u._29(null,["\n"]))],function(n,l){var e=l.component;n(l,2,0,"progress-bar",e.type&&"progress-bar-"+e.type),n(l,3,0,n(l,4,0,(e.percent<100?e.percent:100)+"%",e.transition))},function(n,l){var e=l.component;n(l,1,0,e.value,e.percent.toFixed(0)+"%",e.max)})}function i(n){return u._28(0,[(n()(),u._30(0,null,null,1,"bar",[],null,null,null,t,c)),u._33(122880,null,0,o.a,[r.a],null,null)],function(n,l){n(l,1,0)},null)}var u=e("3j3K"),s=e("2Je8"),o=e("0MGc"),r=e("t7Yg");e.d(l,"b",function(){return c}),l.a=t;var a=[],c=u._27({encapsulation:2,styles:a,data:{}});u._37("bar",o.a,i,{type:"type",value:"value"},{},["*"])},miXm:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[""]},nP8S:function(n,l,e){"use strict";function t(n){return o._28(0,[(n()(),o._41(0,null,null,0))],null,null)}function i(n){return o._28(0,[o._42(null,0),(n()(),o._41(0,null,null,0))],null,null)}function u(n){return o._28(0,[o._38(201326592,1,{componentTarget:0}),(n()(),o._29(null,["\n    "])),(n()(),o._41(8388608,[[1,3],["componentTarget",2]],null,0,null,t)),(n()(),o._29(null,["\n    "])),(n()(),o._41(8388608,null,null,1,null,i)),o._33(8192,null,0,r.n,[o.P,o._5],{ngIf:[0,"ngIf"]},null),(n()(),o._29(null,["\n  "]))],function(n,l){n(l,5,0,!l.component.componentRef)},null)}function s(n){return o._28(0,[(n()(),o._30(8388608,null,null,1,"ui-view",[],null,null,null,u,h)),o._33(122880,null,0,a.a,[c.UIRouter,"UIView.PARENT_INJECT",o.P,o._21],null,null)],function(n,l){n(l,1,0)},null)}var o=e("3j3K"),r=e("2Je8"),a=e("U9Z3"),c=e("Qnhu");e.n(c);e.d(l,"c",function(){return h}),l.b=u,e.d(l,"a",function(){return d});var _=[],h=o._27({encapsulation:2,styles:_,data:{}}),d=o._37("ui-view, [ui-view]",a.a,s,{name:"name",_name:"ui-view"},{},["*"])},njUz:function(n,l,e){"use strict";var t=e("NgIG"),i=e("0XFg"),u=(e.n(i),e("yQWr"));e.d(l,"a",function(){return o}),e.d(l,"b",function(){return r});var s={HOUSING:"housing",STORAGE:"storage",NURSERY:"nursery"},o=function(){function n(n){this._calcLevel=-1,this._sizeChanged=!0;var l=t.b.find(function(l){return l.rid===n.rid}),u={};l&&(u.resource=l.name),this.bid=n.bid,this.name=e.i(i.sprintf)(n.name,u),this.description=e.i(i.sprintf)(n.description,u),this.use=n.use,this.size=n.size,this.rid=n.rid,this.cost=n.cost,this.purchased=n.purchased,this.gifted=n.gifted,this.unlocked=n.unlocked,this.multiplier=n.multiplier,this.canBuild=!1,this.getNextCost()}return n.prototype.setCanBuild=function(n){for(var l=function(l){var t=n.find(function(n){return n.rid===l.resource.rid});if(!t||t.owned<l.amount)return e.canBuild=!1,{value:!1}},e=this,t=0,i=this.getNextCost();t<i.length;t++){var u=i[t],s=l(u);if("object"==typeof s)return s.value}return this.canBuild=!0,!0},n.prototype.getNextCost=function(){if(this._calcLevel!==this.purchased){this._nextCost=[];for(var n=function(n){var e=t.b.find(function(l){return l.rid===n.rid}),i=Math.ceil(n.base*Math.pow(1+n.percent/100,l.purchased));l._nextCost.push({resource:e,amount:i})},l=this,e=0,i=this.cost;e<i.length;e++){n(i[e])}this._calcLevel=this.purchased}return this._nextCost},n.prototype.getSize=function(){return this._sizeChanged&&(this.gifted+this.purchased>0?this._size=Math.ceil(this.size.base*Math.pow(1+this.size.percent/100,this.gifted+this.purchased-1)):this._size=0,this._sizeChanged=!1),this._size},n.prototype.build=function(n,l){var e=[];return n||(n=1),l?this.gifted+=n:this.canBuild&&(e=this._nextCost,this.purchased+=n),this._sizeChanged=!0,e},n}(),r=[{bid:u.c.DORMITORY,name:"Dormitory",description:"Where the adult bees live.",use:s.HOUSING,size:{base:20,percent:15},cost:[{rid:"wax",base:50,percent:125}],purchased:0,gifted:1,unlocked:!0,multiplier:1},{bid:u.c.NURSERY,name:"Nursery",description:"Where the eggs and larva live.",use:s.NURSERY,size:{base:5,percent:12.5},cost:[{rid:"wax",base:50,percent:125}],purchased:0,gifted:1,unlocked:!0,multiplier:1},{bid:u.c.STORAGE_NECTAR,name:"%(resource)s Storage",description:"Stores %(resource)s.",use:"storage",rid:"nectar",size:{base:75,percent:100},cost:[{rid:"wax",base:50,percent:125}],purchased:0,gifted:1,unlocked:!0,multiplier:1},{bid:u.c.STORAGE_POLLEN,name:"%(resource)s Storage",description:"Stores %(resource)s.",use:"storage",rid:"pollen",size:{base:75,percent:100},cost:[{rid:"wax",base:50,percent:125}],purchased:0,gifted:1,unlocked:!0,multiplier:1},{bid:u.c.STORAGE_WATER,name:"%(resource)s Storage",description:"Stores %(resource)s.",use:"storage",rid:"water",size:{base:75,percent:100},cost:[{rid:"wax",base:50,percent:125}],purchased:0,gifted:1,unlocked:!0,multiplier:1},{bid:u.c.STORAGE_FOOD,name:"%(resource)s Storage",description:"Stores %(resource)s.",use:"storage",rid:"food",size:{base:75,percent:100},cost:[{rid:"wax",base:50,percent:125}],purchased:0,gifted:1,unlocked:!0,multiplier:1},{bid:u.c.STORAGE_HONEY,name:"%(resource)s Storage",description:"Stores %(resource)s.",use:"storage",rid:"honey",size:{base:75,percent:100},cost:[{rid:"wax",base:50,percent:125}],purchased:0,gifted:1,unlocked:!0,multiplier:1},{bid:u.c.STORAGE_JELLY,name:"%(resource)s Storage",description:"Stores %(resource)s.",use:"storage",rid:"royal_jelly",size:{base:75,percent:100},cost:[{rid:"wax",base:50,percent:125}],purchased:0,gifted:1,unlocked:!0,multiplier:1},{bid:u.c.STORAGE_WAX,name:"%(resource)s Storage",description:"Stores %(resource)s.",use:"storage",rid:"wax",size:{base:75,percent:100},cost:[{rid:"wax",base:50,percent:125}],purchased:0,gifted:1,unlocked:!0,multiplier:1}]},oaqd:function(n,l,e){"use strict";e.d(l,"b",function(){return t}),e.d(l,"a",function(){return i});var t=function(){function n(n){this.id=n.id,this.name=n.name,this.desc=n.desc,this.genes=n.genes,this.requiredTraits=n.requiredTraits,this.mods=n.mods,this.icon=n.icon}return n}(),i=[{id:"B_STING",name:"Big stinger",desc:"A stinger built for defense.",genes:[{chromosome:0,gene:0,value:!0}],mods:[{abilityId:"def",add:5}],icon:"icon-shield text-success"},{id:"L_STING",name:"Little stinger",desc:"This below average sized stinger is bad for defense.",genes:[{chromosome:0,gene:0,value:!1}],mods:[{abilityId:"def",add:-5}],icon:"icon-shield text-danger"},{id:"RNG_1",name:"Extra Range 1",desc:"Can fly 1 additional cell.",genes:[{chromosome:1,gene:0,value:!0}],mods:[{abilityId:"rng",add:1}],icon:"fa-arrow-up text-success"},{id:"VENOM_10_PCT",name:"10% More Venomous",desc:"Extra venom for better defense.",genes:[{chromosome:2,gene:0,value:!1}],requiredTraits:["B_STING"],mods:[{abilityId:"def",percent:10}],icon:"icon-shield text-success"},{id:"FLY_10_PCT",name:"Fly 10% Faster",desc:"Little stinger, faster flier.",genes:[{chromosome:2,gene:0,value:!1}],requiredTraits:["L_STING"],mods:[{abilityId:"spd_fly",percent:-10}],icon:"fa-bolt text-success"}]},"sJ/l":function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[""]},"tJx/":function(n,l,e){"use strict";function t(n){return s._28(0,[(n()(),s._30(0,null,null,30,"div",[["class","player-box"]],null,null,null,null,null)),(n()(),s._29(null,["\n    "])),(n()(),s._30(0,null,null,15,"h3",[["class","box-title"]],null,null,null,null,null)),(n()(),s._29(null,["\n        "])),(n()(),s._30(0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(n()(),s._29(null,["\n            "])),(n()(),s._30(0,null,null,3,"div",[["class","col-xs-9"]],null,null,null,null,null)),(n()(),s._29(null,["\n                "])),(n()(),s._30(0,null,null,0,"i",[["class","fa fa-check-square-o"]],null,null,null,null,null)),(n()(),s._29(null,[" Goals\n            "])),(n()(),s._29(null,["\n            "])),(n()(),s._30(0,null,null,4,"div",[["class","col-xs-3"]],null,null,null,null,null)),(n()(),s._29(null,["\n                "])),(n()(),s._30(0,null,null,1,"div",[["class"," pull-right"]],null,null,null,null,null)),(n()(),s._29(null,["\n                "])),(n()(),s._29(null,["\n            "])),(n()(),s._29(null,["\n        "])),(n()(),s._29(null,["\n    "])),(n()(),s._29(null,["\n    "])),(n()(),s._30(0,null,null,10,"div",[["class","player-content"]],null,null,null,null,null)),(n()(),s._29(null,["\n        "])),(n()(),s._30(0,null,null,7,"div",[["class","row goal-container"]],null,null,null,null,null)),(n()(),s._29(null,["\n            "])),(n()(),s._30(0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),s._29(null,["Active Goals"])),(n()(),s._29(null,["\n            "])),(n()(),s._30(0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),s._29(null,["Daily Goals"])),(n()(),s._29(null,["\n        "])),(n()(),s._29(null,["\n    "])),(n()(),s._29(null,["\n"]))],null,null)}function i(n){return s._28(0,[(n()(),s._30(0,null,null,1,"bloqhead-goal-list",[],null,null,null,t,a)),s._33(57344,null,0,o.a,[],null,null)],function(n,l){n(l,1,0)},null)}var u=e("wPGH"),s=e("3j3K"),o=e("8gpH");e.d(l,"b",function(){return a}),l.a=t;var r=[u.a],a=s._27({encapsulation:0,styles:r,data:{}});s._37("bloqhead-goal-list",o.a,i,{},{},[])},vaHi:function(n,l,e){"use strict";var t=e("TDEt"),i=e("yQWr"),u=e("FX7h");e.d(l,"a",function(){return s});var s=function(){function n(n){this._gameService=n,this.BeeTypes=u.a}return n.prototype.ngOnInit=function(){},n.prototype.getQueenElapsedSec=function(){return Math.round(this._gameService.map.currentHive.bees.find(function(n){return"breeder"===n.jid}).msSinceWork/1e3)},n.prototype.getQueenBreedTimeSec=function(){return Math.round(this._gameService.map.currentHive.bees.find(function(n){return"breeder"===n.jid}).getAbility(i.d.PRD_EGG).value/1e3)},n.prototype.canBreed=function(n){var l=this._gameService.map.currentHive;return!n.dead&&l.getPopulationCount()<l.populationLimit},n.prototype.canFertilize=function(n){return!n.dead},n.prototype.assignBee=function(n,l){this._gameService.map.currentHive.assignBee(n,l)},n.ctorParameters=function(){return[{type:t.a}]},n}()},wELa:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[""]},wPGH:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[""]},wUwf:function(n,l,e){"use strict";var t=e("Gf3B"),i=e("OolY");e.d(l,"a",function(){return u});var u=function(){function n(n){this.Static={Letters:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},this.config=n,this.config.hexConfig=this.config.hexConfig||{HEIGHT:91.14378277661477,WIDTH:91.14378277661477,SIDE:50,MARGIN:5},this.config.STROKEWIDTH=this.config.STROKEWIDTH||3,this.config.SHOW_HEX_ID=this.config.SHOW_HEX_ID||!1,this.config.SHOW_HEX_XY=this.config.SHOW_HEX_XY||!1,this.Hexes=[];for(var l=[[]],e=0,t=0;e<=2*(this.config.MAPHEIGHT-1);){var u=0,s=0;e%2==1&&(s=(this.config.hexConfig.WIDTH-this.config.hexConfig.SIDE)/2+this.config.hexConfig.SIDE,u=1);for(var o=s;u<=2*(this.config.MAPWIDTH-1);){var r=this.GetHexId(e,u),a=new i.a(r,u,e,this.config.hexConfig),c=u;a.PathCoOrdX=u,this.Hexes.push(a),l[c]||(l[c]=[]),l[c].push(a),u+=2,o+=this.config.hexConfig.WIDTH+this.config.hexConfig.SIDE}e++,t+=this.config.hexConfig.HEIGHT/2}for(var _ in l){var h=l[_],d=parseInt(_),p=Math.floor(d/2)+d%2;for(var f in h){h[f].PathCoOrdY=p++}}}return n.prototype.GetHexId=function(n,l){for(var e=n,t="";e>25;)t=this.Static.Letters[e%26]+t,e-=26;return this.Static.Letters[e]+t+(l+1)},n.prototype.Relocate=function(){for(var n=0,l=this.Hexes;n<l.length;n++){l[n].Relocate(this.config.hexConfig)}},n.prototype.GetHexAt=function(n){return this.Hexes.find(function(l){return l.Contains(n)})},n.prototype.GetHexDistance=function(n,l){var e=n.PathCoOrdX-l.PathCoOrdX,t=n.PathCoOrdY-l.PathCoOrdY;return(Math.abs(e)+Math.abs(t)+Math.abs(e-t))/2},n.prototype.GetHexById=function(n){return this.Hexes.find(function(l){return l.id===n})},n.prototype.GetNearestHex=function(n){for(var l,e=Number.MAX_VALUE,t=null,i=0,u=this.Hexes;i<u.length;i++){var s=u[i];l=s.distanceFromMidPoint(n),l<e&&(e=l,t=s)}return t},n.prototype.setHexSizeByHeight=function(n){n=n||30;var l=n*(2/Math.sqrt(3)),e=-3,t=-2*l,i=Math.pow(l,2)+Math.pow(n,2),u=(-t-Math.sqrt(Math.pow(t,2)-4*e*i))/(2*e);return this.config.hexConfig.WIDTH=l,this.config.hexConfig.HEIGHT=n,this.config.hexConfig.SIDE=u,this.Relocate(),this.config.canvasSize=this.calcCanvasSize(),this.config},n.prototype.setHexSizeBySide=function(n,l){length=length||18,l=l||2/Math.sqrt(3);var e=length,t=l,i=Math.pow(t,2),u=(1+i)/i,s=e/i,o=(1-4*i)/(4*i)*Math.pow(e,2),r=(-s+Math.sqrt(Math.pow(s,2)-4*u*o))/(2*u),a=(2*r+e)/(2*t),c=2*r+e,_=2*a;return this.config.hexConfig.WIDTH=c,this.config.hexConfig.HEIGHT=_,this.config.hexConfig.SIDE=e,this.Relocate(),this.config.canvasSize=this.calcCanvasSize(),this.config},n.prototype.calcCanvasSize=function(){var n=this.config.MAPWIDTH*(this.config.hexConfig.WIDTH+this.config.hexConfig.SIDE)-this.config.hexConfig.SIDE,l=this.config.MAPHEIGHT*this.config.hexConfig.HEIGHT;return n+=2*this.config.hexConfig.MARGIN,l+=2*this.config.hexConfig.MARGIN,new t.a(n,l)},n}()},x35b:function(n,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t=e("3j3K"),i=e("kZql"),u=e("Qbdm"),s=e("kke6");i.a.production&&e.i(t.a)(),e.i(u.a)().bootstrapModuleFactory(s.a)},yQWr:function(n,l,e){"use strict";e.d(l,"a",function(){return t}),e.d(l,"d",function(){return i}),e.d(l,"b",function(){return u}),e.d(l,"c",function(){return s});var t={IDLE:"idle",BREEDER:"breeder",FORAGER:"forager",NURSE:"nurse",PRODUCER_FOOD:"producer_food",PRODUCER_HONEY:"producer_honey",BUILDER:"builder",UNDERTAKER:"undertaker",GUARD:"guard"},i={DEF:"def",RNG:"rng",STR_POLLEN:"str_pollen",STR_NECTAR:"str_nectar",STR_WATER:"str_water",SPD_FLY:"spd_fly",SPD_CLT:"spd_clt",SPD_DEP:"spd_dep",PRD_HONEY:"prd_honey",YLD_HONEY:"yld_honey",COST_HONEY_NECTAR:"cost_honey_nectar",PRD_WAX:"prd_wax",YLD_WAX:"yld_wax",COST_WAX_FOOD:"cost_wax_food",PRD_JELLY:"prd_jelly",YLD_JELLY:"yld_jelly",COST_JELLY_HONEY:"cost_jelly_honey",COST_JELLY_POLLEN:"cost_jelly_pollen",PRD_FOOD:"prd_food",YLD_FOOD:"yld_food",COST_FOOD_POLLEN:"cost_food_pollen",COST_FOOD_HONEY:"cost_food_honey",COST_FOOD_WATER:"cost_food_water",COST_FOOD_DEADBEES:"cost_food_deadbees",PRD_EGG:"prd_egg",MORT_RATE:"mort_rate",Get_STR:function(n){switch(n){case"nectar":return i.STR_NECTAR;case"pollen":return i.STR_POLLEN;case"water":return i.STR_WATER}}},u={NECTAR:"nectar",POLLEN:"pollen",WATER:"water",FOOD:"food",HONEY:"honey",ROYAL_JELLY:"royal_jelly",WAX:"wax",DEADBEES:"deadbees",DEFENSE:"defense"},s={DORMITORY:"dormitory",NURSERY:"nursery",STORAGE_NECTAR:"storage_nectar",STORAGE_POLLEN:"storage_pollen",STORAGE_WATER:"storage_water",STORAGE_WAX:"storage_wax",STORAGE_JELLY:"storage_jelly",STORAGE_HONEY:"storage_honey",STORAGE_FOOD:"storage_food"}},z4U6:function(n,l,e){"use strict";function t(n){return u._28(0,[],null,null)}function i(n){return u._28(0,[(n()(),u._30(0,null,null,1,"bs-modal-backdrop",[["class","modal-backdrop"]],null,null,null,t,r)),u._33(24576,null,0,s.a,[u.H,u.G],null,null)],null,null)}var u=e("3j3K"),s=e("tok5");e.d(l,"a",function(){return a});var o=[],r=u._27({encapsulation:2,styles:o,data:{}}),a=u._37("bs-modal-backdrop",s.a,i,{},{},[])}},[1]);