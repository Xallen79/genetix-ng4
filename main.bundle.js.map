{"version":3,"sources":["webpack:///./src/app/config/buildingTypes.config.ts","webpack:///./src/app/config/jobTypes.config.ts","webpack:///./src/app/drag-drop/drag-service.service.ts","webpack:///./src/app/game.component.ts","webpack:///./src/app/main-game/main-game.component.ts","webpack:///./src/app/test-interface/test-interface.component.ts","webpack:///./src/app/game.service.ts","webpack:///./src/app/config/types.config.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.states.ts","webpack:///./src/app/building-list/building-list.component.ts","webpack:///./src/app/classes/genome.class.ts","webpack:///./src/app/classes/hexmap/grid.class.ts","webpack:///./src/app/classes/hexmap/hexagon.class.ts","webpack:///./src/app/classes/hive.class.ts","webpack:///./src/app/classes/map-resource.class.ts","webpack:///./src/app/classes/map.class.ts","webpack:///./src/app/config/abilities.config.ts","webpack:///./src/app/config/traits.config.ts","webpack:///./src/app/drag-drop/drag-drop.directive.ts","webpack:///./src/app/game-control/game-control.component.ts","webpack:///./src/app/goal-list/goal-list.component.ts","webpack:///./src/app/map/map.component.ts","webpack:///./src/app/nursery/nursery.component.ts","webpack:///./src/app/population-panel/population-panel.component.ts","webpack:///./src/app/population/population.component.ts","webpack:///./src/app/resource-list/resource-list.component.ts","webpack:///./src/app/router.config.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/building-list/building-list.component.scss","webpack:///./src/app/game.component.scss","webpack:///./src/app/goal-list/goal-list.component.scss","webpack:///./src/app/map/map.component.scss","webpack:///./src/app/nursery/nursery.component.scss","webpack:///./src/app/population-panel/population-panel.component.scss","webpack:///./src/app/population/population.component.scss","webpack:///./src/app/resource-list/resource-list.component.scss","webpack:///./src/app/app.module.ts","webpack:///./src/app/building-list/building-list.component.html","webpack:///./src/app/game.component.html","webpack:///./src/app/goal-list/goal-list.component.html","webpack:///./src/app/log/log.component.html","webpack:///./src/app/main-game/main-game.component.html","webpack:///./src/app/map/map.component.html","webpack:///./src/app/nursery/nursery.component.html","webpack:///./src/app/population-panel/population-panel.component.html","webpack:///./src/app/population/population.component.html","webpack:///./src/app/resource-list/resource-list.component.html","webpack:///./src/app/config/config.service.ts","webpack:///./src/app/log/log.component.ts","webpack:///./src/app/classes/bee.class.ts","webpack:///./src/app/classes/hexmap/point.class.ts","webpack:///./src/app/config/resourceTypes.config.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import { DEFAULT_RESOURCES, Resource, IResourceType } from 'app/config/resourceTypes.config';\r\nimport { sprintf } from 'sprintf-js';\r\nimport { ResourceID, BuildingID } from \"app/config/types.config\";\r\nexport type BuildingUse = 'housing' | 'storage' | 'nursery';\r\nexport const BuildingUse = {\r\n    HOUSING: 'housing' as BuildingUse,\r\n    STORAGE: 'storage' as BuildingUse,\r\n    NURSERY: 'nursery' as BuildingUse\r\n\r\n};\r\n\r\ninterface IBuildingType {\r\n    bid: BuildingID;\r\n    name: string;\r\n    description: string;\r\n    use: BuildingUse;\r\n    size: {\r\n        base: number;\r\n        percent: number;\r\n    };\r\n    rid?: ResourceID;/*ResourceType*/\r\n    cost: [{\r\n        rid: ResourceID;/*ResourceType*/\r\n        base: number;\r\n        percent: number;\r\n    }],\r\n    purchased: number;\r\n    gifted: number;\r\n    unlocked: boolean;\r\n    multiplier: number;\r\n}\r\n\r\ninterface INextCost {\r\n    resource: IResourceType;\r\n    amount: number;\r\n};\r\n\r\nexport class Building implements IBuildingType {\r\n    bid: BuildingID;\r\n    name: string;\r\n    description: string;\r\n    use: BuildingUse;\r\n    size: {\r\n        base: number,\r\n        percent: number\r\n    };\r\n    rid?: ResourceID;/*ResourceType*/\r\n    cost: [{\r\n        rid: ResourceID,/*ResourceType*/\r\n        base: number,\r\n        percent: number\r\n    }];\r\n    purchased: number;\r\n    gifted: number;\r\n    unlocked: boolean;\r\n    multiplier: number;\r\n    canBuild: boolean;\r\n    private _nextCost: INextCost[];\r\n    private _calcLevel: number = -1;\r\n    private _size: number;\r\n    private _sizeChanged: boolean = true;\r\n    constructor(buildingType: IBuildingType) {\r\n        var resource = DEFAULT_RESOURCES.find(r => r.rid === buildingType.rid);\r\n        let obj: any = {};\r\n        if (resource) obj.resource = resource.name;\r\n        this.bid = buildingType.bid;\r\n        this.name = sprintf(buildingType.name, obj);\r\n        this.description = sprintf(buildingType.description, obj);\r\n        this.use = buildingType.use;\r\n        this.size = buildingType.size;\r\n        this.rid = buildingType.rid;\r\n        this.cost = buildingType.cost;\r\n        this.purchased = buildingType.purchased;\r\n        this.gifted = buildingType.gifted;\r\n        this.unlocked = buildingType.unlocked;\r\n        this.multiplier = buildingType.multiplier;\r\n\r\n        this.canBuild = false;\r\n        this.getNextCost();\r\n    }\r\n\r\n    setCanBuild(resources: Resource[]): boolean {\r\n\r\n        for (let cost of this.getNextCost()) {\r\n            let r: Resource = resources.find(r => r.rid === cost.resource.rid);\r\n            if (!r || r.owned < cost.amount) {\r\n\r\n                this.canBuild = false;\r\n                return false;\r\n            }\r\n        }\r\n        this.canBuild = true;\r\n        return true;\r\n\r\n    }\r\n    getNextCost(): INextCost[] {\r\n        if (this._calcLevel !== this.purchased) {\r\n            this._nextCost = [];\r\n            for (let c of this.cost) {\r\n                let r = DEFAULT_RESOURCES.find(r => r.rid === c.rid);\r\n                let nextAmount: number = Math.ceil(c.base * Math.pow(1 + (c.percent / 100), this.purchased));\r\n                this._nextCost.push({ resource: r, amount: nextAmount });\r\n            }\r\n            this._calcLevel = this.purchased;\r\n        }\r\n        return this._nextCost;\r\n    }\r\n    getSize(): number {\r\n        if (this._sizeChanged) {\r\n            if (this.gifted + this.purchased > 0)\r\n                this._size = Math.floor(this.size.base * Math.pow(1 + (this.size.percent / 100), (this.gifted + this.purchased - 1)));\r\n            else\r\n                this._size = 0;\r\n            this._sizeChanged = false;\r\n        }\r\n        return this._size;\r\n    }\r\n    build(number?: number, gifted?: boolean): INextCost[] {\r\n        var ret = [];\r\n        if (!number) number = 1;\r\n        if (gifted) this.gifted += number;\r\n        else if (this.canBuild) {\r\n            ret = this._nextCost;\r\n            this.purchased += number;\r\n        }\r\n        this._sizeChanged = true;\r\n        return ret;\r\n    }\r\n\r\n}\r\n\r\nexport var DEFAULT_BUILDINGS: IBuildingType[] = [\r\n    {\r\n        bid: BuildingID.DORMITORY,\r\n        name: \"Dormitory\",\r\n        description: \"Where the adult bees live.\",\r\n        use: BuildingUse.HOUSING,\r\n        size: {\r\n            base: 20,\r\n            percent: 15\r\n        },\r\n        cost: [{\r\n            rid: \"wax\",\r\n            base: 50,\r\n            percent: 125\r\n        }],\r\n        purchased: 0,\r\n        gifted: 1,\r\n        unlocked: true,\r\n        multiplier: 1\r\n    },\r\n    {\r\n        bid: BuildingID.NURSERY,\r\n        name: \"Nursery\",\r\n        description: \"Where the eggs and larva live.\",\r\n        use: BuildingUse.NURSERY,\r\n        size: {\r\n            base: 5,\r\n            percent: 12.5\r\n        },\r\n        cost: [\r\n            {\r\n                rid: \"wax\",\r\n                base: 50,\r\n                percent: 125\r\n            }\r\n        ],\r\n        purchased: 0,\r\n        gifted: 1,\r\n        unlocked: true,\r\n        multiplier: 1\r\n    },\r\n    {\r\n        bid: BuildingID.STORAGE_NECTAR,\r\n        name: \"%(resource)s Storage\",\r\n        description: \"Stores %(resource)s.\",\r\n        use: \"storage\",\r\n        rid: \"nectar\",\r\n        size: {\r\n            base: 75,\r\n            percent: 100\r\n        },\r\n        cost: [\r\n            {\r\n                rid: \"wax\",\r\n                base: 50,\r\n                percent: 125\r\n            }\r\n        ],\r\n        purchased: 0,\r\n        gifted: 1,\r\n        unlocked: true,\r\n        multiplier: 1\r\n    },\r\n    {\r\n        bid: BuildingID.STORAGE_POLLEN,\r\n        name: \"%(resource)s Storage\",\r\n        description: \"Stores %(resource)s.\",\r\n        use: \"storage\",\r\n        rid: \"pollen\",\r\n        size: {\r\n            base: 75,\r\n            percent: 100\r\n        },\r\n        cost: [\r\n            {\r\n                rid: \"wax\",\r\n                base: 50,\r\n                percent: 125\r\n            }\r\n        ],\r\n        purchased: 0,\r\n        gifted: 1,\r\n        unlocked: true,\r\n        multiplier: 1\r\n    },\r\n    {\r\n        bid: BuildingID.STORAGE_WATER,\r\n        name: \"%(resource)s Storage\",\r\n        description: \"Stores %(resource)s.\",\r\n        use: \"storage\",\r\n        rid: \"water\",\r\n        size: {\r\n            base: 75,\r\n            percent: 100\r\n        },\r\n        cost: [\r\n            {\r\n                rid: \"wax\",\r\n                base: 50,\r\n                percent: 125\r\n            }\r\n        ],\r\n        purchased: 0,\r\n        gifted: 1,\r\n        unlocked: true,\r\n        multiplier: 1\r\n    },\r\n    {\r\n        bid: BuildingID.STORAGE_FOOD,\r\n        name: \"%(resource)s Storage\",\r\n        description: \"Stores %(resource)s.\",\r\n        use: \"storage\",\r\n        rid: \"food\",\r\n        size: {\r\n            base: 75,\r\n            percent: 100\r\n        },\r\n        cost: [\r\n            {\r\n                rid: \"wax\",\r\n                base: 50,\r\n                percent: 125\r\n            }\r\n        ],\r\n        purchased: 0,\r\n        gifted: 1,\r\n        unlocked: true,\r\n        multiplier: 1\r\n    },\r\n    {\r\n        bid: BuildingID.STORAGE_HONEY,\r\n        name: \"%(resource)s Storage\",\r\n        description: \"Stores %(resource)s.\",\r\n        use: \"storage\",\r\n        rid: \"honey\",\r\n        size: {\r\n            base: 75,\r\n            percent: 100\r\n        },\r\n        cost: [\r\n            {\r\n                rid: \"wax\",\r\n                base: 50,\r\n                percent: 125\r\n            }\r\n        ],\r\n        purchased: 0,\r\n        gifted: 1,\r\n        unlocked: true,\r\n        multiplier: 1\r\n    },\r\n    {\r\n        bid: BuildingID.STORAGE_JELLY,\r\n        name: \"%(resource)s Storage\",\r\n        description: \"Stores %(resource)s.\",\r\n        use: \"storage\",\r\n        rid: \"royal_jelly\",\r\n        size: {\r\n            base: 75,\r\n            percent: 100\r\n        },\r\n        cost: [\r\n            {\r\n                rid: \"wax\",\r\n                base: 50,\r\n                percent: 125\r\n            }\r\n        ],\r\n        purchased: 0,\r\n        gifted: 1,\r\n        unlocked: true,\r\n        multiplier: 1\r\n    },\r\n    {\r\n        bid: BuildingID.STORAGE_WAX,\r\n        name: \"%(resource)s Storage\",\r\n        description: \"Stores %(resource)s.\",\r\n        use: \"storage\",\r\n        rid: \"wax\",\r\n        size: {\r\n            base: 75,\r\n            percent: 100\r\n        },\r\n        cost: [\r\n            {\r\n                rid: \"wax\",\r\n                base: 50,\r\n                percent: 125\r\n            }\r\n        ],\r\n        purchased: 0,\r\n        gifted: 1,\r\n        unlocked: true,\r\n        multiplier: 1\r\n    }\r\n\r\n]\n\n\n// WEBPACK FOOTER //\n// ./src/app/config/buildingTypes.config.ts","\r\nimport { AbilityID, JobID } from 'app/config/types.config';\r\n\r\n\r\nexport type JobAction = \"spawn\" | \"travel\" | \"collect\" | \"deposit\" | \"produce\" | \"protect\";\r\nexport const JobAction = {\r\n    SPAWN: 'spawn' as JobAction,\r\n    TRAVEL: 'travel' as JobAction,\r\n    COLLECT: 'collect' as JobAction,\r\n    DEPOSIT: 'deposit' as JobAction,\r\n    PRODUCE: 'produce' as JobAction,\r\n    PROTECT: 'protect' as JobAction\r\n};\r\n\r\n\r\ninterface IJobType {\r\n    jid: JobID;\r\n    name: string;\r\n    desc: string;\r\n    actions: IJobStep[];\r\n    beetypes: string[];\r\n}\r\nexport interface IJobStep {\r\n    action: JobAction;\r\n    rate?: AbilityID;\r\n    storage?(rid: string): AbilityID;\r\n    yield?: AbilityID;\r\n    cost?: AbilityID[];\r\n    amount?: AbilityID;\r\n\r\n}\r\n\r\nexport class JobType implements IJobType {\r\n    jid: JobID;\r\n    name: string;\r\n    desc: string;\r\n    actions: IJobStep[];\r\n    beetypes: string[];\r\n\r\n    constructor(jobType: IJobType) {\r\n        this.jid = jobType.jid;\r\n        this.name = jobType.name;\r\n        this.desc = jobType.desc;\r\n        this.actions = jobType.actions;\r\n        this.beetypes = jobType.beetypes;\r\n    }\r\n}\r\n\r\nexport var JOB_TYPES: IJobType[] = [{\r\n    jid: JobID.IDLE,\r\n    name: \"Idle\",\r\n    desc: \"No job assigned.\",\r\n    actions: [],\r\n    beetypes: ['drone', 'egg', 'larva', 'queen', 'worker']\r\n},\r\n{\r\n    jid: JobID.BREEDER,\r\n    name: \"Breeding Queen\",\r\n    desc: \"Head Queen, performs the task of laying eggs and fertilizing them.\",\r\n    actions: [\r\n        {\r\n            action: JobAction.SPAWN,\r\n            rate: AbilityID.PRD_EGG\r\n        }],\r\n    beetypes: ['queen']\r\n\r\n},\r\n{\r\n    jid: JobID.FORAGER,\r\n    name: \"Forager\",\r\n    desc: \"Collects nectar, pollen, and water.\",\r\n    actions: [{\r\n        action: JobAction.TRAVEL,\r\n        rate: AbilityID.SPD_FLY\r\n    },\r\n    {\r\n        action: JobAction.COLLECT,\r\n        rate: AbilityID.SPD_CLT,\r\n        storage: AbilityID.Get_STR,\r\n    },\r\n    {\r\n        action: JobAction.DEPOSIT,\r\n        rate: AbilityID.SPD_DEP\r\n    }],\r\n    beetypes: ['worker']\r\n},\r\n{\r\n    jid: JobID.NURSE,\r\n    name: \"Nurse Bee\",\r\n    desc: \"Cares for eggs and produces royal jelly from honey and pollen\",\r\n    actions: [{\r\n        action: JobAction.PRODUCE,\r\n        rate: AbilityID.PRD_JELLY,\r\n        yield: AbilityID.YLD_JELLY,\r\n        cost: [AbilityID.COST_JELLY_HONEY, AbilityID.COST_JELLY_POLLEN]\r\n    }],\r\n    beetypes: ['worker']\r\n},\r\n{\r\n    jid: JobID.PRODUCER_FOOD,\r\n    name: \"Food Producer\",\r\n    desc: \"Converts stored honey, pollen, and water into usable food\",\r\n    actions: [{\r\n        action: JobAction.PRODUCE,\r\n        rate: AbilityID.PRD_FOOD,\r\n        yield: AbilityID.YLD_FOOD,\r\n        cost: [AbilityID.COST_FOOD_HONEY, AbilityID.COST_FOOD_POLLEN, AbilityID.COST_FOOD_WATER]\r\n    }],\r\n    beetypes: ['worker']\r\n},\r\n{\r\n    jid: JobID.PRODUCER_HONEY,\r\n    name: \"Honey Producer\",\r\n    desc: \"Converts stored nectar into honey\",\r\n    actions: [{\r\n        action: JobAction.PRODUCE,\r\n        rate: AbilityID.PRD_HONEY,\r\n        yield: AbilityID.YLD_HONEY,\r\n        cost: [AbilityID.COST_HONEY_NECTAR]\r\n    }],\r\n    beetypes: ['worker']\r\n},\r\n{\r\n    jid: JobID.BUILDER,\r\n    name: \"Builder\",\r\n    desc: \"Converts stored food into wax\",\r\n    actions: [{\r\n        action: JobAction.PRODUCE,\r\n        rate: AbilityID.PRD_WAX,\r\n        yield: AbilityID.YLD_WAX,\r\n        cost: [AbilityID.COST_WAX_FOOD]\r\n    }],\r\n    beetypes: ['worker']\r\n},\r\n{\r\n    jid: JobID.UNDERTAKER,\r\n    name: \"Undertaker Bee\",\r\n    desc: \"Converts dead bees and rejected eggs into food.\",\r\n    actions: [{\r\n        action: JobAction.PRODUCE,\r\n        rate: AbilityID.PRD_FOOD,\r\n        yield: AbilityID.YLD_FOOD,\r\n        cost: [AbilityID.COST_FOOD_DEADBEES]\r\n    }],\r\n    beetypes: ['worker']\r\n},\r\n{\r\n    jid: JobID.GUARD,\r\n    name: \"Guard Bee\",\r\n    desc: \"Protects the hive which reduces the mortality rate\",\r\n    actions: [{\r\n        action: JobAction.PROTECT,\r\n        amount: AbilityID.DEF\r\n    }],\r\n    beetypes: ['drone', 'worker']\r\n}]\n\n\n// WEBPACK FOOTER //\n// ./src/app/config/jobTypes.config.ts","import { Injectable } from \"@angular/core\";\r\nimport { Subject } from \"rxjs/Subject\";\r\n\r\n\r\n@Injectable()\r\nexport class DragService {\r\n    data: any;\r\n    dropTargetIds: Array<string>;\r\n    onDragStart = new Subject<any>();\r\n    onDragEnd = new Subject<any>();\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/drag-drop/drag-service.service.ts","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Hive } from './classes/hive.class';\r\nimport * as Bee from './classes/bee.class';\r\nimport { GameService } from './game.service';\r\nimport { LogService } from 'app/log/log.component';\r\nimport { Subscription } from \"rxjs/Subscription\";\r\n\r\n@Component({\r\n\r\n  templateUrl: './game.component.html',\r\n  styleUrls: ['./game.component.scss']\r\n})\r\nexport class GameComponent implements OnInit, OnDestroy {\r\n\r\n  title = 'GenetixNg4';\r\n  count: number = 0;\r\n  // gameLoopSub: Subscription;\r\n  constructor(public _gameService: GameService, public _logService: LogService) {\r\n  }\r\n  ngOnInit() {\r\n    // this.gameLoopSub = this._gameService.gameLoopEvent$.subscribe(elapsedMs => {\r\n    //   if (elapsedMs === 0) {\r\n    //     this.count = 0;\r\n    //     return;\r\n    //   }\r\n    //   while (elapsedMs >= 50) {\r\n    //     this.count++;\r\n    //     elapsedMs -= 50;\r\n    //     if (this.count % (1000 / 50 * 10) === 0)\r\n    //       this._logService.logGeneralMessage(\"Test\");\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // this.gameLoopSub.unsubscribe();\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/game.component.ts","import { Component, OnInit  } from '@angular/core';\r\n\r\n\r\n\r\n@Component({\r\n    templateUrl: './main-game.component.html'\r\n\r\n})\r\nexport class MainGameComponent  implements OnInit {\r\n    /**\r\n     *\r\n     */\r\n    constructor() { }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/main-game/main-game.component.ts","import { Component, OnInit } from '@angular/core';\r\nimport { GameService } from 'app/game.service';\r\n\r\n\r\n@Component({\r\n    template: `\r\n    <div class=\"row\" style=\"height: 95vh;\">\r\n    <div class=\"col-xs-12 fullH\"> \r\n        <div class=\"player-content\">\r\n            <div class=\"log-component\">\r\n            <pre>{{_gameService.map.getState()|json}}</pre>            \r\n            </div>            \r\n        </div>\r\n        <textarea style=\"width:100%; color:black;\" rows=\"5\" readonly ngModel={{_gameService.lastSave}}></textarea>\r\n    </div>\r\n    </div>`\r\n})\r\nexport class TestInterfaceComponent implements OnInit {\r\n\r\n    constructor(public _gameService: GameService) { }\r\n\r\n    ngOnInit() { }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/test-interface/test-interface.component.ts","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { Hive } from 'app/classes/hive.class';\r\nimport * as Bee from './classes/bee.class';\r\nimport { IMapState, Map } from 'app/classes/map.class';\r\nimport { ConfigService } from 'app/config/config.service';\r\nimport { LogService } from 'app/log/log.component';\r\nimport { ResourceID } from \"app/config/types.config\";\r\nimport * as LZString from 'lz-string'\r\n\r\n\r\n@Injectable()\r\nexport class GameService {\r\n    map: Map;\r\n    saveTime: number;// Used when loading to determine amount of time the elapsed while player was offline.\r\n    lastTime: number;// \r\n    stepTimeMs: number;\r\n    gameSaveKey: string = \"GENETIX_SAVE\"\r\n    lastSave: string = \"\";\r\n    private _elapsedMs = new BehaviorSubject<number>(0);\r\n    private _running = new BehaviorSubject<boolean>(true);\r\n    private _msSinceAutoSave: number = 0;\r\n    private _animationRequest: number;\r\n    animationEvent$ = this._elapsedMs.asObservable();\r\n    stateChangeEvent$ = this._running.asObservable();\r\n    constructor(private _configService: ConfigService, private _logService: LogService) {\r\n        this.initGame();\r\n    }\r\n\r\n    initGame() {\r\n        var now = Date.now();\r\n        if (this._animationRequest) window.cancelAnimationFrame(this._animationRequest);\r\n        this._logService.clearLog(\"Welcome to Genetix!\");\r\n        var s = localStorage.getItem(this.gameSaveKey)\r\n        var json = LZString.decompressFromBase64(s);\r\n        this.lastSave = s;\r\n        var savedState = json ? JSON.parse(json) : null;\r\n        this.saveTime = savedState && savedState.saveTime || now;\r\n        this.lastTime = null;\r\n        this.map = null;\r\n        this.stepTimeMs = 50 || savedState && savedState.stepTimeMs || 50;\r\n        if (savedState && savedState.map) {\r\n            this.map = new Map(this.stepTimeMs, savedState.map);\r\n        } else {\r\n            this.map = new Map(this.stepTimeMs, null);\r\n        }\r\n        this._msSinceAutoSave = 0;\r\n        this._elapsedMs.next(0);\r\n        var offlineMs = now - this.saveTime;\r\n        if (offlineMs >= this.stepTimeMs)\r\n            this.map.handleGameLoop(offlineMs);\r\n        this._animationRequest = window.requestAnimationFrame(this.gameLoop.bind(this));\r\n\r\n    }\r\n\r\n    gameLoop(runningTime) {\r\n        var now = Date.now();\r\n        var diff = now - this.saveTime;\r\n        this.saveTime = now;\r\n        this._animationRequest = null;\r\n        if (this.lastTime == null) this.lastTime = runningTime;\r\n        var steps = 0;\r\n        while (runningTime - this.lastTime >= (this.stepTimeMs * (steps + 1))) {\r\n            steps++;\r\n\r\n        }\r\n        let elapsedMs: number = (this.stepTimeMs * steps);\r\n        this.lastTime += elapsedMs;\r\n        if (this._running.value && steps > 0) {\r\n            this.map.handleGameLoop(elapsedMs);\r\n            this._msSinceAutoSave += elapsedMs;\r\n            if (this._msSinceAutoSave >= 30000) {\r\n                this.saveGame();\r\n                this._msSinceAutoSave = 0;\r\n            }\r\n\r\n        }\r\n        // do animations every loop, after any game object updates have occurred.\r\n        this._elapsedMs.next(diff);\r\n        if (!this._animationRequest)\r\n            this._animationRequest = window.requestAnimationFrame(this.gameLoop.bind(this));\r\n\r\n    }\r\n\r\n    toggleState() {\r\n        this._running.next(!this._running.value);\r\n    }\r\n\r\n    saveGame() {\r\n        var state = {\r\n            saveTime: this.saveTime,\r\n            stepTimeMs: this.stepTimeMs,\r\n            map: this.map.getState()\r\n        };\r\n        console.log(state);\r\n        var save = LZString.compressToBase64(JSON.stringify(state));\r\n        //console.log(save);\r\n        this.lastSave = save;\r\n        localStorage.setItem(this.gameSaveKey, save);\r\n        this._logService.logGeneralMessage(\"Game saved.\");\r\n\r\n    }\r\n    hardReset() {\r\n        localStorage.removeItem(this.gameSaveKey);\r\n        this.initGame();\r\n    }\r\n\r\n    getResourceType(rid: ResourceID) {\r\n        return this._configService.getResourceById(rid);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/game.service.ts","export type JobID = 'idle' | 'breeder' | 'forager' |\r\n    'nurse' | 'producer_food' | 'producer_honey' |\r\n    'builder' | 'undertaker' | 'guard';\r\nexport const JobID = {\r\n    IDLE: 'idle' as JobID, BREEDER: 'breeder' as JobID, FORAGER: 'forager' as JobID,\r\n    NURSE: 'nurse' as JobID, PRODUCER_FOOD: 'producer_food' as JobID, PRODUCER_HONEY: 'producer_honey' as JobID,\r\n    BUILDER: 'builder' as JobID, UNDERTAKER: 'undertaker' as JobID, GUARD: 'guard' as JobID\r\n}\r\nexport type AbilityID = 'def' | 'rng' |\r\n    'str_pollen' | 'str_nectar' | 'str_water' |\r\n    'spd_fly' | 'spd_clt' | 'spd_dep' |\r\n    'prd_honey' | 'yld_honey' | 'cost_honey_nectar' |\r\n    'prd_wax' | 'yld_wax' | 'cost_wax_food' |\r\n    'prd_jelly' | 'yld_jelly' | 'cost_jelly_honey' | 'cost_jelly_pollen' |\r\n    'prd_food' | 'yld_food' | 'cost_food_pollen' | 'cost_food_honey' | 'cost_food_water' | 'cost_food_deadbees' |\r\n    'prd_egg';\r\nexport const AbilityID = {\r\n    DEF: 'def' as AbilityID, RNG: 'rng' as AbilityID,\r\n    STR_POLLEN: 'str_pollen' as AbilityID, STR_NECTAR: 'str_nectar' as AbilityID, STR_WATER: 'str_water' as AbilityID,\r\n    SPD_FLY: 'spd_fly' as AbilityID, SPD_CLT: 'spd_clt' as AbilityID, SPD_DEP: 'spd_dep' as AbilityID,\r\n    PRD_HONEY: 'prd_honey' as AbilityID, YLD_HONEY: 'yld_honey' as AbilityID, COST_HONEY_NECTAR: 'cost_honey_nectar' as AbilityID,\r\n    PRD_WAX: 'prd_wax' as AbilityID, YLD_WAX: 'yld_wax' as AbilityID, COST_WAX_FOOD: 'cost_wax_food' as AbilityID,\r\n    PRD_JELLY: 'prd_jelly' as AbilityID, YLD_JELLY: 'yld_jelly' as AbilityID, COST_JELLY_HONEY: 'cost_jelly_honey' as AbilityID, COST_JELLY_POLLEN: 'cost_jelly_pollen' as AbilityID,\r\n    PRD_FOOD: 'prd_food' as AbilityID, YLD_FOOD: 'yld_food' as AbilityID, COST_FOOD_POLLEN: 'cost_food_pollen' as AbilityID, COST_FOOD_HONEY: 'cost_food_honey' as AbilityID, COST_FOOD_WATER: 'cost_food_water' as AbilityID, COST_FOOD_DEADBEES: 'cost_food_deadbees' as AbilityID,\r\n    PRD_EGG: 'prd_egg' as AbilityID,\r\n    Get_STR: function (rid: ResourceID): AbilityID {\r\n        switch (rid) {\r\n            case 'nectar':\r\n                return AbilityID.STR_NECTAR;\r\n            case 'pollen':\r\n                return AbilityID.STR_POLLEN;\r\n            case 'water':\r\n                return AbilityID.STR_WATER;\r\n        }\r\n    }\r\n}\r\nexport type ResourceID = 'nectar' | 'pollen' | 'water' | 'food' | 'honey' | 'royal_jelly' | 'wax' | 'deadbees' | 'defense';\r\nexport const ResourceID = {\r\n    NECTAR: 'nectar' as ResourceID,\r\n    POLLEN: 'pollen' as ResourceID,\r\n    WATER: 'water' as ResourceID,\r\n    FOOD: 'food' as ResourceID,\r\n    HONEY: 'honey' as ResourceID,\r\n    ROYAL_JELLY: 'royal_jelly' as ResourceID,\r\n    WAX: 'wax' as ResourceID,\r\n    DEADBEES: 'deadbees' as ResourceID,\r\n    DEFENSE: 'defense' as ResourceID\r\n}\r\n\r\nexport type BuildingID = 'dormitory' | 'nursery' | 'storage_nectar' | 'storage_pollen' | 'storage_water' | 'storage_wax' | 'storage_jelly' | 'storage_honey' | 'storage_food';\r\nexport const BuildingID = {\r\n    DORMITORY: 'dormitory' as BuildingID,\r\n    NURSERY: 'nursery' as BuildingID,\r\n    STORAGE_NECTAR: 'storage_nectar' as BuildingID,\r\n    STORAGE_POLLEN: 'storage_pollen' as BuildingID,\r\n    STORAGE_WATER: 'storage_water' as BuildingID,\r\n    STORAGE_WAX: 'storage_wax' as BuildingID,\r\n    STORAGE_JELLY: 'storage_jelly' as BuildingID,\r\n    STORAGE_HONEY: 'storage_honey' as BuildingID,\r\n    STORAGE_FOOD: 'storage_food' as BuildingID\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/config/types.config.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 184;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 184\n// module chunks = 1","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { GameComponent } from 'app/game.component';\r\nimport { MainGameComponent } from 'app/main-game/main-game.component';\r\nimport { TestInterfaceComponent } from 'app/test-interface/test-interface.component';\r\n\r\nexport const gameState = {\r\n    name: 'game',\r\n    redirectTo: 'home',\r\n    component: GameComponent,\r\n};\r\n\r\n/**\r\n * This is the 'welcome' state.  It is the default state (as defined by app.js) if no other state\r\n * can be matched to the URL.\r\n */\r\nexport const mainState = {\r\n    parent: 'game',\r\n    name: 'main',\r\n    url: '/main',\r\n    component: MainGameComponent,\r\n};\r\n\r\nexport const testState = {\r\n    parent: 'game',\r\n    name: 'test',\r\n    url: '/test',\r\n    component: TestInterfaceComponent\r\n}\r\n\r\nexport const APP_STATES = [\r\n    mainState,\r\n    gameState,\r\n    testState\r\n];\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.states.ts","import { Component, OnInit } from '@angular/core';\r\nimport { GameService } from 'app/game.service';\r\n\r\n\r\n@Component({\r\n  selector: 'bloqhead-building-list',\r\n  templateUrl: './building-list.component.html',\r\n  styleUrls: ['./building-list.component.scss']\r\n})\r\nexport class BuildingListComponent implements OnInit {\r\n\r\n  constructor(public _gameService: GameService) { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/building-list/building-list.component.ts","import { randomIntFromInterval } from 'app/app.module';\r\ninterface IGenomeState {\r\n    chromosomeCount: number;\r\n    hasPairs: boolean;\r\n    chromosomes: [IChromosome[]];\r\n    mutationChance?: number;\r\n\r\n}\r\ninterface IGenome extends IGenomeState {\r\n    loadChromosomes(c: [IChromosome[]]): void;\r\n    getGene(cIndex: number, gIndex: number): boolean;\r\n    fertilize(mate: IGenome): IGenome;\r\n    getEggGenome(): IGenome;\r\n}\r\n\r\ninterface IChromosome extends IChromosomeState {\r\n    toBitString(): string;\r\n    getGene(index: number): boolean;\r\n    doMutation(): void;\r\n}\r\ninterface IChromosomeState {\r\n    geneCount: number;\r\n    mutationChance: number;\r\n    mutationString: string;\r\n    genes: number;\r\n}\r\n\r\nexport class Genome implements IGenome {\r\n    chromosomes: [IChromosome[]];\r\n    chromosomeCount: number;\r\n    hasPairs: boolean;\r\n    mutationChance: number;\r\n\r\n    constructor(state?: IGenomeState, hasPairsOverride?: boolean) {\r\n        this.chromosomeCount = state && state.chromosomeCount || 10;\r\n        this.hasPairs = state && state.hasPairs || hasPairsOverride || false;\r\n        this.mutationChance = state && state.mutationChance || 0.005;\r\n        this.loadChromosomes(state && state.chromosomes || null);\r\n\r\n    }\r\n\r\n    loadChromosomes(chromos: [IChromosome[]]) {\r\n        this.chromosomes = [[]];\r\n        if (chromos != null) {\r\n            var pairIndex: number = 0;\r\n            for (let pair of chromos) {\r\n                if (this.chromosomes.length - 1 < pairIndex) this.chromosomes.push([]);\r\n                for (let c of pair) {\r\n                    this.chromosomes[pairIndex].push(new Chromosome(c));\r\n                }\r\n                pairIndex++;\r\n            }\r\n        } else {\r\n            var count = this.hasPairs ? 2 : 1;\r\n            for (var i = 0; i < count; i++) {\r\n                if (this.chromosomes.length - 1 < i) this.chromosomes.push([]);\r\n                for (var c = 0; c < this.chromosomeCount; c++) {\r\n                    var a = new Chromosome();\r\n                    a.mutationChance = this.mutationChance;\r\n                    this.chromosomes[i].push(a);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    getGene(cIndex: number, gIndex: number): boolean {\r\n        var v: boolean = this.chromosomes[0][cIndex].getGene(gIndex);\r\n        if (this.hasPairs)\r\n            v = (v || this.chromosomes[1][cIndex].getGene(gIndex));\r\n\r\n        return v;\r\n\r\n    }\r\n    fertilize(mate: IGenome): IGenome {\r\n        var offspring: Genome;\r\n        var chromosomes: [IChromosomeState[]] = [[]];\r\n        if (this.hasPairs || mate.hasPairs)\r\n            throw new Error(\"Cannot mate genomes with chromosome pairs.\");\r\n\r\n        chromosomes[0] = Object.assign({}, this.chromosomes[0]);\r\n        chromosomes[1] = Object.assign({}, mate.chromosomes[0]);\r\n\r\n\r\n        return offspring;\r\n    }\r\n    getEggGenome(): IGenome {\r\n        let chromosomes: [IChromosome[]] = [[]];\r\n        for (var i = 0; i < this.chromosomeCount; i++) {\r\n            var p = randomIntFromInterval(0, 1);\r\n            var c = this.chromosomes[p][i];\r\n            chromosomes[0].push(Object.assign({}, c));\r\n        }\r\n\r\n        return new Genome({\r\n            hasPairs: false,\r\n            chromosomeCount: this.chromosomeCount,\r\n            chromosomes: chromosomes,\r\n            mutationChance: this.mutationChance\r\n        });\r\n\r\n    }\r\n\r\n}\r\n\r\nexport var geneMask: number[] = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024];\r\nclass Chromosome implements IChromosome {\r\n    geneCount: number;\r\n    mutationChance: number;\r\n    mutationString: string;\r\n    genes: number;\r\n\r\n\r\n\r\n    constructor(state?: IChromosomeState) {\r\n        this.geneCount = state && state.geneCount || 10;\r\n        this.mutationChance = state && state.mutationChance || 0.005;\r\n        this.genes = (state && state.genes != null) ? state.genes : randomIntFromInterval(0, Math.pow(2, this.geneCount));\r\n\r\n        if (geneMask.length < this.geneCount) {\r\n            for (var i = geneMask.length; i < this.geneCount; i++) {\r\n                geneMask.push(Math.pow(2, i));\r\n            }\r\n        }\r\n    }\r\n    toBitString(): string {\r\n        return this.genes.toString(2);\r\n    }\r\n    getGene(index: number): boolean {\r\n        return (this.genes & geneMask[index]) === 1;\r\n    }\r\n    doMutation(): void {\r\n        this.mutationString = \"\";\r\n        for (var i = 0; i < this.geneCount; i++) {\r\n            if (Math.random() < this.mutationChance) this.mutationString += '1';\r\n            else this.mutationString += '0';\r\n        }\r\n        this.genes ^= parseInt(this.mutationString, 2);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/genome.class.ts","import { Point } from './point.class';\r\nimport { IHexagonConfig, Hexagon } from './hexagon.class';\r\n\r\nexport interface IGridConfig {\r\n    hexConfig?: IHexagonConfig;\r\n    MAPWIDTH: number;\r\n    MAPHEIGHT: number;\r\n    STROKEWIDTH?: number;\r\n    SHOW_HEX_ID?: boolean;\r\n    SHOW_HEX_XY?: boolean;\r\n    canvasSize?: Point;\r\n}\r\n\r\ninterface IGrid {\r\n    config: IGridConfig;\r\n    Hexes: Hexagon[];\r\n\r\n    GetHexId(row: number, col: number): string;\r\n    Relocate(): void;\r\n    GetHexAt(p: Point): Hexagon;\r\n    GetHexDistance(h1: Hexagon, h2: Hexagon): number;\r\n    GetHexById(id: string): Hexagon;\r\n    GetNearestHex(p: Point): Hexagon;\r\n    setHexSizeByHeight(height: number): IGridConfig;\r\n    setHexSizeBySide(legnth: number, ratio: number): IGridConfig;\r\n    calcCanvasSize(): Point;\r\n\r\n}\r\n\r\nexport class Grid implements IGrid {\r\n\r\n    config: IGridConfig;\r\n    Hexes: Hexagon[];\r\n\r\n    private Static: any = { Letters: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' };\r\n\r\n    constructor(config: IGridConfig) {\r\n        this.config = config;\r\n\r\n        this.config.hexConfig = this.config.hexConfig || {\r\n            HEIGHT: 91.14378277661477,\r\n            WIDTH: 91.14378277661477,\r\n            SIDE: 50.0,\r\n            MARGIN: 5\r\n        };\r\n        this.config.STROKEWIDTH = this.config.STROKEWIDTH || 3;\r\n        this.config.SHOW_HEX_ID = this.config.SHOW_HEX_ID || false;\r\n        this.config.SHOW_HEX_XY = this.config.SHOW_HEX_XY || false;\r\n\r\n        this.Hexes = [];\r\n\r\n        //setup a dictionary for use later for assigning the X or Y CoOrd (depending on Orientation)\r\n        var HexagonsByXOrYCoOrd: [Hexagon[]] = [[]];//Dictionary<int, List<Hexagon>>\r\n\r\n        var row = 0;\r\n        var y = 0.0;\r\n        while (row <= (this.config.MAPHEIGHT - 1) * 2) {\r\n            var col = 0;\r\n\r\n            var offset = 0.0;\r\n            if (row % 2 == 1) {\r\n                offset = (this.config.hexConfig.WIDTH - this.config.hexConfig.SIDE) / 2 + this.config.hexConfig.SIDE;\r\n                col = 1;\r\n            }\r\n\r\n            var x = offset;\r\n            while (col <= (this.config.MAPWIDTH - 1) * 2) {\r\n                var hexId = this.GetHexId(row, col);\r\n                //var h = new Hexagon(hexId, x, y, this.config);\r\n                var h = new Hexagon(hexId, col, row, this.config.hexConfig);\r\n\r\n                var pathCoOrd = col;\r\n                h.PathCoOrdX = col; //the column is the x coordinate of the hex, for the y coordinate we need to get more fancy\r\n\r\n                this.Hexes.push(h);\r\n\r\n                if (!HexagonsByXOrYCoOrd[pathCoOrd])\r\n                    HexagonsByXOrYCoOrd[pathCoOrd] = [];\r\n                HexagonsByXOrYCoOrd[pathCoOrd].push(h);\r\n\r\n                col += 2;\r\n                x += this.config.hexConfig.WIDTH + this.config.hexConfig.SIDE;\r\n            }\r\n            row++;\r\n            y += this.config.hexConfig.HEIGHT / 2;\r\n        }\r\n\r\n        //finally go through our list of hexagons by their x co-ordinate to assign the y co-ordinate\r\n        for (let coOrd1 in HexagonsByXOrYCoOrd) {\r\n            var hexagonsByXOrY = HexagonsByXOrYCoOrd[coOrd1];\r\n            var n = parseInt(coOrd1);\r\n            var coOrd2 = Math.floor(n / 2) + (n % 2);\r\n            for (var i in hexagonsByXOrY) {\r\n                var h2 = hexagonsByXOrY[i]; //Hexagon\r\n                h2.PathCoOrdY = coOrd2++;\r\n            }\r\n        }\r\n\r\n    }\r\n    GetHexId(row: number, col: number): string {\r\n        var letterIndex = row;\r\n        var letters = \"\";\r\n        while (letterIndex > 25) {\r\n            letters = this.Static.Letters[letterIndex % 26] + letters;\r\n            letterIndex -= 26;\r\n        }\r\n\r\n        return this.Static.Letters[letterIndex] + letters + (col + 1);\r\n    }\r\n    Relocate(): void {\r\n        for (let hex of this.Hexes)\r\n            hex.Relocate(this.config.hexConfig);\r\n    }\r\n    GetHexAt(p: Point): Hexagon {\r\n        return this.Hexes.find(hex => hex.Contains(p))\r\n    }\r\n    GetHexDistance(h1: Hexagon, h2: Hexagon): number {\r\n        //a good explanation of this calc can be found here:\r\n        //http://playtechs.blogspot.com/2007/04/hex-grids.html\r\n        var deltaX = h1.PathCoOrdX - h2.PathCoOrdX;\r\n        var deltaY = h1.PathCoOrdY - h2.PathCoOrdY;\r\n        return ((Math.abs(deltaX) + Math.abs(deltaY) + Math.abs(deltaX - deltaY)) / 2);\r\n    }\r\n    GetHexById(id: string): Hexagon {\r\n        return this.Hexes.find(hex => hex.id === id);\r\n    }\r\n    GetNearestHex(p: Point): Hexagon {\r\n        var distance;\r\n        var minDistance = Number.MAX_VALUE;\r\n        var hx = null;\r\n\r\n        // iterate through each hex in the grid\r\n        for (let h of this.Hexes) {\r\n            distance = h.distanceFromMidPoint(p);\r\n\r\n            if (distance < minDistance) // if this is the nearest thus far\r\n            {\r\n                minDistance = distance;\r\n                hx = h\r\n            }\r\n        }\r\n\r\n        return hx;\r\n    }\r\n\r\n    setHexSizeByHeight(height: number): IGridConfig {\r\n        height = height || 30;\r\n\r\n        var width = height * (2 / (Math.sqrt(3)));\r\n\r\n        //solve quadratic\r\n        var a = -3.0;\r\n        var b = (-2.0 * width);\r\n        var c = (Math.pow(width, 2)) + (Math.pow(height, 2));\r\n        var z = (-b - Math.sqrt(Math.pow(b, 2) - (4.0 * a * c))) / (2.0 * a);\r\n\r\n        this.config.hexConfig.WIDTH = width;\r\n        this.config.hexConfig.HEIGHT = height;\r\n        this.config.hexConfig.SIDE = z;\r\n        this.Relocate();\r\n        this.config.canvasSize = this.calcCanvasSize();\r\n\r\n        // return the new config\r\n        return this.config;\r\n    }\r\n    setHexSizeBySide(legnth: number, ratio: number): IGridConfig {\r\n        length = length || 18;\r\n        ratio = ratio || (2 / (Math.sqrt(3)));\r\n        var z = length;\r\n        var r = ratio;\r\n\r\n        //solve quadratic\r\n        var r2 = Math.pow(r, 2);\r\n        var a = (1 + r2) / r2;\r\n        var b = z / r2;\r\n        var c = ((1 - 4.0 * r2) / (4.0 * r2)) * (Math.pow(z, 2));\r\n\r\n        var x = (-b + Math.sqrt(Math.pow(b, 2) - (4.0 * a * c))) / (2.0 * a);\r\n        var y = ((2.0 * x) + z) / (2.0 * r);\r\n\r\n        var width = ((2.0 * x) + z);\r\n        var height = (2.0 * y);\r\n\r\n        this.config.hexConfig.WIDTH = width;\r\n        this.config.hexConfig.HEIGHT = height;\r\n        this.config.hexConfig.SIDE = z;\r\n        this.Relocate();\r\n        this.config.canvasSize = this.calcCanvasSize();\r\n\r\n        // return the new config\r\n        return this.config;\r\n    }\r\n    calcCanvasSize(): Point {\r\n        var x = this.config.MAPWIDTH * ((this.config.hexConfig.WIDTH + this.config.hexConfig.SIDE)) - this.config.hexConfig.SIDE;\r\n        var y = this.config.MAPHEIGHT * this.config.hexConfig.HEIGHT;\r\n        x += (this.config.hexConfig.MARGIN * 2);\r\n        y += (this.config.hexConfig.MARGIN * 2);\r\n        return new Point(x, y);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/hexmap/grid.class.ts","\r\nimport { MapResource } from 'app/classes/map-resource.class';\r\nimport { Point } from './point.class';\r\n\r\nexport interface IHexagonConfig {\r\n    HEIGHT: number;\r\n    WIDTH: number;\r\n    SIDE: number;\r\n    MARGIN: number;\r\n}\r\n\r\ninterface IHexagon {\r\n    id: string;\r\n    col: number;\r\n    row: number;\r\n    config: IHexagonConfig;\r\n    selected?: boolean;\r\n    inRange?: boolean;\r\n    Points?: Point[];\r\n    TopLeftPoint?: Point;\r\n    MidPoint?: Point;\r\n    BottomRightPoint: Point;\r\n    mapResource?: MapResource;\r\n    PathCoOrdX: number;\r\n    PathCoOrdY: number;\r\n    Relocate(config: IHexagonConfig): void;\r\n    draw(context: CanvasRenderingContext2D, SHOW_HEX_ID: boolean, SHOW_HEX_XY: boolean): void;\r\n    isInBounds(x: number, y: number): boolean;\r\n    isInHexBounds(p: Point): boolean;\r\n    Contains(p: Point): boolean;\r\n    distanceFromMidPoint(p: Point): number;\r\n}\r\n\r\nexport class Hexagon implements IHexagon {\r\n\r\n    id: string;\r\n    col: number;\r\n    row: number;\r\n    selected: boolean;\r\n    config: IHexagonConfig;\r\n    inRange: boolean;\r\n    Points?: Point[];\r\n    TopLeftPoint: Point;\r\n    MidPoint: Point;\r\n    BottomRightPoint: Point;\r\n    mapResource?: MapResource;\r\n    PathCoOrdX: number;\r\n    PathCoOrdY: number;\r\n\r\n    constructor(id: string, col: number, row: number, config?: IHexagonConfig) {\r\n        this.config = config || { HEIGHT: 91.14378277661477, WIDTH: 91.14378277661477, SIDE: 50.0, MARGIN: 0 };\r\n        this.id = id;\r\n        this.col = col;\r\n        this.row = row;\r\n        this.selected = false;\r\n        this.inRange = false;\r\n        this.Relocate(this.config);\r\n\r\n    }\r\n    Relocate(config: IHexagonConfig): void {\r\n        this.config = config;\r\n\r\n        var x = ((this.col) * (config.WIDTH + config.SIDE / 2)) - ((this.col * config.WIDTH) / 2);\r\n        var y = this.row * (config.HEIGHT / 2);\r\n        var x1 = (config.WIDTH - config.SIDE) / 2;\r\n        var y1 = (config.HEIGHT / 2);\r\n\r\n        if (config.MARGIN) {\r\n            x += config.MARGIN;\r\n            y += config.MARGIN;\r\n        }\r\n\r\n        this.Points = []; //Polygon Base\r\n        this.Points.push(new Point(x1 + x, y));\r\n        this.Points.push(new Point(x1 + config.SIDE + x, y));\r\n        this.Points.push(new Point(config.WIDTH + x, y1 + y));\r\n        this.Points.push(new Point(x1 + config.SIDE + x, config.HEIGHT + y));\r\n        this.Points.push(new Point(x1 + x, config.HEIGHT + y));\r\n        this.Points.push(new Point(x, y1 + y));\r\n\r\n        this.TopLeftPoint = new Point(x, y);\r\n        this.BottomRightPoint = new Point(x + config.WIDTH, y + config.HEIGHT);\r\n        this.MidPoint = new Point(x + (config.WIDTH / 2), y + (config.HEIGHT / 2));\r\n    }\r\n    draw = function (ctx: CanvasRenderingContext2D, SHOW_HEX_ID: boolean, SHOW_HEX_XY: boolean): void {\r\n\r\n        if (this.selected)\r\n            ctx.fillStyle = \"#7283BA\";\r\n        else if (this.inRange)\r\n            ctx.fillStyle = \"tomato\"; // love this color\r\n        else\r\n            ctx.fillStyle = \"#EDC867\";\r\n\r\n        ctx.strokeStyle = \"black\";\r\n        ctx.lineWidth = this.config.STROKEWIDTH;\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.Points[0].X, this.Points[0].Y);\r\n        for (var i = 1; i < this.Points.length; i++) {\r\n            var p = this.Points[i];\r\n            ctx.lineTo(p.X, p.Y);\r\n        }\r\n        ctx.closePath();\r\n        ctx.fill();\r\n\r\n        ctx.stroke();\r\n\r\n\r\n\r\n        if (this.id && (SHOW_HEX_ID || SHOW_HEX_XY)) {\r\n            //draw text for debugging\r\n            ctx.fillStyle = \"black\";\r\n            ctx.font = \"bolder 8pt Trebuchet MS,Tahoma,Verdana,Arial,sans-serif\";\r\n            ctx.textAlign = \"center\";\r\n            ctx.textBaseline = 'middle';\r\n            //var textWidth = ctx.measureText(this.Planet.BoundingHex.id);\r\n            var msg = '';\r\n            if (SHOW_HEX_ID) msg += this.id + ' ';\r\n            if (SHOW_HEX_XY) msg += this.row + ',' + this.col;\r\n            ctx.fillText(msg, this.MidPoint.X, this.MidPoint.Y);\r\n        }\r\n\r\n    }\r\n\r\n    isInBounds(x: number, y: number): boolean {\r\n        return this.Contains(new Point(x, y));\r\n    }\r\n    isInHexBounds(p: Point): boolean {\r\n        if (this.TopLeftPoint.X < p.X && this.TopLeftPoint.Y < p.Y &&\r\n            p.X < this.BottomRightPoint.X && p.Y < this.BottomRightPoint.Y)\r\n            return true;\r\n        return false;\r\n    }\r\n    Contains(p: Point): boolean {\r\n        let isIn: boolean = false;\r\n        if (this.isInHexBounds(p)) {\r\n            //turn our absolute point into a relative point for comparing with the polygon's points\r\n            //var pRel = new HT.Point(p.X - this.x, p.Y - this.y);\r\n            var i, j = 0;\r\n            for (i = 0, j = this.Points.length - 1; i < this.Points.length; j = i++) {\r\n                var iP = this.Points[i];\r\n                var jP = this.Points[j];\r\n                if (\r\n                    (\r\n                        ((iP.Y <= p.Y) && (p.Y < jP.Y)) ||\r\n                        ((jP.Y <= p.Y) && (p.Y < iP.Y))\r\n                        //((iP.Y > p.Y) != (jP.Y > p.Y))\r\n                    ) &&\r\n                    (p.X < (jP.X - iP.X) * (p.Y - iP.Y) / (jP.Y - iP.Y) + iP.X)\r\n                ) {\r\n                    isIn = !isIn;\r\n                }\r\n            }\r\n        }\r\n        return isIn;\r\n    }\r\n    distanceFromMidPoint(p: Point): number {\r\n        // Pythagoras' Theorem: Square of hypotenuse = sum of squares of other two sides\r\n        var deltaX = this.MidPoint.X - p.X;\r\n        var deltaY = this.MidPoint.Y - p.Y;\r\n\r\n        // squaring so don't need to worry about square-rooting a negative number \r\n        return Math.sqrt((deltaX * deltaX) + (deltaY * deltaY));\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/hexmap/hexagon.class.ts","import * as Bee from './bee.class';\r\nimport { Building } from '../config/buildingTypes.config';\r\nimport { Resource } from '../config/resourceTypes.config';\r\nimport { ResourceID } from 'app/config/types.config';\r\nimport { Map } from 'app/classes/map.class';\r\nimport { ConfigService } from 'app/config/config.service';\r\nimport { AppInjector } from \"app/app.module\";\r\nimport { LogService } from 'app/log/log.component';\r\nimport { sprintf } from 'sprintf-js';\r\nimport { JobID } from \"app/config/types.config\";\r\n\r\nexport interface IHiveState {\r\n    id: number;\r\n    pos?: string;\r\n    initialSize: number;\r\n    maxSize: number;\r\n    newbornLimit?: number;\r\n    beeMutationChance?: number;\r\n    nextId?: number;\r\n    beeStates?: Bee.IBeeState[];\r\n    resources?: Resource[];\r\n    buildings?: Building[];\r\n\r\n}\r\ninterface IHive extends IHiveState {\r\n    bees: Bee.BaseBee[];\r\n    getState(): IHiveState;\r\n    update(state: IHiveState): void;\r\n    getBeesByType(type: Bee.BeeTypes): Bee.BaseBee[];\r\n    getBeeById(id: string): Bee.BaseBee;\r\n    getNurseryCount(): number;\r\n    getNurseryCount(): number;\r\n    loadBees(state: IHiveState): void;\r\n    createInitialQueen(inseminate: boolean): void;\r\n    updateResources(state: IHiveState): void;\r\n    changeResource(rid: ResourceID, amount: number): number;\r\n    updateBuildings(state: IHiveState): void;\r\n    getNextId(): string;\r\n    assignBee(bee: Bee.BaseBee, type: Bee.BeeTypes): void;\r\n    handleGameLoop(elapsedMs: number, map: Map): void;\r\n\r\n\r\n}\r\nexport class Hive implements IHive {\r\n\r\n    beeStates: Bee.IBeeState[];\r\n\r\n\r\n    id: number;\r\n    pos?: string;\r\n    initialSize: number;\r\n    maxSize: number;\r\n    newbornLimit?: number;\r\n    beeMutationChance?: number;\r\n    nextId?: number;\r\n    bees: Bee.BaseBee[];\r\n    resources: Resource[];\r\n    buildings: Building[];\r\n    nurseryLimit: number;\r\n    populationLimit: number;\r\n    private _configService: ConfigService;\r\n    private _logService: LogService;\r\n    constructor(state: IHiveState) {\r\n        this._configService = AppInjector.get(ConfigService);\r\n        this._logService = AppInjector.get(LogService);\r\n        this.update(state);\r\n\r\n\r\n    }\r\n\r\n    update(state: IHiveState): void {\r\n        this.id = state.id || this.id || 1;\r\n        this.nextId = state.nextId || this.nextId || 0;\r\n        this.initialSize = state.initialSize || this.initialSize || 2;\r\n        this.maxSize = state.maxSize || this.maxSize || 10;\r\n        this.pos = state.pos || this.pos || 'A1';\r\n        this.newbornLimit = state.newbornLimit || this.newbornLimit || 5;\r\n        this.beeMutationChance = state.beeMutationChance || this.beeMutationChance || 0.005;\r\n        if (state.beeStates != null)\r\n            this.loadBees(state);\r\n        else {\r\n            this.bees = this.bees || [];\r\n            if (this.bees.length === 0) this.createInitialQueen(true);\r\n        }\r\n\r\n        this.updateResources(state);\r\n\r\n        this.updateBuildings(state);\r\n\r\n    }\r\n    getState(): IHiveState {\r\n        var beeStates: Bee.IBeeState[] = [];\r\n        for (let bee of this.bees) beeStates.push(bee.getState());\r\n        return {\r\n            id: this.id,\r\n            pos: this.pos,\r\n            initialSize: this.initialSize,\r\n            maxSize: this.maxSize,\r\n            newbornLimit: this.newbornLimit,\r\n            beeMutationChance: this.beeMutationChance,\r\n            nextId: this.nextId,\r\n            beeStates: beeStates,\r\n            resources: this.resources,\r\n            buildings: this.buildings\r\n        };\r\n    }\r\n    getBeesByType(type: Bee.BeeTypes): Bee.BaseBee[] {\r\n        return this.bees.filter(bee => bee.beetype === type);\r\n    }\r\n\r\n    getBeeById(id: string): Bee.BaseBee {\r\n        var index = this.bees.findIndex(bee => bee.id === id);\r\n        if (index == -1) return null;\r\n        return this.bees[index];\r\n    }\r\n\r\n    getNurseryCount(): number {\r\n        return this.getBeesByType(Bee.BeeTypes.EGG).length + this.getBeesByType(Bee.BeeTypes.LARVA).length;\r\n    }\r\n    getPopulationCount = function () {\r\n        return this.bees.length - this.getNurseryCount();\r\n    };\r\n\r\n\r\n    loadBees(state: IHiveState): void {\r\n        this.bees = [];\r\n        for (let bee of state.beeStates) {\r\n            switch (bee.beetype) {\r\n                case Bee.BeeTypes.QUEEN:\r\n                    this.bees.push(new Bee.Queen(bee));\r\n                    break;\r\n                case Bee.BeeTypes.DRONE:\r\n                    this.bees.push(new Bee.Drone(bee));\r\n                    break;\r\n                case Bee.BeeTypes.WORKER:\r\n                    this.bees.push(new Bee.Worker(bee));\r\n                    break;\r\n                case Bee.BeeTypes.EGG:\r\n                    this.bees.push(new Bee.Egg(bee));\r\n                    break;\r\n                case Bee.BeeTypes.LARVA:\r\n                    this.bees.push(new Bee.Larva(bee));\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    createInitialQueen(inseminate: boolean): void {\r\n        var queen = new Bee.Queen({\r\n            id: this.getNextId(),\r\n            generation: 0,\r\n            beeMutationChance: this.beeMutationChance,\r\n            jid: JobID.BREEDER,\r\n            pos: this.pos\r\n        });\r\n        if (inseminate) {\r\n            for (var d = 0; d < 10; d++) {\r\n                var drone = new Bee.Drone({\r\n                    id: this.getNextId(),\r\n                    generation: 0,\r\n                    beeMutationChance: this.beeMutationChance,\r\n                    pos: this.pos\r\n                });\r\n                queen.mate(drone);\r\n            }\r\n        }\r\n        queen.update();\r\n        this.bees.push(queen);\r\n    }\r\n    updateResources(state: IHiveState): void {\r\n        if (state.resources == null && this.resources == null)\r\n            this.resources = this._configService.getDefaultResources();\r\n        else if (state.resources != null) {\r\n            this.resources = [];\r\n            for (let r of state.resources) {\r\n                var res = new Resource(r);\r\n                // res.max = 1000;\r\n                // res.owned = 10;\r\n                this.resources.push(res);\r\n\r\n            }\r\n        }\r\n        // else do nothing, nothing in the state and this hive already has resources\r\n    }\r\n    changeResource(rid: ResourceID, amount: number): number {\r\n        var r = this.resources.find(r => r.rid === rid);\r\n\r\n        r.owned += amount;\r\n        var actualAmount = amount;\r\n        if (r.max != -1 && r.owned > r.max) {\r\n            actualAmount = amount - (r.owned - r.max);\r\n            r.owned = r.max;\r\n        }\r\n        // if this puts us negative, we cannot deduct the amount, reset and return -1 to indicate failure.\r\n        if (r.owned < 0) {\r\n            r.owned -= amount;\r\n            return -1;\r\n        }\r\n        // we didn't actually add anything, return -2\r\n        if (actualAmount === 0) return -2;\r\n        this.updateBuildings();\r\n        return r.owned;\r\n\r\n    }\r\n    build(building: Building) {\r\n        var costs = building.build();\r\n        for (let cost of costs) {\r\n            this.changeResource(cost.resource.rid, cost.amount * -1);\r\n        }\r\n        this.updateBuildings();\r\n    }\r\n    updateBuildings(state?: IHiveState): void {\r\n        if (state && state.buildings == null && this.buildings == null)\r\n            this.buildings = this._configService.getDefaultBuildings();\r\n        else if (state && state.buildings != null) {\r\n            this.buildings = [];\r\n            for (let b of state.buildings) {\r\n                let building: Building = new Building(b);\r\n                this.buildings.push(building);\r\n            }\r\n        }\r\n        // else do nothing, nothing in the state and this hive already has buildings\r\n        this.nurseryLimit = 0;\r\n        this.populationLimit = 0;\r\n        for (let building of this.buildings) {\r\n            building.setCanBuild(this.resources);\r\n            switch (building.use) {\r\n                case 'storage':\r\n                    this.resources.find(r => r.rid === building.rid).max = building.getSize();\r\n                    break;\r\n                case 'nursery':\r\n                    this.nurseryLimit += building.getSize();\r\n                    break;\r\n                case 'housing':\r\n                    this.populationLimit += building.getSize();\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    getNextId(): string {\r\n        return ++this.nextId + '-H' + this.id;\r\n    }\r\n\r\n    assignBee(bee: Bee.BaseBee, type: Bee.BeeTypes): void {\r\n        let msg = \"\";\r\n        let index = this.bees.findIndex(b => b.id === bee.id);\r\n        switch (type) {\r\n            case Bee.BeeTypes.DRONE:\r\n                var drone = bee.hatch(type);\r\n                this.bees[index] = drone;\r\n                msg = sprintf(\"New %(type)s in Hive#%(id)d! (%(name)s)\", { type: type, name: drone.name, id: this.id });\r\n                break;\r\n            case Bee.BeeTypes.LARVA:\r\n                var queen = this.bees.find(b => b.jid === JobID.BREEDER);\r\n                if (!queen)\r\n                    msg = \"Cannot fertlize egg. There is no queen assigned to breeding duties.\";\r\n                else {\r\n                    var larva = queen.fertilizeEgg(bee);\r\n                    this.bees[index] = larva;\r\n                    msg = sprintf(\"New %(type)s in Hive#%(id)d! (%(name)s)\", { type: type, name: larva.name, id: this.id });\r\n                }\r\n                break;\r\n            case Bee.BeeTypes.QUEEN:\r\n            case Bee.BeeTypes.WORKER:\r\n                var worker = bee.mature(type);\r\n                this.bees[index] = worker;\r\n                msg = sprintf(\"New %(type)s in Hive#%(id)d! (%(name)s)\", { type: type, name: worker.name, id: this.id });\r\n                break;\r\n            default:\r\n                msg = sprintf(\"Invalid type: %s\", type);\r\n        }\r\n        this._logService.logGeneralMessage(msg);\r\n    }\r\n\r\n    handleGameLoop(ms: number, map: Map): void {\r\n\r\n        if (ms === 0)\r\n            return;\r\n\r\n\r\n        for (let bee of this.bees) {\r\n            bee.doWork(ms, this, map);\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/hive.class.ts","import * as Bee from './bee.class';\r\nimport { ResourceID } from \"app/config/types.config\";\r\nexport interface IMapResourceState {\r\n    id: number;\r\n    level?: number;\r\n    pos: string;\r\n    dt?: number;\r\n    color: string;\r\n    image?: string;\r\n    cooldown: number;\r\n    cooldownRemaining?: number;\r\n    pollen?: number;\r\n    col_pollen?: number;\r\n    nectar?: number;\r\n    col_nectar?: number;\r\n    water?: number;\r\n    col_water?: number;\r\n    harvestMultiplier?: number;\r\n    beeIsHarvesting?: boolean;\r\n    resourceName: string;\r\n    beeids?: string[];\r\n}\r\n\r\ninterface IMapResource extends IMapResourceState {\r\n    bees: Bee.BaseBee[];\r\n    name: string;\r\n    getState(): IMapResourceState;\r\n    queueHarvest(bee: Bee.BaseBee): void;\r\n    processElapsedTime(ms: number): void;\r\n    doneHarvesting(): void;\r\n    getAvailable(rid: string): number;\r\n    collect(rid: string, amount: number): number;\r\n\r\n}\r\n\r\nexport class MapResource implements IMapResource {\r\n    id: number;\r\n    level: number;\r\n    pos: string;\r\n    dt: number;\r\n    color: string;\r\n    image: string;\r\n    cooldown: number;\r\n    cooldownRemaining: number;\r\n    pollen: number;\r\n    col_pollen: number;\r\n    nectar: number;\r\n    col_nectar: number;\r\n    water: number;\r\n    col_water: number;\r\n    harvestMultiplier: number;\r\n    beeIsHarvesting: boolean;\r\n    resourceName: string;\r\n    beeids: string[];\r\n    bees: Bee.BaseBee[];\r\n    name: string;\r\n\r\n    constructor(state?: IMapResourceState) {\r\n        this.id = state && state.id || 0;\r\n        this.level = state && state.level || 1;\r\n        this.pos = state && state.pos || 'A1';\r\n        this.dt = state && state.dt || new Date().getTime();\r\n        this.color = state && state.color || 'green';\r\n        this.image = state && state.image || 'bee.svg';\r\n        this.cooldown = state && state.cooldown || 5000;\r\n        this.cooldownRemaining = state && state.cooldownRemaining || 0;\r\n        this.pollen = state && state.pollen || 0;\r\n        this.col_pollen = state && state.col_pollen || 0;\r\n        this.nectar = state && state.nectar || 0;\r\n        this.col_nectar = state && state.col_nectar || 0;\r\n        this.water = state && state.water || 0;\r\n        this.col_water = state && state.col_water || 0;\r\n        this.harvestMultiplier = state && state.harvestMultiplier || 1.0;\r\n        this.beeIsHarvesting = state && state.beeIsHarvesting || false;\r\n        this.resourceName = state && state.resourceName || '??';\r\n        this.beeids = state && state.beeids || [];\r\n        this.bees = [];\r\n\r\n        this.name = this.resourceName + \" #\" + this.id;\r\n    }\r\n    getState(): IMapResourceState {\r\n        let beeids: string[] = this.bees.map(a => a.id);\r\n        return {\r\n            id: this.id,\r\n            level: this.level,\r\n            pos: this.pos,\r\n            dt: this.dt,\r\n            color: this.color,\r\n            image: this.image,\r\n            cooldown: this.cooldown,\r\n            cooldownRemaining: this.cooldownRemaining,\r\n            pollen: this.pollen,\r\n            col_pollen: this.col_pollen,\r\n            nectar: this.nectar,\r\n            col_nectar: this.col_nectar,\r\n            water: this.water,\r\n            col_water: this.col_water,\r\n            harvestMultiplier: this.harvestMultiplier,\r\n            beeIsHarvesting: this.beeIsHarvesting,\r\n            resourceName: this.resourceName,\r\n            beeids: beeids\r\n        };\r\n    }\r\n    queueHarvest(bee: Bee.BaseBee): void {\r\n        //logService.logWorkMessage(bee.name + ' reached ' + this.name);\r\n        bee.waitingAtResource = true;\r\n        // add the bee to the collection queue\r\n        this.bees.push(bee);\r\n    }\r\n    processElapsedTime(ms: number): void {\r\n        if (this.cooldownRemaining > 0) {\r\n            this.cooldownRemaining -= ms;\r\n        }\r\n        // if the cooldown has elapsed and there is a bee waiting and no bees are currently harvesting\r\n        if (this.cooldownRemaining <= 0 && this.bees.length > 0 && this.beeIsHarvesting === false) {\r\n            this.beeIsHarvesting = true;\r\n            var bee = this.bees.shift();\r\n            bee.waitingAtResource = false;\r\n            bee.harvesting = true;\r\n        }\r\n    }\r\n    doneHarvesting(): void {\r\n        this.cooldownRemaining = this.cooldown;\r\n        this.beeIsHarvesting = false;\r\n        this.col_nectar = 0;\r\n        this.col_pollen = 0;\r\n        this.col_water = 0;\r\n    }\r\n    getAvailable(rid: ResourceID): number {\r\n        var avail = 0;\r\n        switch (rid) {\r\n            case ResourceID.NECTAR:\r\n                avail = this.nectar - this.col_nectar;\r\n                break;\r\n            case ResourceID.POLLEN:\r\n                avail = this.pollen - this.col_pollen;\r\n                break;\r\n            case ResourceID.WATER:\r\n                avail = this.water - this.col_water;\r\n                break;\r\n        }\r\n        return avail;\r\n    }\r\n    collect(rid: ResourceID, amount: number): number {\r\n        var harvestAmount = 0;\r\n        var avail = 0;\r\n        switch (rid) {\r\n            case ResourceID.NECTAR:\r\n                avail = this.getAvailable(rid);\r\n                if (amount <= avail)\r\n                    harvestAmount = amount;\r\n                else if (avail > 0)\r\n                    harvestAmount = avail;\r\n                this.col_nectar += harvestAmount;\r\n\r\n                break;\r\n            case ResourceID.POLLEN:\r\n                avail = this.getAvailable(rid);\r\n                if (amount <= avail)\r\n                    harvestAmount = amount;\r\n                else if (avail > 0)\r\n                    harvestAmount = avail;\r\n                this.col_pollen += harvestAmount;\r\n                break;\r\n            case ResourceID.WATER:\r\n                avail = this.getAvailable(rid);\r\n                if (amount <= avail)\r\n                    harvestAmount = amount;\r\n                else if (avail > 0)\r\n                    harvestAmount = avail;\r\n                this.col_water += harvestAmount;\r\n                break;\r\n        }\r\n        return harvestAmount;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/map-resource.class.ts","import { IHiveState, Hive } from 'app/classes/hive.class';\r\nimport { Grid, IGridConfig } from 'app/classes/hexmap/grid.class';\r\nimport { Point } from 'app/classes/hexmap/point.class';\r\nimport * as Bee from 'app/classes/bee.class';\r\nimport { IMapResourceState, MapResource } from 'app/classes/map-resource.class';\r\nimport { ConfigService } from 'app/config/config.service';\r\nimport { AppInjector } from \"app/app.module\";\r\n\r\nexport interface IMapState {\r\n    hiveStates?: IHiveState[];\r\n    mapResourceStates?: IMapResourceState[];\r\n    gridConfig?: IGridConfig;\r\n    currentHiveID?: number;\r\n    selectedHexID?: string;\r\n    canvasLocation?: Point;\r\n    stepTimeMs: number;\r\n}\r\n\r\ninterface IMap extends IMapState {\r\n    hives: Hive[];\r\n    currentHive: Hive;\r\n    mapResources: MapResource[];\r\n    grid: Grid;\r\n    getState(): IMapState;\r\n    generateInitialMap(): void;\r\n    getHiveByPosition(pos: string): Hive;\r\n    getHiveById(id: number): Hive;\r\n    getBeeById(beeid: string): Bee.BaseBee;\r\n    mapClicked(x: number, y: number): void;\r\n    mapMoved(x: number, y: number): void;\r\n    setRangeGraph(beeid: string): void;\r\n    handleGameLoop(elapsedMs: number): void;\r\n    drawMap(context: CanvasRenderingContext2D, elapsedMs: number): void;\r\n    addHive(position: string): Hive;\r\n    addWaterNode(position: string): MapResource;\r\n    addCloverNode(position: string, level: number): MapResource;\r\n    clear(context: CanvasRenderingContext2D): void;\r\n    drawHexes(context: CanvasRenderingContext2D): void;\r\n    drawResources(context: CanvasRenderingContext2D): void;\r\n    drawHives(context: CanvasRenderingContext2D, elapsedMs: number): void;\r\n    drawBees(context: CanvasRenderingContext2D, hive: Hive, elapsedMs: number): void;\r\n}\r\n\r\nexport class Map implements IMap {\r\n    hives: Hive[];\r\n    currentHive: Hive;\r\n    mapResources: MapResource[];\r\n    grid: Grid;\r\n    currentHiveID: number;\r\n    selectedHexID: string;\r\n    canvasLocation: Point;\r\n    stepTimeMs: number;\r\n    private Q_PI: number = Math.PI / 4;\r\n    private TWO_PI: number = Math.PI * 2;\r\n    private _configService: ConfigService;\r\n    constructor(stepTimeMs: number, state?: IMapState) {\r\n        this._configService = AppInjector.get(ConfigService);\r\n        this.hives = [];\r\n        this.mapResources = [];\r\n        this.stepTimeMs = stepTimeMs;\r\n        if (state) {\r\n            this.grid = new Grid(state.gridConfig);\r\n            this.currentHiveID = state.currentHiveID;\r\n            for (let h of state.hiveStates) {\r\n                var hive = new Hive(h);\r\n                if (this.currentHiveID === hive.id) this.currentHive = hive;\r\n                for (let b of hive.bees) {\r\n                    for (let nodeid of b.nodeIds)\r\n                        b.nodes.push(this.grid.GetHexById(nodeid))\r\n                }\r\n                this.hives.push(hive);\r\n            }\r\n            for (let mr of state.mapResourceStates) {\r\n                var node = new MapResource(mr);\r\n                this.mapResources.push(node);\r\n                this.grid.GetHexById(node.pos).mapResource = node;\r\n                for (let beeid of node.beeids) {\r\n                    node.bees.push(this.getBeeById(beeid));\r\n                }\r\n            }\r\n\r\n        } else {\r\n            this.generateInitialMap();\r\n        }\r\n    }\r\n    getState(): IMapState {\r\n\r\n        var hives: IHiveState[] = [];\r\n        for (let h of this.hives) hives.push(h.getState());\r\n\r\n        var mapResources: IMapResourceState[] = [];\r\n        for (let mr of this.mapResources) mapResources.push(mr.getState());\r\n        return {\r\n            hiveStates: hives,\r\n            mapResourceStates: mapResources,\r\n            gridConfig: this.grid.config,\r\n            currentHiveID: this.currentHiveID,\r\n            stepTimeMs: this.stepTimeMs\r\n        };\r\n    }\r\n    generateInitialMap(): void {\r\n        this.grid = new Grid({\r\n            MAPWIDTH: 7,\r\n            MAPHEIGHT: 7\r\n        });\r\n        this.grid.setHexSizeByHeight(50);\r\n        this.canvasLocation = new Point(0, 0);\r\n        // add hives\r\n        this.addHive(\"G5\");\r\n        this.addHive(\"G9\");\r\n        // add water resources\r\n        this.addWaterNode(\"D6\");\r\n        this.addWaterNode(\"J10\");\r\n        this.addWaterNode(\"E3\");\r\n        // add clover resources\r\n        this.addCloverNode(\"I7\", 1);\r\n        this.addCloverNode(\"H6\", 1);\r\n        this.addCloverNode(\"G11\", 1);\r\n        this.addCloverNode(\"D4\", 1);\r\n        this.addCloverNode(\"B2\", 2);\r\n        this.addCloverNode(\"G13\", 2);\r\n        this.addCloverNode(\"A7\", 3);\r\n        this.addCloverNode(\"E7\", 3);\r\n        this.currentHiveID = this.hives[0].id;\r\n        this.currentHive = this.hives[0];\r\n    }\r\n    getHiveByPosition(pos: string): Hive {\r\n        return this.hives.find(hive => hive.pos === pos);\r\n    }\r\n\r\n    getHiveById(id: number): Hive {\r\n        return this.hives.find(hive => hive.id === id);\r\n    }\r\n    getBeeById(beeid: string): Bee.BaseBee {\r\n        return this.getHiveById(parseInt(beeid.substring(beeid.indexOf('H') + 1))).getBeeById(beeid);\r\n    }\r\n    mapClicked(x: number, y: number): void {\r\n        var p = new Point(x, y);\r\n\r\n\r\n        // TODO: handle clicking bees before falling through to the hex\r\n\r\n        // handle clicking on a hex\r\n        var hex = this.grid.GetHexAt(p);\r\n        var oldhex = this.grid.GetHexById(this.selectedHexID);\r\n\r\n        if (hex === null || typeof hex === 'undefined')\r\n            return;\r\n\r\n        if (oldhex !== null && typeof oldhex !== 'undefined') {\r\n            if (hex.id === oldhex.id) {\r\n                console.log('TODO: show additional info via dialog or somethin');\r\n            } else {\r\n                oldhex.selected = false;\r\n            }\r\n        }\r\n        hex.selected = true;\r\n        this.selectedHexID = hex.id;\r\n\r\n        // check if this hex has a hive, if so, select it\r\n        var hive = this.getHiveByPosition(hex.id);\r\n        if (hive && hive.id != this.currentHiveID) {\r\n            this.currentHiveID = hive.id;\r\n            this.currentHive = hive;\r\n            //self.sendHiveChangeEvent();\r\n        }\r\n    }\r\n    mapMoved(x: number, y: number): void {\r\n        this.canvasLocation = new Point(x, y);\r\n    }\r\n    setRangeGraph(beeid: string): void {\r\n        if (beeid) {\r\n            var bee = this.currentHive.getBeeById(beeid);\r\n            var range = bee.getAbility('rng').value;\r\n\r\n            var center = this.grid.GetHexById(this.currentHive.pos);\r\n            for (let target of this.grid.Hexes) {\r\n                target.inRange = this.grid.GetHexDistance(center, target) <= range;\r\n            }\r\n\r\n\r\n        } else {\r\n            for (let hex of this.grid.Hexes) {\r\n                hex.inRange = false;\r\n            }\r\n        }\r\n    }\r\n    handleGameLoop(elapsedMs: number): void {\r\n        while (elapsedMs >= this.stepTimeMs) {\r\n            for (let mapResource of this.mapResources) {\r\n                mapResource.processElapsedTime(this.stepTimeMs);\r\n            }\r\n            for (let hive of this.hives) {\r\n                hive.handleGameLoop(this.stepTimeMs, this);\r\n            }\r\n            elapsedMs -= this.stepTimeMs;\r\n        }\r\n    }\r\n    drawMap(context: CanvasRenderingContext2D, elapsedMs: number) {\r\n        this.clear(context);\r\n        this.drawHexes(context);\r\n        this.drawResources(context);\r\n        this.drawHives(context, elapsedMs);\r\n    }\r\n    addHive(position: string): Hive {\r\n        var id = this.hives.length + 1;\r\n        var hive = new Hive({\r\n            \"id\": id,\r\n            \"initialSize\": 2,\r\n            \"maxSize\": 5,\r\n            \"beeMutationChance\": 0.0025,\r\n            \"pos\": position\r\n        });\r\n        this.hives.push(hive);\r\n        return hive;\r\n    }\r\n    addWaterNode(position: string): MapResource {\r\n        var hex = this.grid.GetHexById(position);\r\n        if (typeof hex.mapResource != 'undefined') {\r\n            return null;\r\n        }\r\n\r\n        var id = 1;\r\n        var mr = new MapResource({\r\n            \"id\": id,\r\n            \"resourceName\": 'Water',\r\n            \"pos\": position,\r\n            \"color\": '#04328C',\r\n            \"cooldown\": 0,\r\n            \"water\": 10000\r\n        });\r\n        this.mapResources.push(mr);\r\n        hex.mapResource = mr;\r\n        return mr;\r\n    }\r\n    addCloverNode(position: string, level: number): MapResource {\r\n\r\n        level = level || 1;\r\n\r\n        var hex = this.grid.GetHexById(position);\r\n        if (typeof hex.mapResource != 'undefined') {\r\n            return null;\r\n        }\r\n\r\n        var id = 1;\r\n        var mr = new MapResource({\r\n            \"id\": id,\r\n            \"level\": level,\r\n            \"resourceName\": 'Clover',\r\n            \"pos\": position,\r\n            \"color\": '#2C4001',\r\n            \"cooldown\": 5000,\r\n            \"harvestMultiplier\": (1.0 / level),\r\n            \"nectar\": (3 * level),\r\n            \"pollen\": (2 * level)\r\n        });\r\n        this.mapResources.push(mr);\r\n        hex.mapResource = mr;\r\n        return mr;\r\n    }\r\n    clear(context: CanvasRenderingContext2D): void {\r\n        context.clearRect(0, 0, context.canvas.width, context.canvas.height);\r\n    }\r\n    drawHexes(context: CanvasRenderingContext2D): void {\r\n        for (let hex of this.grid.Hexes) {\r\n            hex.draw(context, this.grid.config.SHOW_HEX_ID, this.grid.config.SHOW_HEX_XY);\r\n        }\r\n    }\r\n    drawResources(context: CanvasRenderingContext2D): void {\r\n        for (let resource of this.mapResources) {\r\n            let hex = this.grid.GetHexById(resource.pos);\r\n            context.fillStyle = resource.color;\r\n            context.beginPath();\r\n            context.arc(hex.MidPoint.X, hex.MidPoint.Y, this.grid.config.hexConfig.HEIGHT * 0.3, 0, this.TWO_PI);\r\n            context.closePath();\r\n            context.fill();\r\n            context.lineWidth = 2;\r\n            context.strokeStyle = 'black';\r\n            context.stroke();\r\n        }\r\n    }\r\n    drawHives(context: CanvasRenderingContext2D, elapsedMs: number): void {\r\n        for (let hive of this.hives) {\r\n            var hex = this.grid.GetHexById(hive.pos);\r\n            var id = 'H' + hive.id;\r\n            context.fillStyle = hive.id === this.currentHiveID ? 'yellow' : 'grey';\r\n            context.beginPath();\r\n            context.arc(hex.MidPoint.X, hex.MidPoint.Y, this.grid.config.hexConfig.HEIGHT * 0.3, 0, this.TWO_PI);\r\n            context.closePath();\r\n            context.fill();\r\n            context.lineWidth = 2;\r\n            context.strokeStyle = 'black';\r\n            context.stroke();\r\n\r\n            context.fillStyle = 'black';\r\n            context.font = \"bolder 8pt Trebuchet MS,Tahoma,Verdana,Arial,sans-serif\";\r\n            context.textAlign = \"center\";\r\n            context.textBaseline = 'middle';\r\n            //var textWidth = ctx.measureText(this.Planet.BoundingHex.id);\r\n            context.fillText(id, hex.MidPoint.X, hex.MidPoint.Y);\r\n            this.drawBees(context, hive, elapsedMs);\r\n        }\r\n    }\r\n    drawBees(context: CanvasRenderingContext2D, hive: Hive, elapsedMs: number): void {\r\n        for (let bee of hive.bees) {\r\n            if (bee.isMoving) {\r\n                var hexStart = this.grid.GetHexById(bee.tripStart);\r\n                var hexEnd = this.grid.GetHexById(bee.tripEnd);\r\n\r\n                var percentComplete = bee.tripElaspedTime / bee.tripTotalTime;\r\n                if (isNaN(percentComplete)) percentComplete = 1;\r\n                var deltaX = hexEnd.MidPoint.X - hexStart.MidPoint.X;\r\n                var deltaY = hexEnd.MidPoint.Y - hexStart.MidPoint.Y;\r\n                var rads = Math.atan2(deltaY, deltaX);\r\n                var coordX = hexStart.MidPoint.X + ((deltaX) * percentComplete);\r\n                var coordY = hexStart.MidPoint.Y + ((deltaY) * percentComplete);\r\n\r\n                context.fillStyle = 'yellow';\r\n                context.beginPath();\r\n                context.arc(coordX, coordY, this.grid.config.hexConfig.HEIGHT * 0.2, rads - this.Q_PI, rads + this.Q_PI, true);\r\n                context.closePath();\r\n                context.fill();\r\n                context.lineWidth = 1;\r\n                context.strokeStyle = 'black';\r\n                context.stroke();\r\n\r\n                context.fillStyle = 'black';\r\n                context.font = \"bolder 6pt Trebuchet MS,Tahoma,Verdana,Arial,sans-serif\";\r\n                context.textAlign = \"center\";\r\n                context.textBaseline = 'middle';\r\n                //var textWidth = ctx.measureText(this.Planet.BoundingHex.id);\r\n                context.fillText(bee.id, coordX, coordY);\r\n            }\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/map.class.ts","import { ResourceID, AbilityID } from 'app/config/types.config';\r\n\r\ninterface IAbility {\r\n    abilityId: AbilityID;\r\n    name: string;\r\n    desc: string;\r\n    rid?: ResourceID;\r\n    c_rid?: ResourceID;\r\n    baseValue: number;\r\n    value?: number\r\n}\r\n\r\nexport class Ability implements IAbility {\r\n    abilityId: AbilityID;\r\n    name: string;\r\n    desc: string;\r\n    rid?: ResourceID;\r\n    c_rid?: ResourceID;\r\n    baseValue: number;\r\n    value?: number;\r\n\r\n    constructor(def: IAbility) {\r\n        this.abilityId = def.abilityId;\r\n        this.name = def.name;\r\n        this.desc = def.name;\r\n        this.rid = def.rid;\r\n        this.c_rid = def.c_rid;\r\n        this.baseValue = def.baseValue;\r\n        this.value = def.value != null ? def.value : def.baseValue;\r\n    }\r\n}\r\n\r\nexport var DEFAULT_ABILITIES: Ability[] = [{\r\n    \"abilityId\": AbilityID.DEF,\r\n    \"name\": \"Defense\",\r\n    \"desc\": \"Ability to defend the hive.\",\r\n    \"baseValue\": 1,\r\n    \"rid\": \"defense\"\r\n},\r\n{\r\n    \"abilityId\": AbilityID.RNG,\r\n    \"name\": \"Range\",\r\n    \"desc\": \"Number of cells a bee can fly before having to return to the hive.\",\r\n    \"baseValue\": 2\r\n},\r\n{\r\n    \"abilityId\": AbilityID.STR_POLLEN,\r\n    \"name\": \"Pollen Storage\",\r\n    \"desc\": \"The amount of pollen a bee can hold.\",\r\n    \"baseValue\": 10,\r\n    \"rid\": ResourceID.POLLEN\r\n},\r\n{\r\n    \"abilityId\": AbilityID.STR_NECTAR,\r\n    \"name\": \"Nectar Storage\",\r\n    \"desc\": \"The amount of nectar a bee can hold.\",\r\n    \"baseValue\": 10,\r\n    \"rid\": ResourceID.NECTAR\r\n},\r\n{\r\n    \"abilityId\": AbilityID.STR_WATER,\r\n    \"name\": \"Water Storage\",\r\n    \"desc\": \"The amount of water a bee can hold.\",\r\n    \"baseValue\": 10,\r\n    \"rid\": ResourceID.WATER\r\n},\r\n{\r\n    \"abilityId\": AbilityID.SPD_FLY,\r\n    \"name\": \"Flight Speed\",\r\n    \"desc\": \"The rate at which a bee can traverse 1 cell.\",\r\n    \"baseValue\": 4000\r\n},\r\n{\r\n    \"abilityId\": AbilityID.SPD_CLT,\r\n    \"name\": \"Collection Speed\",\r\n    \"desc\": \"The rate at which a bee can collect 1 resource from a node.\",\r\n    \"baseValue\": 1000\r\n},\r\n{\r\n    \"abilityId\": AbilityID.SPD_DEP,\r\n    \"name\": \"Deposit Speed\",\r\n    \"desc\": \"The rate at which a bee can deposits 1 resource from its resource baskets.\",\r\n    \"baseValue\": 1500\r\n},\r\n\r\n{\r\n    \"abilityId\": AbilityID.PRD_HONEY,\r\n    \"name\": \"%(resource)s Production Rate\",\r\n    \"desc\": \"The rate at which a bee can produce %(resource)s.\",\r\n    \"baseValue\": 10000,\r\n    \"rid\": ResourceID.HONEY\r\n},\r\n{\r\n    \"abilityId\": AbilityID.YLD_HONEY,\r\n    \"name\": \"%(resource) Production Yield\",\r\n    \"desc\": \"The amount of %(resource)s a bee can produce.\",\r\n    \"baseValue\": 4,\r\n    \"rid\": ResourceID.HONEY\r\n},\r\n{\r\n    \"abilityId\": AbilityID.COST_HONEY_NECTAR,\r\n    \"name\": \"%(resource)s Production Cost (%(cost)s)\",\r\n    \"desc\": \"The amount of %(cost)s a bee needs to produce %(resource)s.\",\r\n    \"baseValue\": 2,\r\n    \"rid\": ResourceID.HONEY,\r\n    \"c_rid\": ResourceID.NECTAR\r\n},\r\n\r\n{\r\n    \"abilityId\": AbilityID.PRD_WAX,\r\n    \"name\": \"%(resource)s Production Rate\",\r\n    \"desc\": \"The rate at which a bee can produce %(resource)s.\",\r\n    \"baseValue\": 30000,\r\n    \"rid\": ResourceID.WAX\r\n},\r\n{\r\n    \"abilityId\": AbilityID.YLD_WAX,\r\n    \"name\": \"%(resource) Production Yield\",\r\n    \"desc\": \"The amount of %(resource)s a bee can produce.\",\r\n    \"baseValue\": 1,\r\n    \"rid\": ResourceID.WAX\r\n},\r\n{\r\n    \"abilityId\": AbilityID.COST_WAX_FOOD,\r\n    \"name\": \"%(resource)s Production Cost (%(cost)s)\",\r\n    \"desc\": \"The amount of %(cost)s a bee needs to produce %(resource)s.\",\r\n    \"baseValue\": 2,\r\n    \"rid\": ResourceID.WAX,\r\n    \"c_rid\": ResourceID.FOOD\r\n},\r\n\r\n{\r\n    \"abilityId\": AbilityID.PRD_JELLY,\r\n    \"name\": \"%(resource)s Production Rate\",\r\n    \"desc\": \"The rate at which a bee can produce %(resource)s.\",\r\n    \"baseValue\": 30000,\r\n    \"rid\": ResourceID.ROYAL_JELLY\r\n},\r\n{\r\n    \"abilityId\": AbilityID.YLD_JELLY,\r\n    \"name\": \"%(resource) Production Yield\",\r\n    \"desc\": \"The amount of %(resource)s a bee can produce.\",\r\n    \"baseValue\": 1,\r\n    \"rid\": ResourceID.ROYAL_JELLY\r\n},\r\n{\r\n    \"abilityId\": AbilityID.COST_JELLY_HONEY,\r\n    \"name\": \"%(resource)s Production Cost (%(cost)s)\",\r\n    \"desc\": \"The amount of %(cost)s a bee needs to produce %(resource)s.\",\r\n    \"baseValue\": 10,\r\n    \"rid\": ResourceID.ROYAL_JELLY,\r\n    \"c_rid\": ResourceID.HONEY\r\n},\r\n{\r\n    \"abilityId\": AbilityID.COST_JELLY_POLLEN,\r\n    \"name\": \"%(resource)s Production Cost (%(cost)s)\",\r\n    \"desc\": \"The amount of %(cost)s a bee needs to produce %(resource)s.\",\r\n    \"baseValue\": 10,\r\n    \"rid\": ResourceID.ROYAL_JELLY,\r\n    \"c_rid\": ResourceID.POLLEN\r\n},\r\n\r\n{\r\n    \"abilityId\": AbilityID.PRD_FOOD,\r\n    \"name\": \"%(resource)s Production Rate\",\r\n    \"desc\": \"The rate at which a bee can produce %(resource)s.\",\r\n    \"baseValue\": 10000,\r\n    \"rid\": ResourceID.FOOD\r\n},\r\n{\r\n    \"abilityId\": AbilityID.YLD_FOOD,\r\n    \"name\": \"%(resource) Production Yield\",\r\n    \"desc\": \"The amount of %(resource)s a bee can produce.\",\r\n    \"baseValue\": 1,\r\n    \"rid\": ResourceID.FOOD\r\n},\r\n{\r\n    \"abilityId\": AbilityID.COST_FOOD_POLLEN,\r\n    \"name\": \"%(resource)s Production Cost (%(cost)s)\",\r\n    \"desc\": \"The amount of %(cost)s a bee needs to produce %(resource)s.\",\r\n    \"baseValue\": 2,\r\n    \"rid\": ResourceID.FOOD,\r\n    \"c_rid\": ResourceID.POLLEN\r\n},\r\n{\r\n    \"abilityId\": AbilityID.COST_FOOD_HONEY,\r\n    \"name\": \"%(resource)s Production Cost (%(cost)s)\",\r\n    \"desc\": \"The amount of %(cost)s a bee needs to produce %(resource)s.\",\r\n    \"baseValue\": 1,\r\n    \"rid\": ResourceID.FOOD,\r\n    \"c_rid\": ResourceID.HONEY\r\n},\r\n{\r\n    \"abilityId\": AbilityID.COST_FOOD_WATER,\r\n    \"name\": \"%(resource)s Production Cost (%(cost)s)\",\r\n    \"desc\": \"The amount of %(cost)s a bee needs to produce %(resource)s.\",\r\n    \"baseValue\": 2,\r\n    \"rid\": ResourceID.FOOD,\r\n    \"c_rid\": ResourceID.WATER\r\n},\r\n{\r\n    \"abilityId\": AbilityID.COST_FOOD_DEADBEES,\r\n    \"name\": \"%(resource)s Production Cost (%(cost)s)\",\r\n    \"desc\": \"The amount of %(cost)s a bee needs to produce %(resource)s.\",\r\n    \"baseValue\": 5,\r\n    \"rid\": ResourceID.FOOD,\r\n    \"c_rid\": ResourceID.DEADBEES\r\n},\r\n\r\n{\r\n    \"abilityId\": AbilityID.PRD_EGG,\r\n    \"name\": \"Egg Production\",\r\n    \"desc\": \"The rate at which a bee can produce eggs.\",\r\n    \"baseValue\": 30000\r\n}\r\n\r\n]\n\n\n// WEBPACK FOOTER //\n// ./src/app/config/abilities.config.ts","import { AbilityID } from 'app/config/types.config';\r\nexport interface ITrait {\r\n    id: string;\r\n    name: string;\r\n    desc: string;\r\n    genes: [{\r\n        chromosome: number;\r\n        gene: number;\r\n        value: boolean;\r\n    }];\r\n    requiredTraits?: string[];\r\n    mods: [{\r\n        abilityId: AbilityID;\r\n        add?: number;\r\n        percent?: number;\r\n    }];\r\n    icon: string;\r\n}\r\n\r\nexport class Trait implements ITrait {\r\n    id: string;\r\n    name: string;\r\n    desc: string;\r\n    genes: [{\r\n        chromosome: number;\r\n        gene: number;\r\n        value: boolean;\r\n    }];\r\n    requiredTraits?: string[];\r\n    mods: [{\r\n        abilityId: AbilityID;\r\n        add?: number;\r\n        percent?: number;\r\n    }];\r\n    icon: string;\r\n    constructor(def: ITrait) {\r\n        this.id = def.id;\r\n        this.name = def.name;\r\n        this.desc = def.desc;\r\n        this.genes = def.genes;\r\n        this.requiredTraits = def.requiredTraits;\r\n        this.mods = def.mods;\r\n        this.icon = def.icon;\r\n    }\r\n}\r\n\r\nexport let DEFAULT_TRAITS: ITrait[] = [{\r\n    \"id\": \"B_STING\",\r\n    \"name\": \"Big stinger\",\r\n    \"desc\": \"A stinger built for defense.\",\r\n    \"genes\": [\r\n        { \"chromosome\": 0, \"gene\": 0, \"value\": true }\r\n    ],\r\n    \"mods\": [\r\n        { \"abilityId\": \"def\", \"add\": 5 }\r\n    ],\r\n    \"icon\": \"icon-shield text-success\"\r\n},\r\n{\r\n    \"id\": \"L_STING\",\r\n    \"name\": \"Little stinger\",\r\n    \"desc\": \"This below average sized stinger is bad for defense.\",\r\n    \"genes\": [\r\n        { \"chromosome\": 0, \"gene\": 0, \"value\": false }\r\n    ],\r\n    \"mods\": [\r\n        { \"abilityId\": \"def\", \"add\": -5 }\r\n    ],\r\n    \"icon\": \"icon-shield text-danger\"\r\n},\r\n{\r\n    \"id\": \"RNG_1\",\r\n    \"name\": \"Extra Range 1\",\r\n    \"desc\": \"Can fly 1 additional cell.\",\r\n    \"genes\": [\r\n        { \"chromosome\": 1, \"gene\": 0, \"value\": true }\r\n    ],\r\n    \"mods\": [\r\n        { \"abilityId\": \"rng\", \"add\": 1 }\r\n    ],\r\n    \"icon\": \"fa-arrow-up text-success\"\r\n},\r\n{\r\n    \"id\": \"VENOM_10_PCT\",\r\n    \"name\": \"10% More Venomous\",\r\n    \"desc\": \"Extra venom for better defense.\",\r\n    \"genes\": [\r\n        { \"chromosome\": 2, \"gene\": 0, \"value\": false }\r\n    ],\r\n    \"requiredTraits\": [\"B_STING\"],\r\n    \"mods\": [\r\n        { \"abilityId\": \"def\", \"percent\": 10 }\r\n    ],\r\n    \"icon\": \"icon-shield text-success\"\r\n},\r\n{\r\n    \"id\": \"FLY_10_PCT\",\r\n    \"name\": \"Fly 10% Faster\",\r\n    \"desc\": \"Little stinger, faster flier.\",\r\n    \"genes\": [\r\n        { \"chromosome\": 2, \"gene\": 0, \"value\": false }\r\n    ],\r\n    \"requiredTraits\": [\"L_STING\"],\r\n    \"mods\": [\r\n        { \"abilityId\": \"spd_fly\", \"percent\": -10 }\r\n    ],\r\n    \"icon\": \"fa-bolt text-success\"\r\n}\r\n\r\n]\n\n\n// WEBPACK FOOTER //\n// ./src/app/config/traits.config.ts","import { Directive, Injectable, ElementRef, Output, EventEmitter, Input, OnInit, OnDestroy, HostListener, NgZone } from '@angular/core';\r\nimport { AppInjector, uuid } from \"app/app.module\";\r\nimport { DragService } from \"app/drag-drop/drag-service.service\";\r\nimport { Subscription } from \"rxjs/Subscription\";\r\n\r\n\r\n\r\n@Directive({\r\n    selector: '[bloqheadDraggable]',\r\n    host: {\r\n        '[draggable]': 'true'\r\n    }\r\n})\r\nexport class BloqHeadDraggableDirective implements OnInit {\r\n\r\n    @Input() dropTargetIds: Array<string>;\r\n    @Input() data?: any;\r\n    @Input() dragClass: string;\r\n\r\n    @Output() onDragStart: EventEmitter<any> = new EventEmitter();\r\n    @Output() onDragEnd: EventEmitter<any> = new EventEmitter();\r\n\r\n    private element: HTMLElement;\r\n    private dragService;\r\n\r\n    constructor(refEl: ElementRef) {\r\n        this.element = <HTMLElement>refEl.nativeElement;\r\n        this.dragService = AppInjector.get(DragService);\r\n    }\r\n\r\n\r\n    ngOnInit(): void {\r\n        if (!this.data) this.data = uuid.new();\r\n    }\r\n\r\n    @HostListener('dragstart', ['$event'])\r\n    dragStart(e) {\r\n        var oe = e.orignalEvent || e;\r\n\r\n        if (oe.dataTransfer)\r\n            oe.dataTransfer.setData('text/plain', this.data);\r\n\r\n        this.element.classList.add(this.dragClass || 'lvl-moving');\r\n\r\n        this.dragService.dragData = this.data;\r\n        this.dragService.dropTargetIds = this.dropTargetIds;\r\n\r\n        oe.stopPropagation();\r\n        this.onDragStart.emit(oe);\r\n        this.dragService.onDragStart.next();\r\n\r\n\r\n    }\r\n\r\n    @HostListener('dragend', ['$event'])\r\n    dragEnd(e) {\r\n        this.element.classList.remove(this.dragClass || 'lvl-moving');\r\n        var oe = e.originalEvent || e;\r\n        this.dragService.onDragEnd.next();\r\n        this.onDragEnd.emit(oe);\r\n        oe.stopPropagation();\r\n        oe.preventDefault();\r\n    }\r\n}\r\n\r\n\r\n@Directive({\r\n    selector: '[bloqheadDropTarget]'\r\n})\r\nexport class BloqHeadDropTargetDirective implements OnInit, OnDestroy {\r\n\r\n    @Input() overClass: string;\r\n    @Input() targetClass: string;\r\n    @Input() dropTargetId: string;\r\n    @Input() enabled: boolean = true;\r\n\r\n    @Output() onDragOver: EventEmitter<any> = new EventEmitter();\r\n    @Output() onDragEnter: EventEmitter<any> = new EventEmitter();\r\n    @Output() onDragLeave: EventEmitter<any> = new EventEmitter();\r\n    @Output() onDrop: EventEmitter<any> = new EventEmitter();\r\n\r\n    dragStartEvent: Subscription;\r\n    dragEndEvent: Subscription;\r\n\r\n    private element: HTMLElement;\r\n    private dragService;\r\n\r\n    constructor(refEl: ElementRef, private ngZone: NgZone) {\r\n        this.element = <HTMLElement>refEl.nativeElement;\r\n        this.dragService = AppInjector.get(DragService);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.overClass = this.overClass || 'lvl-over';\r\n        this.targetClass = this.targetClass || 'lvl-target';\r\n        this.dragStartEvent = this.dragService.onDragStart.subscribe(() => {\r\n            if (this.allowDrop()) {\r\n                this.element.classList.add(this.targetClass);\r\n            }\r\n        });\r\n        this.dragEndEvent = this.dragService.onDragEnd.subscribe(() => {\r\n            this.element.classList.remove(this.overClass, this.targetClass);\r\n        });\r\n\r\n        this.ngZone.runOutsideAngular(() => {\r\n            this.element.addEventListener('dragover', (e) => {\r\n                this.dragOver(e);\r\n            });\r\n        });\r\n    }\r\n    ngOnDestroy(): void {\r\n        this.dragStartEvent.unsubscribe();\r\n        this.dragEndEvent.unsubscribe();\r\n    }\r\n\r\n    //@HostListener('dragover', ['$event'])\r\n    dragOver(e) {\r\n\r\n        var oe = e.originalEvent || e;\r\n        if (this.allowDrop()) {\r\n            oe.preventDefault();\r\n            if (oe.dataTransfer) oe.dataTransfer.dropEffect = 'move';\r\n            this.onDragOver.emit(oe);\r\n            return false;\r\n        }\r\n\r\n\r\n    }\r\n    @HostListener('dragenter', ['$event'])\r\n    dragEnter(e) {\r\n\r\n        if (this.allowDrop()) {\r\n            this.element.classList.add(this.overClass);\r\n        }\r\n        var oe = e.originalEvent || e;\r\n        oe.preventDefault();\r\n        oe.stopPropagation();\r\n        this.onDragEnter.emit({ nativeEvent: oe, dragData: this.dragService.dragData });\r\n\r\n    }\r\n    @HostListener('dragleave', ['$event'])\r\n    dragLeave(e) {\r\n\r\n        var oe = e.originalEvent || e;\r\n        this.element.classList.remove(this.overClass);\r\n        oe.preventDefault();\r\n        this.onDragLeave.emit({ nativeEvent: oe, dragData: this.dragService.dragData });\r\n    }\r\n    @HostListener('drop', ['$event'])\r\n    drop(e) {\r\n        var oe = e.originalEvent || e;\r\n        oe.preventDefault();\r\n        oe.stopPropagation();\r\n        this.dragService.onDragEnd.next();\r\n        var relativePos = {\r\n            x: oe.clientX - this.element.offsetLeft,\r\n            y: oe.clientY - this.element.offsetTop\r\n        };\r\n        this.onDrop.emit({ nativeEvent: oe, dragData: this.dragService.dragData, relativePos: relativePos });\r\n    }\r\n\r\n    allowDrop(): boolean {\r\n        return this.enabled && this.dragService.dropTargetIds.indexOf(this.dropTargetId) !== -1;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/drag-drop/drag-drop.directive.ts","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { GameService } from 'app/game.service';\r\nimport { Subscription } from \"rxjs/Subscription\";\r\n\r\n@Component({\r\n    selector: 'bloqhead-game-control',\r\n    template: '<div>' +\r\n    '<button title=\"Save Game\" type=\"button\" class=\"btn btn-xs btn-primary\" (click)=\"_gameService.saveGame()\"><i class=\"fa fa-floppy-o\"></i></button>' +\r\n    '<button title=\"Hard Reset\" type=\"button\" class=\"btn btn-xs btn-primary\" (click)=\"_gameService.hardReset()\"><i class=\"fa fa-recycle\"></i></button>' +\r\n    '<button title=\"Play/Pause\" type=\"button\" class=\"btn btn-xs btn-primary\" (click)=\"_gameService.toggleState()\"><i class=\"fa\" ngClass=\"{{getIcon()}}\"></i></button>' +\r\n    '</div>'\r\n\r\n})\r\nexport class GameControl implements OnInit {\r\n    RUNNING: boolean;\r\n    stateSub: Subscription;\r\n    constructor(public _gameService: GameService) { }\r\n    ngOnInit() {\r\n        this.stateSub = this._gameService.stateChangeEvent$.subscribe(state => this.RUNNING = state);\r\n    }\r\n\r\n    getIcon() {\r\n        return this.RUNNING ? 'fa-pause' : 'fa-play';\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.stateSub.unsubscribe();\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/game-control/game-control.component.ts","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'bloqhead-goal-list',\n  templateUrl: './goal-list.component.html',\n  styleUrls: ['./goal-list.component.scss']\n})\nexport class GoalListComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/goal-list/goal-list.component.ts","import { Component, OnInit, AfterViewChecked, OnDestroy, HostListener } from '@angular/core';\r\nimport { GameService } from 'app/game.service';\r\nimport { IGridConfig } from 'app/classes/hexmap/grid.class';\r\nimport { Subscription } from \"rxjs/Subscription\";\r\nimport { Point } from \"app/classes/hexmap/point.class\";\r\n\r\n@Component({\r\n  selector: 'bloqhead-map',\r\n  templateUrl: './map.component.html',\r\n  styleUrls: ['./map.component.scss']\r\n})\r\nexport class MapComponent implements OnInit, OnDestroy {\r\n\r\n  private _imageList: string[] = [\r\n    'bee.svg',\r\n    'bee-2.svg',\r\n    'egg.svg',\r\n    'honeypot.svg',\r\n    'larva.svg',\r\n    'nectar.svg',\r\n    'nectar2.svg',\r\n    'pollen.svg',\r\n    'tombstone.svg'\r\n  ];\r\n  images: HTMLImageElement[];\r\n  canvas: HTMLCanvasElement;\r\n  context: CanvasRenderingContext2D;\r\n  mouseMoved: boolean;\r\n  dontTranslate: boolean = false;\r\n  needsResize: boolean = false;\r\n  mapconfig: IGridConfig;\r\n  hexsize_min: number = 20;\r\n  hexsize_max: number = 160;\r\n  gameLoopSub: Subscription;\r\n  imagesLoaded: boolean = false;\r\n  fps: number = 0;\r\n  smoothing: number = 0.99;\r\n  constructor(public _gameService: GameService) {\r\n    this.mapconfig = _gameService.map.grid.config;\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadImages(this._imageList)\r\n      .then((images) => {\r\n\r\n        var i = images.reduce(function (total, current) {\r\n          return total[current.name] = current.image, total;\r\n        }, {});\r\n\r\n        this.images = i;\r\n        this.imagesLoaded = true;\r\n\r\n        this.setupCanvas();\r\n\r\n        // document.getElementById('beeimg').appendChild(this.images['bee-2.svg']);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n  ngOnDestroy() {\r\n    this.gameLoopSub.unsubscribe();\r\n  }\r\n\r\n  loadImage(imageName: string): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      let img: HTMLImageElement = new Image(100, 100);\r\n      img.src = 'assets/images/map/' + imageName;\r\n      resolve({ name: imageName, image: img });\r\n    });\r\n  }\r\n\r\n  loadImages(imageNames: string[]): Promise<any[]> {\r\n    let promises: Promise<any>[] = imageNames.map(this.loadImage);\r\n    return Promise.all(promises);\r\n  }\r\n\r\n  setupCanvas() {\r\n    this.canvas = <HTMLCanvasElement>document.getElementById('map');\r\n    this.context = this.canvas.getContext('2d');\r\n\r\n    this.gameLoopSub = this._gameService.animationEvent$.subscribe(elapsedMs => {\r\n\r\n      if (elapsedMs > 0) {\r\n        var instantFps = 1 / (elapsedMs / 1000);\r\n        if (this.fps === 0) this.fps = instantFps;\r\n        this.fps = (this.fps * this.smoothing) + (instantFps * (1.0 - this.smoothing));\r\n      }\r\n      this.draw(elapsedMs);\r\n    });\r\n\r\n    this.setHexSize(this.mapconfig.hexConfig.HEIGHT);\r\n  }\r\n\r\n  @HostListener('mousewheel', ['$event'])\r\n  mousewheel(event: MouseWheelEvent) {\r\n    if (event.wheelDeltaY > 0)\r\n      this.zoomIn();\r\n    if (event.wheelDeltaY < 0)\r\n      this.zoomOut();\r\n    return false;\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  mousedown(event: MouseEvent) {\r\n\r\n    if (event.button === 0)\r\n      this.mouseMoved = false;\r\n\r\n    return false;\r\n  }\r\n\r\n  @HostListener('mouseup', ['$event'])\r\n  mouseup(event: MouseEvent) {\r\n    if (event.button === 0 && !this.mouseMoved && (<Element>event.target).id === 'map')\r\n      this._gameService.map.mapClicked(event.offsetX, event.offsetY);\r\n    return false;\r\n  }\r\n\r\n\r\n\r\n  @HostListener('mousemove', ['$event'])\r\n  mousemove(event: MouseEvent) {\r\n    if (event.buttons === 1 && (Math.abs(event.movementX) > 0.1 || Math.abs(event.movementY) > 0.1)) {\r\n      this.mouseMoved = true;\r\n      this.moveCanvasBy(event.movementX, event.movementY);\r\n    }\r\n    return false;\r\n\r\n  }\r\n\r\n  zoomIn() {\r\n    if (this.mapconfig.hexConfig.HEIGHT < this.hexsize_max)\r\n      this.setHexSize(this.mapconfig.hexConfig.HEIGHT * 1.1);\r\n  };\r\n  zoomOut() {\r\n    if (this.mapconfig.hexConfig.HEIGHT > this.hexsize_min)\r\n      this.setHexSize(this.mapconfig.hexConfig.HEIGHT / 1.1);\r\n  };\r\n  resetZoom() {\r\n    // this should probably be coded to center the map\r\n    this.setHexSize(50);\r\n    this.moveCanvas(0, 0);\r\n    this.dontTranslate = true;\r\n  };\r\n\r\n\r\n  moveCanvas(x, y) {\r\n    this.canvas.style.left = x + 'px';\r\n    this.canvas.style.top = y + 'px';\r\n    this._gameService.map.mapMoved(x, y);\r\n  };\r\n\r\n  moveCanvasBy(x, y) {\r\n    var l = parseFloat(this.canvas.style.left) + x;\r\n    var t = parseFloat(this.canvas.style.top) + y;\r\n    this.moveCanvas(l, t);\r\n  };\r\n\r\n\r\n  setHexSize(size) {\r\n    this.mapconfig = this._gameService.map.grid.setHexSizeByHeight(size);\r\n    this.needsResize = true;\r\n  };\r\n\r\n  draw(elapsedMs: number) {\r\n    if (typeof this.canvas === 'undefined' || typeof this.context === 'undefined')\r\n      return;\r\n\r\n    if (this.needsResize) {\r\n      this.needsResize = false;\r\n      this.resizeCanvas();\r\n    }\r\n\r\n    this._gameService.map.drawMap(this.context, elapsedMs);\r\n  }\r\n\r\n  resizeCanvas() {\r\n\r\n    var old_w = parseFloat(this.canvas.style.width);\r\n    var old_h = parseFloat(this.canvas.style.height);\r\n\r\n    this.canvas.style.width = this.mapconfig.canvasSize.X + 'px';\r\n    this.canvas.style.height = this.mapconfig.canvasSize.Y + 'px';\r\n    this.canvas.width = this.canvas.offsetWidth;\r\n    this.canvas.height = this.canvas.offsetHeight;\r\n\r\n    old_w = old_w || this.mapconfig.canvasSize.X;\r\n    old_h = old_h || this.mapconfig.canvasSize.Y;\r\n\r\n    var tran_x = Math.round((0 - (this.mapconfig.canvasSize.X - old_w)) / 2);\r\n    var tran_y = Math.round((0 - (this.mapconfig.canvasSize.Y - old_h)) / 2);\r\n\r\n    if (!this.dontTranslate) {\r\n      // move the map if we need to translate it\r\n      if (tran_x !== 0 || tran_y !== 0)\r\n        this.moveCanvasBy(tran_x, tran_y);\r\n    }\r\n    this.dontTranslate = false;\r\n  }\r\n\r\n  dragEnter(event) {\r\n    this._gameService.map.setRangeGraph(event.dragData);\r\n  }\r\n\r\n  dragLeave(event) {\r\n    this._gameService.map.setRangeGraph(null);\r\n  }\r\n\r\n  dropped(event) {\r\n\r\n    var hex = this._gameService.map.grid.GetHexAt(new Point(event.nativeEvent.offsetX, event.nativeEvent.offsetY));\r\n    if (hex && hex.inRange && hex.mapResource)\r\n      this._gameService.map.getBeeById(event.dragData).addWaypointNode(hex);\r\n\r\n    this._gameService.map.setRangeGraph(null);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/map/map.component.ts","import { Component, OnInit } from '@angular/core';\r\nimport { GameService } from 'app/game.service';\r\nimport { AbilityID } from 'app/config/types.config';\r\nimport * as Bee from 'app/classes/bee.class';\r\n\r\n@Component({\r\n  selector: 'bloqhead-nursery-list',\r\n  templateUrl: './nursery.component.html',\r\n  styleUrls: ['./nursery.component.scss']\r\n})\r\nexport class NurseryComponent implements OnInit {\r\n  BeeTypes = Bee.BeeTypes;\r\n  larvas: Bee.BaseBee[];\r\n  eggs: Bee.BaseBee[];\r\n  constructor(public _gameService: GameService) { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  getQueenElapsedSec(): number {\r\n    return Math.round(this._gameService.map.currentHive.bees.find(b => b.jid === 'breeder').msSinceWork / 1000);\r\n\r\n  }\r\n\r\n  getQueenBreedTimeSec(): number {\r\n    return Math.round(this._gameService.map.currentHive.bees.find(b => b.jid === 'breeder').getAbility(AbilityID.PRD_EGG).value / 1000);\r\n\r\n  }\r\n\r\n  canBreed(bee: Bee.BaseBee): boolean {\r\n    return this.isAlive(bee);\r\n  }\r\n\r\n  canFertilize(egg: Bee.Egg): boolean {\r\n    return this.isAlive(egg);\r\n  }\r\n\r\n  isAlive(bee: Bee.BaseBee): boolean {\r\n    return !bee.dead;\r\n  }\r\n\r\n  assignBee(bee: Bee.BaseBee, type: Bee.BeeTypes) {\r\n    this._gameService.map.currentHive.assignBee(bee, type);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/nursery/nursery.component.ts","import { Component, OnInit, Input } from '@angular/core';\nimport { GameService } from \"app/game.service\";\nimport { BeeTypes, BaseBee } from \"app/classes/bee.class\";\nimport { JobID } from 'app/config/types.config';\nimport { JOB_TYPES } from 'app/config/jobTypes.config';\n\n\n\n@Component({\n  selector: 'population-panel',\n  templateUrl: './population-panel.component.html',\n  styleUrls: ['./population-panel.component.scss'],\n\n})\nexport class PopulationPanelComponent implements OnInit {\n  @Input() filter: { type: BeeTypes, traits: any[] }\n  jids: Map<BeeTypes, JobID[]> = new Map<BeeTypes, JobID[]>();\n  constructor(public _gameService: GameService) { }\n\n  ngOnInit() {\n    let bt = BeeTypes.DRONE;\n    this.addJids(bt);\n    bt = BeeTypes.WORKER;\n    this.addJids(bt);\n    bt = BeeTypes.QUEEN;\n    this.addJids(bt);\n\n\n  }\n\n  addJids(bt: BeeTypes) {\n\n    this.jids[bt] = [];\n    for (let job of JOB_TYPES) {\n      if (job.beetypes.indexOf(bt) !== -1)\n        this.jids[bt].push(job.jid);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/population-panel/population-panel.component.ts","import { Component, OnInit } from '@angular/core';\r\nimport { GameService } from 'app/game.service';\r\nimport * as Bee from 'app/classes/bee.class';\r\n@Component({\r\n  selector: 'bloqhead-population',\r\n  templateUrl: './population.component.html',\r\n  styleUrls: ['./population.component.scss']\r\n})\r\nexport class PopulationComponent implements OnInit {\r\n  BeeTypes = Bee.BeeTypes;\r\n  constructor(public _gameService: GameService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/population/population.component.ts","import { Component, OnInit } from '@angular/core';\r\nimport { GameService } from 'app/game.service';\r\n@Component({\r\n    selector: 'bloqhead-resource-list',\r\n    templateUrl: './resource-list.component.html',\r\n    styleUrls: ['./resource-list.component.scss']\r\n})\r\nexport class ResourceListComponent implements OnInit {\r\n\r\n    constructor(public _gameService: GameService) { }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    dropped(e, jid) {\r\n        var bee = this._gameService.map.currentHive.getBeeById(e.dragData);\r\n        bee.setJob(jid);\r\n    }\r\n\r\n    getWorkerCount(jid) {\r\n        return this._gameService.map.currentHive.bees.filter(b => b.jid === jid).length;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/resource-list/resource-list.component.ts","import { UIRouter, Category } from 'ui-router-core';\r\n\r\n\r\nexport function routerConfigFn(router: UIRouter) {\r\n    const transitionService = router.transitionService;\r\n\r\n\r\n    router.trace.enable(Category.TRANSITION);\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/router.config.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/building-list/building-list.component.scss\n// module id = 269\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/game.component.scss\n// module id = 270\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/goal-list/goal-list.component.scss\n// module id = 271\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map.component.scss\n// module id = 272\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/nursery/nursery.component.scss\n// module id = 273\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/population-panel/population-panel.component.scss\n// module id = 274\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/population/population.component.scss\n// module id = 275\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/resource-list/resource-list.component.scss\n// module id = 276\n// module chunks = 1","import { BrowserModule } from '@angular/platform-browser';\r\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\r\nimport { ProgressbarModule } from 'ngx-bootstrap/progressbar';\r\nimport { TabsModule } from 'ngx-bootstrap/tabs';\r\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA, Injector } from '@angular/core';\r\nimport { UIRouterModule, UIView } from \"ui-router-ng2\";\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpModule } from '@angular/http';\r\nimport { GameService } from 'app/game.service';\r\nimport { ConfigService } from 'app/config/config.service';\r\nimport { GameComponent } from './game.component';\r\nimport { GameControl } from './game-control/game-control.component';\r\nimport { MainGameComponent } from 'app/main-game/main-game.component';\r\nimport { LogService, LogComponent } from 'app/log/log.component';\r\nimport { TestInterfaceComponent } from 'app/test-interface/test-interface.component';\r\nimport { APP_STATES } from 'app/app.states';\r\nimport { routerConfigFn } from 'app/router.config';\r\nimport { NurseryComponent } from './nursery/nursery.component';\r\nimport { ResourceListComponent } from './resource-list/resource-list.component';\r\nimport { BuildingListComponent } from './building-list/building-list.component';\r\nimport { MapComponent } from './map/map.component';\r\nimport { PopulationComponent } from './population/population.component';\r\nimport { GoalListComponent } from './goal-list/goal-list.component';\r\nimport { PopulationPanelComponent } from './population-panel/population-panel.component';\r\nimport { BloqHeadDraggableDirective, BloqHeadDropTargetDirective } from './drag-drop/drag-drop.directive';\r\nimport { DragService } from './drag-drop/drag-service.service';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    GameComponent,\r\n    GameControl,\r\n    LogComponent,\r\n    MainGameComponent,\r\n    TestInterfaceComponent,\r\n    ResourceListComponent,\r\n    NurseryComponent,\r\n    BuildingListComponent,\r\n    MapComponent,\r\n    PopulationComponent,\r\n    GoalListComponent,\r\n    PopulationPanelComponent,\r\n    BloqHeadDraggableDirective,\r\n    BloqHeadDropTargetDirective\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    TooltipModule.forRoot(),\r\n    ProgressbarModule.forRoot(),\r\n    TabsModule.forRoot(),\r\n    FormsModule,\r\n    HttpModule,\r\n    UIRouterModule.forRoot({\r\n      states: APP_STATES,\r\n      useHash: true,\r\n      otherwise: { state: 'main' },\r\n      config: routerConfigFn,\r\n    }),\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n  providers: [GameService, LogService, ConfigService, DragService],\r\n  bootstrap: [UIView]\r\n})\r\nexport class AppModule {\r\n\r\n  constructor(private injector: Injector) {\r\n    AppInjector = this.injector;\r\n\r\n  }\r\n}\r\nexport let AppInjector: Injector;\r\nexport function randomIntFromInterval(min: number, max: number, func?) {\r\n  if (func == null) func = Math.random;\r\n  return Math.floor(func() * (max - min + 1) + min);\r\n}\r\n\r\nexport let uuid = {\r\n  new: function (): string {\r\n    function _p8(s?: boolean) {\r\n      var p = (Math.random().toString(16) + \"000000000\").substr(2, 8);\r\n      return s ? \"-\" + p.substr(0, 4) + \"-\" + p.substr(4, 4) : p;\r\n    }\r\n    return _p8() + _p8(true) + _p8(true) + _p8();\r\n  },\r\n  empty: function () {\r\n    return '00000000-0000-0000-0000-000000000000';\r\n  }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \"<div class=\\\"player-box\\\">\\r\\n    <h3 class=\\\"box-title\\\">\\r\\n        <i class=\\\"fa fa-building\\\"></i> Hive Expansion\\r\\n    </h3>\\r\\n    <div class=\\\"player-content\\\">\\r\\n        <div class=\\\"building-list col-xs-12\\\">\\r\\n            <div class=\\\"scalable-list-button-big\\\" *ngFor=\\\"let building of _gameService.map.currentHive.buildings\\\">\\r\\n                <div *ngIf=\\\"building.getNextCost().length > 0\\\">\\r\\n                    <!--<div placement=\\\"bottom\\\" [tooltip]=\\\"costTooltip\\\" container=\\\"body\\\" #tool=\\\"bs-tooltip\\\" triggers=\\\"\\\" (click)=\\\"tool.toggle()\\\">-->\\r\\n                    <div placement=\\\"bottom\\\" [tooltip]=\\\"costTooltip\\\" container=\\\"body\\\">\\r\\n                        <button type=\\\"button\\\" [disabled]=\\\"!building.canBuild\\\" class=\\\"btn btn-xs btn-primary\\\" (click)=\\\"_gameService.map.currentHive.build(building)\\\">\\r\\n                            {{(building.name + ' (' + (building.gifted + building.purchased) + ')')}}\\r\\n                        </button>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <ng-template #costTooltip>\\r\\n\\r\\n                    <div style=\\\"text-align: left;\\\">\\r\\n                        <h5>{{building.description}}</h5>\\r\\n\\r\\n                        <p style=\\\"white-space:nowrap\\\">\\r\\n                            <span>Requires: </span>\\r\\n                            <span *ngFor=\\\"let cost of building.getNextCost()\\\">\\r\\n                                <i class=\\\"fa\\\" [ngClass]=\\\"cost.resource.icon\\\" [attr.data-rid]=\\\"cost.resource.rid\\\"></i>\\r\\n                                <!--data-attr=\\\"{{$ctrl.resourceTypes[cost.rid].attr}}\\\"-->\\r\\n                                <span>{{cost.amount}}</span>\\r\\n                            </span>\\r\\n                        </p>\\r\\n                    </div>\\r\\n\\r\\n                </ng-template>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/building-list/building-list.component.html\n// module id = 298\n// module chunks = 1","module.exports = \"<div ng-init=\\\"$ctrl.pauseScroll=false\\\">\\r\\n    <div class=\\\"nopadding col-xs-3\\\">\\r\\n        <div class=\\\"row topRow\\\">\\r\\n            <div class=\\\"col-xs-12 fullH\\\">\\r\\n                <bloqhead-log></bloqhead-log>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-12\\\">\\r\\n                <bloqhead-goal-list></bloqhead-goal-list>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"col-xs-9 fullH nopadding\\\">\\r\\n        <ui-view></ui-view>\\r\\n    </div>\\r\\n    <nav class=\\\"navbar navbar-inverse navbar-fixed-bottom game-menu\\\">\\r\\n        <div class=\\\"container-fluid\\\">\\r\\n            <ul class=\\\"nav navbar-nav\\\">\\r\\n                <li><button class=\\\"btn btn-primary\\\" uiSref=\\\"main\\\">Main</button></li>\\r\\n                <li><button class=\\\"btn btn-primary\\\" uiSref=\\\"farm\\\">Farm</button></li>\\r\\n                <li><button class=\\\"btn btn-primary\\\" uiSref=\\\"achievements\\\">Achievements</button></li>\\r\\n                <li><button class=\\\"btn btn-primary\\\" uiSref=\\\"test\\\">Test Interface</button></li>\\r\\n\\r\\n            </ul>\\r\\n            <bloqhead-game-control class=\\\"navbar-brand navbar-right\\\"></bloqhead-game-control>\\r\\n        </div>\\r\\n    </nav>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/game.component.html\n// module id = 299\n// module chunks = 1","module.exports = \"<div class=\\\"player-box\\\">\\n    <h3 class=\\\"box-title\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-xs-9\\\">\\n                <i class=\\\"fa fa-check-square-o\\\"></i> Goals\\n            </div>\\n            <div class=\\\"col-xs-3\\\">\\n                <div class=\\\" pull-right\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </h3>\\n    <div class=\\\"player-content\\\">\\n        <div class=\\\"row goal-container\\\">\\n            <h4>Active Goals</h4>\\n            <h4>Daily Goals</h4>\\n        </div>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/goal-list/goal-list.component.html\n// module id = 300\n// module chunks = 1","module.exports = \"<div class=\\\"player-box\\\">\\r\\n    <h3 class=\\\"box-title\\\" ng-transclude=\\\"boxTitleHtml\\\">\\r\\n        <i class=\\\"fa fa-list\\\"></i> Log\\r\\n        <i class=\\\"pull-right fa\\\" ngClass=\\\"{{pauseScroll ? 'fa-play' : 'fa-pause'}}\\\" (click)=\\\"pauseScroll=!pauseScroll\\\" title=\\\"Autoscroll On/Off\\\"></i>\\r\\n    </h3>\\r\\n    <div class=\\\"player-content\\\">\\r\\n        <div class=\\\"log-component\\\">\\r\\n            <ul class=\\\"list-group\\\">\\r\\n                <li *ngFor=\\\"let item of _logService.messages\\\" ngClass=\\\"{{getLogClass(item.type)}}\\\">\\r\\n                    [<span>{{item.timestamp|date:'MM/dd HH:mm:ss'}}</span>]&nbsp;\\r\\n                    <span>{{item.message}}</span>\\r\\n                </li>\\r\\n                <li ngShow=\\\"scrolling\\\">\\r\\n                    <a id=\\\"scrollBottom\\\"></a>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/log/log.component.html\n// module id = 301\n// module chunks = 1","module.exports = \"<div class=\\\"\\\">\\r\\n    <div class=\\\"row topRow\\\">\\r\\n        <div class=\\\"col-xs-4 fullH\\\">\\r\\n            <bloqhead-resource-list></bloqhead-resource-list>\\r\\n\\r\\n        </div>\\r\\n        <div class=\\\"col-xs-4 fullH\\\">\\r\\n            <bloqhead-building-list></bloqhead-building-list>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-xs-4 fullH\\\">\\r\\n            <bloqhead-nursery-list></bloqhead-nursery-list>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" id=\\\"bottomRow\\\">\\r\\n        <div class=\\\"col-xs-8 fullH\\\">\\r\\n            <bloqhead-map></bloqhead-map>\\r\\n        </div>\\r\\n        <div class=\\\"col-xs-4 fullH\\\">\\r\\n            <bloqhead-population></bloqhead-population>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/main-game/main-game.component.html\n// module id = 302\n// module chunks = 1","module.exports = \"<div class=\\\"player-box\\\">\\r\\n    <h3 class=\\\"box-title\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-12\\\">\\r\\n                <i class=\\\"fa fa-map\\\"></i> Map\\r\\n                <div class=\\\"pull-right\\\">\\r\\n                    {{fps|number:'1.2-2'}} FPS\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </h3>\\r\\n    <div class=\\\"player-content\\\">\\r\\n        <div class=\\\"row map-container\\\">\\r\\n            <div class=\\\"row map-container\\\" style=\\\"overflow: hidden;  position: relative;\\\">\\r\\n                <span *ngIf=\\\"!imagesLoaded\\\">Loading...<i class=\\\"fa fa-spinner fa-spin\\\"></i></span>\\r\\n                <div [hidden]=\\\"!imagesLoaded\\\">\\r\\n                    <!--<span id=\\\"beeimg\\\"></span>-->\\r\\n                    <div class=\\\"pull-left\\\">\\r\\n                        <span>ID <input type=\\\"checkbox\\\" [(ngModel)]=\\\"_gameService.map.grid.config.SHOW_HEX_ID\\\" /></span>\\r\\n                        <span>XY <input type=\\\"checkbox\\\" [(ngModel)]=\\\"_gameService.map.grid.config.SHOW_HEX_XY\\\" /></span>\\r\\n                    </div>\\r\\n                    <div class=\\\"btn-group pull-right\\\" style=\\\"z-index: 100;\\\" role=\\\"group\\\">\\r\\n                        <div class=\\\"btn btn-sm btn-info\\\" (click)=\\\"resetZoom()\\\"><i class=\\\"fa fa-arrows-alt\\\"></i></div>\\r\\n                        <div class=\\\"btn btn-sm btn-info\\\" (click)=\\\"zoomOut()\\\"><i class=\\\"fa fa-minus\\\"></i></div>\\r\\n                        <div class=\\\"btn btn-sm btn-info\\\" (click)=\\\"zoomIn()\\\"><i class=\\\"fa fa-plus\\\"></i></div>\\r\\n                    </div>\\r\\n\\r\\n                    <!--<canvas ng-show=\\\"$ctrl.loadPercent == 100\\\" id=\\\"map\\\" style=\\\"position:absolute;top:0px;left:0px;\\\" lvl-drop-target=\\\"true\\\" on-drag-start=\\\"$ctrl.onDragStart(dragId)\\\" on-drag-stop=\\\"$ctrl.onDragStop()\\\" on-drop=\\\"$ctrl.dropped(dragId, dropId, relativePos)\\\"></canvas>-->\\r\\n                    <canvas id=\\\"map\\\" style=\\\"position:absolute;top:0px;left:0px;\\\" bloqheadDropTarget [dropTargetId]=\\\"'forager'\\\" (onDragEnter)=\\\"dragEnter($event)\\\" (onDragLeave)=\\\"dragLeave($event)\\\" (onDrop)=\\\"dropped($event)\\\">\\r\\n                    </canvas>\\r\\n\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/map/map.component.html\n// module id = 303\n// module chunks = 1","module.exports = \"<div class=\\\"player-box\\\">\\r\\n    <h3 class=\\\"box-title\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-3\\\">\\r\\n                <i class=\\\"icon-bee\\\"></i> Nursery\\r\\n            </div>\\r\\n            <div class=\\\"col-xs-3\\\">\\r\\n                [{{_gameService.map.currentHive.getNurseryCount()}} / {{_gameService.map.currentHive.nurseryLimit}}]\\r\\n            </div>\\r\\n            <div class=\\\"col-xs-6 pull-right\\\">\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n        <!--[{{$ctrl.hive.getNurseryCount()}} / {{$ctrl.hive.getNurseryLimit()}}]-->\\r\\n    </h3>\\r\\n    <div class=\\\"player-content\\\">\\r\\n        <div class=\\\"row breeder-container\\\">\\r\\n            <div *ngFor=\\\"let egg of _gameService.map.currentHive.getBeesByType('egg')\\\">\\r\\n                <div class=\\\"bloqhead-component\\\">\\r\\n                    <h5>\\r\\n                        <div class=\\\"col-xs-12 mortal-name\\\">\\r\\n                            <span><s class=\\\"dead\\\" *ngIf=\\\"!isAlive(egg)\\\">{{egg.name}}</s></span>\\r\\n                            <span *ngIf=\\\"isAlive(egg)\\\">{{egg.name}}</span> &nbsp;\\r\\n                            <i class=\\\"fa icon-tombstone text-danger\\\" *ngIf=\\\"!isAlive(egg)\\\"></i><i class=\\\"fa {{trait.icon}} {{trait.style}}\\\" *ngFor=\\\"let trait of egg.traits\\\"></i>\\r\\n                        </div>\\r\\n                    </h5>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"scalable-list-button\\\">\\r\\n                            <button class=\\\"btn btn-xs btn-primary\\\" (click)=\\\"assignBee(egg,BeeTypes.LARVA)\\\" [disabled]=\\\"!canFertilize(egg)\\\">Fertilize</button>\\r\\n                        </div>\\r\\n                        <div class=\\\"scalable-list-button\\\">\\r\\n                            <button class=\\\"btn btn-xs btn-primary\\\" (click)=\\\"assignBee(egg, BeeTypes.DRONE)\\\" [disabled]=\\\"!canBreed(egg)\\\">Make Drone</button>\\r\\n                        </div>\\r\\n                        <div class=\\\"scalable-list-button\\\">\\r\\n                            <button class=\\\"btn btn-xs btn-primary\\\" (click)=\\\"egg.die()\\\" [disabled]=\\\"!isAlive(egg)\\\">Consume</button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n            <div *ngFor=\\\"let larva of _gameService.map.currentHive.getBeesByType('larva')\\\">\\r\\n                <div class=\\\"bloqhead-component\\\">\\r\\n                    <h5>\\r\\n                        <div class=\\\"col-xs-12 mortal-name\\\">\\r\\n                            <span>{{larva.name}}</span>&nbsp;<i class=\\\"fa icon-tombstone\\\" *ngIf=\\\"!isAlive(larva)\\\"></i><i class=\\\"fa {{trait.icon}} {{trait.style}}\\\" *ngFor=\\\"let trait of larva.traits\\\"></i>\\r\\n                        </div>\\r\\n                    </h5>\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"scalable-list-button\\\">\\r\\n                            <button class=\\\"btn btn-xs btn-primary\\\" (click)=\\\"assignBee(larva,BeeTypes.QUEEN)\\\" [disabled]=\\\"!canBreed(larva)\\\">Make Queen</button>\\r\\n                        </div>\\r\\n                        <div class=\\\"scalable-list-button\\\">\\r\\n                            <button class=\\\"btn btn-xs btn-primary\\\" (click)=\\\"assignBee(larva,BeeTypes.WORKER)\\\" [disabled]=\\\"!canBreed(larva)\\\">Make Worker</button>\\r\\n                        </div>\\r\\n                        <div class=\\\"scalable-list-button\\\">\\r\\n                            <button class=\\\"btn btn-xs btn-primary\\\" (click)=\\\"larva.die()\\\" [disabled]=\\\"!isAlive(larva)\\\">Consume</button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n            <!--<div ng-repeat=\\\"child in $ctrl.hive.getBeesByType('egg')\\\" class=\\\"col-xs-12 col-lg-12 animate-repeat\\\">\\r\\n                <bloqhead-bee mode=\\\"NURSE\\\" unit=\\\"child\\\" assign=\\\"$ctrl.decideFate($id, $type)\\\" can-breed=\\\"$ctrl.hive.getPopulationCount()<$ctrl.hive.getPopulationLimit()\\\"></bloqhead-bee>\\r\\n            </div>\\r\\n            <div ng-repeat=\\\"child in $ctrl.hive.getBeesByType('larva')\\\" class=\\\"col-xs-12 col-lg-12 animate-repeat\\\">\\r\\n                <bloqhead-bee mode=\\\"NURSE\\\" unit=\\\"child\\\" assign=\\\"$ctrl.decideFate($id, $type)\\\" can-breed=\\\"$ctrl.hive.getPopulationCount()<$ctrl.hive.getPopulationLimit()\\\"></bloqhead-bee>\\r\\n            </div>-->\\r\\n\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/nursery/nursery.component.html\n// module id = 304\n// module chunks = 1","module.exports = \"<div class=\\\"population-panel\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"row\\\" *ngFor=\\\"let bee of _gameService.map.currentHive.getBeesByType(this.filter.type)\\\" class=\\\"population-list animate-repeat\\\">\\n            <div class=\\\"col-xs-12 col-sm-4\\\" bloqheadDraggable [data]=\\\"bee.id\\\" [dropTargetIds]=\\\"jids[bee.beetype]\\\" [attr.data-rid]=\\\"bee.id\\\">\\n                <span>{{bee.name}}</span>&nbsp;<i class=\\\"fa {{trait.icon}} {{trait.style}}\\\" *ngFor=\\\"let trait of bee.traits\\\"></i>\\n            </div>\\n            <div class=\\\"col-xs-12 col-sm-8\\\" *ngIf=\\\"bee.workStatus\\\" [attr.data-rid]=\\\"bee.workStatus.rid || 'NONE'\\\">\\n                <div class=\\\"progress progress-custom\\\">\\n                    <progressbar [max]=\\\"bee.workStatus.max\\\" [value]=\\\"bee.workStatus.value\\\" [animate]=\\\"false\\\">\\n                        <span class=\\\"work-status\\\">{{bee.workStatus.action}}</span>\\n                        <span class=\\\"work-amounts\\\">{{bee.workStatus.value|number:'1.1-1'}} / {{bee.workStatus.max|number:'1.1-1'}}</span>\\n                    </progressbar>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/population-panel/population-panel.component.html\n// module id = 305\n// module chunks = 1","module.exports = \"<div class=\\\"player-box\\\">\\r\\n    <h3 class=\\\"box-title\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-xs-12\\\">\\r\\n                <i class=\\\"fa fa-globe\\\"></i> Hive#{{_gameService.map.currentHiveID}} Population [{{_gameService.map.currentHive.getPopulationCount()}} / {{_gameService.map.currentHive.populationLimit}}]\\r\\n            </div>\\r\\n        </div>\\r\\n    </h3>\\r\\n    <div class=\\\"player-content\\\">\\r\\n        <div class=\\\"row population-container\\\">\\r\\n            <tabset type=\\\"pills\\\">\\r\\n\\r\\n                <tab heading=\\\"Overview\\\" customClass=\\\"tab-list-button\\\">\\r\\n                    <h4>Queens</h4>\\r\\n                    <population-panel [filter]=\\\"{type:BeeTypes.QUEEN, traits:[]}\\\"></population-panel>\\r\\n                    <h4>Workers</h4>\\r\\n                    <population-panel [filter]=\\\"{type:BeeTypes.WORKER, traits:[]}\\\"></population-panel>\\r\\n                    <h4>Drones</h4>\\r\\n                    <population-panel [filter]=\\\"{type:BeeTypes.DRONE, traits:[]}\\\"></population-panel>\\r\\n                </tab>\\r\\n                <tab heading=\\\"Custom View\\\" customClass=\\\"tab-list-button\\\">\\r\\n                    <ul>\\r\\n                        <li *ngFor=\\\"let bee of _gameService.map.currentHive.bees\\\">{{bee.name}}</li>\\r\\n                    </ul>\\r\\n                </tab>\\r\\n            </tabset>\\r\\n            <!--<div class=\\\"col-xs-12\\\">\\r\\n                <uib-tabset type=\\\"pills\\\">\\r\\n\\r\\n                    <div uib-tab template-url=\\\"tab.html\\\" heading=\\\"Gender View\\\">\\r\\n                        <div class=\\\"col-xs-6 col-lg-6\\\">\\r\\n                            <h4>Queens</h4>\\r\\n                            <bloqhead-population-panel population=\\\"$ctrl.hive\\\" filter=\\\"{type:'queen',traits:[]}\\\"></bloqhead-population-panel>\\r\\n                            <h4>Workers</h4>\\r\\n                            <bloqhead-population-panel population=\\\"$ctrl.hive\\\" filter=\\\"{type:'worker',traits:[]}\\\"></bloqhead-population-panel>\\r\\n                            <h4>Drones</h4>\\r\\n                            <bloqhead-population-panel population=\\\"$ctrl.hive\\\" filter=\\\"{type:'drone',traits:[]}\\\"></bloqhead-population-panel>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                    <div uib-tab template-url=\\\"tab.html\\\" heading=\\\"Custom View\\\">\\r\\n\\r\\n                        <div class=\\\"col-xs-12\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"col-xs-12\\\">\\r\\n                                    <div class=\\\"btn btn-xs btn-primary trait-filter-item\\\" ng-repeat=\\\"c in $ctrl.criteria\\\" ng-click=\\\"$ctrl.deleteCriteria($index)\\\">\\r\\n                                        <div ng-if=\\\"c.type='trait'\\\">\\r\\n                                            <span ng-bind=\\\"c.val.name\\\"></span>\\r\\n                                            <button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$ctrl.deleteCriteria($index)\\\"><span></span></button>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <button class=\\\"btn btn-xs btn-primary\\\" type=\\\"button\\\" href=\\\"javascript:void(0);\\\" ng-click=\\\"$ctrl.openTraitSelector()\\\">Add Filter</button>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <div class=\\\"col-xs-12\\\">\\r\\n                                    <bloqhead-population-panel population=\\\"$ctrl.hive\\\" filter=\\\"$ctrl.getCustomFilter()\\\"></bloqhead-population-panel>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n\\r\\n                    </div>\\r\\n                </uib-tabset>\\r\\n            </div>-->\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/population/population.component.html\n// module id = 306\n// module chunks = 1","module.exports = \"<div class=\\\"player-box\\\">\\r\\n    <h3 class=\\\"box-title\\\">\\r\\n        <i class=\\\"fa fa-th\\\"></i> Resources\\r\\n    </h3>\\r\\n    <div class=\\\"player-content\\\">\\r\\n        <div class=\\\"resource-list col-xs-12\\\">\\r\\n            <div class=\\\"row\\\" *ngFor=\\\"let resource of _gameService.map.currentHive.resources\\\" [attr.data-rid]=\\\"resource.rid\\\" bloqheadDropTarget [enabled]=\\\"resource.jid !== 'forager'\\\" [dropTargetId]=\\\"resource.jid\\\" (onDrop)=\\\"dropped($event, resource.jid)\\\">\\r\\n                <div class=\\\"col-xs-12 col-sm-3\\\">\\r\\n                    <h5 tooltip=\\\"{{resource.desc}}\\\" container=\\\"body\\\" placement=\\\"right\\\">{{resource.name}}</h5>\\r\\n                </div>\\r\\n                <div class=\\\"col-xs-12 col-sm-9\\\">\\r\\n                    <div class=\\\"progress progress-custom\\\" *ngIf=\\\"resource.max !== -1\\\">\\r\\n                        <progressbar [max]=\\\"resource.max\\\" [value]=\\\"resource.owned\\\">\\r\\n                            <span class=\\\"workers\\\"><i class=\\\"fa\\\" [ngClass]=\\\"resource.icon\\\"></i> {{getWorkerCount(resource.jid)}}</span>\\r\\n                            <span class=\\\"amounts\\\">{{resource.owned}} / {{resource.max}}</span>\\r\\n                        </progressbar>\\r\\n                    </div>\\r\\n                    <div class=\\\"progress progress-custom\\\" *ngIf=\\\"resource.max === -1\\\">\\r\\n                        <progressbar [max]=\\\"0\\\" [value]=\\\"0\\\">\\r\\n                            <span class=\\\"workers\\\"><i class=\\\"fa\\\" [ngClass]=\\\"resource.icon\\\"></i> {{getWorkerCount(resource.jid)}}</span>\\r\\n                            <span class=\\\"amounts\\\">{{resource.owned}}</span>\\r\\n                        </progressbar>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <!--<div class=\\\"col-xs-12 col-sm-9\\\">\\r\\n                    <div class=\\\"progress progress-custom\\\" ng-if=\\\"resource.max !== -1\\\">\\r\\n                        <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" (aria-valuenow)=\\\"{{resource.owned}}\\\" (aria-valuemin)=\\\"0\\\" (aria-valuemax)=\\\"{{resource.max}}\\\" ng-style=\\\"{width: (100*(resource.owned/resource.max)) + '%'}\\\">\\r\\n                            <span class=\\\"workers\\\">\\r\\n                        <i class=\\\"fa\\\" ng-class=\\\"$ctrl.getWorkerIcon(key)\\\"></i>\\r\\n                        <span ng-bind=\\\"$ctrl.getWorkerRate(key)\\\"></span>/s\\r\\n\\r\\n                            </span>\\r\\n                            <span class=\\\"amounts\\\" ng-bind=\\\"value[0] + ' / ' + value[1]\\\"></span>\\r\\n\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"progress progress-custom\\\" ng-if=\\\"value[1] === -1\\\">\\r\\n                        <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"1\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"1\\\" ng-style=\\\"{width: '100%'}\\\">\\r\\n                            <span class=\\\"workers\\\">\\r\\n                                <i class=\\\"fa\\\" ng-class=\\\"$ctrl.getWorkerIcon(key)\\\"></i>\\r\\n                        <span ng-bind=\\\"$ctrl.getWorkerRate(key)\\\"></span>/s\\r\\n                            </span>\\r\\n                            <span class=\\\"amounts\\\" ng-bind=\\\"value[0]\\\"></span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n\\r\\n                </div>-->\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n\\r\\n\\r\\n        <!--\\r\\n<table class=\\\"table table-condensed\\\">\\r\\n    <tbody>\\r\\n        <tr ng-repeat=\\\"(key, value) in $ctrl.resources\\\" ng-show=\\\"value[1] > 0\\\">\\r\\n            <td ng-bind=\\\"$ctrl.resourceTypes[key]\\\"></td>\\r\\n            <td ng-bind=\\\"(value[0] + ' / ' + value[1])\\\"></td>\\r\\n        </tr>\\r\\n    </tbody>\\r\\n</table>\\r\\n-->\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/resource-list/resource-list.component.html\n// module id = 307\n// module chunks = 1","import { Injectable } from '@angular/core';\r\nimport { ITrait, Trait, DEFAULT_TRAITS } from './traits.config';\r\nimport { Building, DEFAULT_BUILDINGS } from './buildingTypes.config';\r\nimport { Resource, DEFAULT_RESOURCES } from './resourceTypes.config';\r\nimport { Genome } from 'app/classes/genome.class';\r\nimport { Ability, DEFAULT_ABILITIES } from \"app/config/abilities.config\";\r\nimport { ResourceID } from './types.config';\r\n\r\n@Injectable()\r\nexport class ConfigService {\r\n    private TRAITS: Trait[];\r\n\r\n    private checked: string[];\r\n\r\n    constructor() {\r\n        this.buildTraits();\r\n        console.log(this.TRAITS);\r\n\r\n    }\r\n    private getRequiredGenesRecursive(trait: ITrait) {\r\n        if (trait.requiredTraits != null) {\r\n            for (let req of trait.requiredTraits) {\r\n                var reqTrait = DEFAULT_TRAITS.find(t => t.id === req);\r\n                if (this.checked.indexOf(req) === -1)\r\n                    this.getRequiredGenesRecursive(reqTrait);\r\n                for (let g of reqTrait.genes)\r\n                    trait.genes.push(Object.assign({}, g));\r\n            }\r\n        }\r\n        this.checked.push(trait.id);\r\n    }\r\n    private buildTraits(): void {\r\n        this.TRAITS = [];\r\n        this.checked = [];\r\n        for (let t of DEFAULT_TRAITS) {\r\n            this.getRequiredGenesRecursive(t);\r\n            this.TRAITS.push(new Trait(t));\r\n        }\r\n\r\n    }\r\n\r\n    getTraits(genome: Genome): Trait[] {\r\n        let ret: Trait[] = [];\r\n        for (let trait of this.TRAITS) {\r\n            let met: boolean = true;\r\n            for (let gene of trait.genes) {\r\n                let on: boolean = genome.getGene(gene.chromosome, gene.gene);\r\n                if (on !== gene.value)\r\n                    met = false;\r\n            }\r\n\r\n            if (met) {\r\n                ret.push(Object.assign({}, trait));\r\n            }\r\n        }\r\n\r\n        return ret;\r\n    }\r\n    getAbilities(traits: Trait[]): Ability[] {\r\n        let ret: Ability[] = DEFAULT_ABILITIES.map(function (a) { return new Ability(a); });\r\n\r\n        let modifiers = ret.reduce(function (total, current) {\r\n            return total[current.abilityId] = {\r\n                add: 0,\r\n                percent: 0\r\n            }, total;\r\n        }, {});\r\n\r\n        for (let trait of traits) {\r\n            for (let mod of trait.mods) {\r\n                modifiers[mod.abilityId].add += mod.add || 0;\r\n                modifiers[mod.abilityId].percent += mod.percent && (mod.percent / 100) || 0;\r\n            }\r\n        }\r\n\r\n        for (let m in modifiers) {\r\n            let a = ret.find(r => r.abilityId === m);\r\n            a.value = a.baseValue;\r\n            a.value += modifiers[m].add;\r\n            a.value *= (1 + modifiers[m].percent);\r\n        }\r\n\r\n        return ret;\r\n    }\r\n    getDefaultBuildings(): Building[] {\r\n        return DEFAULT_BUILDINGS.map(function (b) { return new Building(b); });\r\n    }\r\n    getDefaultResources(): Resource[] {\r\n        return DEFAULT_RESOURCES.map(function (r) { return new Resource(r); });\r\n    }\r\n    getResourceById(rid: ResourceID) {\r\n        return DEFAULT_RESOURCES.find(r => r.rid === rid);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/config/config.service.ts","import { Component, Injectable, OnInit } from '@angular/core';\r\n\r\n\r\n\r\nenum LogType {\r\n    GENERAL,\r\n    BREED,\r\n    ACHIEVEMENT,\r\n    WORK\r\n}\r\nclass LogMessage {\r\n    type: LogType;\r\n    timestamp: number;\r\n    message: string;\r\n    /**\r\n     *\r\n     */\r\n    constructor(value: any) {\r\n        this.type = value.type;\r\n        this.timestamp = value.timestamp;\r\n        this.message = value.message;\r\n\r\n    }\r\n}\r\n@Injectable()\r\nexport class LogService {\r\n    maxMessages: number = 500;\r\n    messages: LogMessage[];\r\n    /**\r\n     *\r\n     */\r\n    constructor() {\r\n        this.messages = [];\r\n        this.clearLog(\"Welcome to Genetix!\");\r\n    }\r\n    clearLog(initMessage?: string) {\r\n        this.messages = [];\r\n        if (initMessage != null) this.logGeneralMessage(initMessage);\r\n    }\r\n    logGeneralMessage(message) {\r\n        this.messages.push(new LogMessage({ type: LogType.GENERAL, timestamp: Date.now(), message: message }));\r\n        if (this.messages.length > this.maxMessages)\r\n            this.messages.splice(0, 1);\r\n        //$rootScope.$emit('newMessageEvent', self.messages);\r\n    };\r\n    logBreedMessage(message) {\r\n        this.messages.push({ type: LogType.BREED, timestamp: Date.now(), message: message });\r\n        if (this.messages.length > this.maxMessages)\r\n            this.messages.splice(0, 1);\r\n        //$rootScope.$emit('newMessageEvent', self.messages);\r\n    };\r\n    logAchievementMessage(message) {\r\n        this.messages.push({ type: LogType.ACHIEVEMENT, timestamp: Date.now(), message: message });\r\n        if (this.messages.length > this.maxMessages)\r\n            this.messages.splice(0, 1);\r\n        //$rootScope.$emit('newMessageEvent', self.messages);\r\n    };\r\n    logWorkMessage(message) {\r\n        this.messages.push({ type: LogType.WORK, timestamp: Date.now(), message: message });\r\n        if (this.messages.length > this.maxMessages)\r\n            this.messages.splice(0, 1);\r\n        //$rootScope.$emit('newMessageEvent', self.messages);\r\n    };\r\n\r\n    // self.SubscribeNewMessageEvent = function(scope, callback) {\r\n    //     var handler = $rootScope.$on('newMessageEvent', callback.bind(this));\r\n    //     scope.$on('$destroy', handler);\r\n    //     $rootScope.$emit('newMessageEvent', self.messages);\r\n    // };\r\n}\r\n\r\n@Component({\r\n    selector: 'bloqhead-log',\r\n    templateUrl: './log.component.html',\r\n})\r\nexport class LogComponent implements OnInit {\r\n    pauseScroll: boolean;\r\n    constructor(public _logService: LogService) {\r\n    }\r\n    ngOnInit() {\r\n        this.pauseScroll = false;\r\n    }\r\n\r\n    ngOnDestroy() {\r\n\r\n    }\r\n\r\n    getLogClass(type) {\r\n        var prefix = 'list-group-item-';\r\n        var a = '';\r\n        switch (type) {\r\n            case LogType.GENERAL:\r\n                a = 'color-general';\r\n                break;\r\n            case LogType.ACHIEVEMENT:\r\n                a = 'color-achievement';\r\n                break;\r\n            case LogType.BREED:\r\n                a = 'color-breed';\r\n                break;\r\n            case LogType.WORK:\r\n                a = 'color-work';\r\n                break;\r\n            default:\r\n                a = prefix + 'none';\r\n                break;\r\n        }\r\n        return a;\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/log/log.component.ts","import { Trait } from \"app/config/traits.config\";\r\nimport { ConfigService } from \"app/config/config.service\"\r\nimport { Genome } from \"app/classes/genome.class\";\r\nimport { Hexagon } from \"app/classes/hexmap/hexagon.class\";\r\nimport { JobType, JOB_TYPES, JobAction, IJobStep } from \"app/config/jobTypes.config\";\r\nimport { Hive } from \"app/classes/hive.class\";\r\nimport { Map } from \"app/classes/map.class\";\r\nimport { AppInjector, randomIntFromInterval } from \"app/app.module\";\r\nimport { Ability } from \"app/config/abilities.config\";\r\nimport { LogService } from \"app/log/log.component\";\r\nimport { JobID, AbilityID, ResourceID } from 'app/config/types.config';\r\ninterface IWorkStatus {\r\n    action: string;\r\n    value: number;\r\n    max?: number;\r\n    rid?: ResourceID,\r\n    icon?: string\r\n}\r\nexport interface IBeeState {\r\n    id: string;\r\n    beetype?: BeeTypes;\r\n    pos?: string;\r\n    tripStart?: string;\r\n    tripEnd?: string;\r\n    tripElaspedTime?: number;\r\n    tripTotalTime?: number;\r\n    waitingAtResource?: boolean;\r\n    dt?: number;\r\n    queenParentId?: string;\r\n    droneParentId?: string;\r\n    generation?: number;\r\n    jid?: JobID;\r\n    jobStep?: IJobStep;\r\n    msSinceWork?: number;\r\n    nodeIndex?: number;\r\n    beeMutationChance?: number;\r\n    dead?: boolean;\r\n    nodeIds?: string[];\r\n    traits?: Trait[];\r\n    abilities?: Ability[];\r\n    name?: string;\r\n    genome?: Genome;\r\n    droneGenomes?: Genome[];\r\n    droneIds?: string[];\r\n    isMoving?: boolean;\r\n    harvesting?: boolean;\r\n    baskets?: { [rid: string]: number }\r\n}\r\ninterface IBee extends IBeeState {\r\n    job: JobType;\r\n    workStatus: IWorkStatus;\r\n    update(state?: IBeeState): void;\r\n    getState(): IBeeState;\r\n    die(): void;\r\n    getAbility(abilityId: AbilityID): Ability;\r\n    mature(type: BeeTypes): BaseBee;\r\n    fertilizeEgg(bee: BaseBee): BaseBee;\r\n    hatch(type: BeeTypes): BaseBee;\r\n    mate(bee: BaseBee): void;\r\n    storageAmount(rid: string): number;\r\n    storageFull(): boolean;\r\n    setJob(jid: string, jobStep?: IJobStep): void;\r\n    addWaypointNode(hexagon: Hexagon): void;\r\n    removeWaypointNode(hexagon: Hexagon): void;\r\n    doSpawn(ms: number, hive: Hive): void;\r\n    doTravel(ms: number, hive: Hive, map: Map): void;\r\n    doCollect(ms: number, hive: Hive, map: Map): void;\r\n    doDeposit(ms: number, hive: Hive): void;\r\n    doProduce(ms: number, hive: Hive): void;\r\n    goHome(ms: number, hive: Hive, map: Map): void;\r\n    doWork(ms: number, hive: Hive, map: Map): void;\r\n\r\n}\r\nexport type BeeTypes = \"queen\" | \"drone\" | \"worker\" | \"larva\" | \"egg\";\r\nexport const BeeTypes = {\r\n    QUEEN: 'queen' as BeeTypes,\r\n    DRONE: 'drone' as BeeTypes,\r\n    WORKER: 'worker' as BeeTypes,\r\n    LARVA: 'larva' as BeeTypes,\r\n    EGG: 'egg' as BeeTypes,\r\n\r\n};\r\nexport abstract class BaseBee implements IBee {\r\n\r\n    id: string;\r\n    beetype: BeeTypes;\r\n    pos?: string;\r\n    tripStart?: string;\r\n    tripEnd?: string;\r\n    tripElaspedTime?: number;\r\n    tripTotalTime?: number;\r\n    waitingAtResource?: boolean;\r\n    dt?: number;\r\n    queenParentId?: string;\r\n    droneParentId?: string;\r\n    generation?: number;\r\n    jid?: JobID;\r\n    jobStep?: IJobStep;\r\n    msSinceWork?: number;\r\n    nodeIndex?: number;\r\n    beeMutationChance?: number;\r\n    dead?: boolean;\r\n    nodeIds?: string[];\r\n    traits?: Trait[];\r\n    abilities?: Ability[];\r\n    name?: string;\r\n    genome?: Genome;\r\n    job: JobType;\r\n    workStatus: IWorkStatus;\r\n    hasPairs: boolean;\r\n    nodes: Hexagon[];\r\n    isMoving?: boolean;\r\n    harvesting?: boolean;\r\n    baskets?: { [rid: string]: number }\r\n\r\n    private _configService: ConfigService;\r\n    private _logService: LogService;\r\n\r\n    constructor(config?: IBeeState) {\r\n        this._configService = AppInjector.get(ConfigService);\r\n        this._logService = AppInjector.get(LogService);\r\n    }\r\n    update(config?: IBeeState): void {\r\n        this.id = config && config.id || this.id || '0';\r\n        this.pos = config && config.pos || this.pos || 'A1';\r\n        this.tripStart = config && config.tripStart || this.tripStart || null;\r\n        this.tripEnd = config && config.tripEnd || this.tripEnd || null;\r\n        this.tripElaspedTime = config && config.tripElaspedTime || this.tripElaspedTime || 0;\r\n        this.tripTotalTime = config && config.tripTotalTime || this.tripTotalTime || 0;\r\n        this.waitingAtResource = (config && config.waitingAtResource != null) ? config.waitingAtResource : ((this.waitingAtResource != null) ? this.waitingAtResource : true);\r\n        this.dt = config && config.dt || this.dt || new Date().getTime();\r\n        this.queenParentId = config && config.queenParentId || this.queenParentId || null;\r\n        this.droneParentId = config && config.droneParentId || this.droneParentId || null;\r\n        this.generation = config && config.generation || this.generation || 0;\r\n        this.setJob(config && config.jid || this.jid || JobID.IDLE, config && config.jobStep || this.jobStep || null);\r\n\r\n        this.msSinceWork = config && config.msSinceWork || this.msSinceWork || 0;\r\n        this.dead = (config && config.dead != null) ? config.dead : this.dead != null ? this.dead : false;\r\n        this.nodeIds = config && config.nodeIds || this.nodeIds || [];\r\n        this.isMoving = config && config.isMoving || false;\r\n        this.harvesting = config && config.harvesting || false;\r\n\r\n        this.baskets = /*config && config.baskets || this.baskets ||*/ null;\r\n        if (this.baskets === null) {\r\n            this.baskets = {};\r\n            this.baskets[ResourceID.NECTAR] = 0;\r\n            this.baskets[ResourceID.POLLEN] = 0;\r\n            this.baskets[ResourceID.WATER] = 0;\r\n        }\r\n        //this.nodes = this.nodes || [];\r\n        this.nodeIndex = config && config.nodeIndex || this.nodeIndex || 0;\r\n        this.beeMutationChance = config && config.beeMutationChance || this.beeMutationChance || 0.005;\r\n        this.genome = new Genome(config && config.genome || null, this.hasPairs);\r\n        this.traits = this._configService.getTraits(this.genome);\r\n        this.abilities = this._configService.getAbilities(this.traits);\r\n        this.name = this.beetype + this.id;\r\n        this.workStatus = null;\r\n    }\r\n    getState(): IBeeState {\r\n        return {\r\n            id: this.id,\r\n            beetype: this.beetype,\r\n            pos: this.pos,\r\n            tripStart: this.tripStart,\r\n            tripEnd: this.tripEnd,\r\n            tripElaspedTime: this.tripElaspedTime,\r\n            tripTotalTime: this.tripTotalTime,\r\n            waitingAtResource: this.waitingAtResource,\r\n            dt: this.dt,\r\n            queenParentId: this.queenParentId,\r\n            droneParentId: this.droneParentId,\r\n            generation: this.generation,\r\n            jid: this.jid,\r\n            jobStep: this.jobStep,\r\n            msSinceWork: this.msSinceWork,\r\n            nodeIndex: this.nodeIndex,\r\n            beeMutationChance: this.beeMutationChance,\r\n            dead: this.dead,\r\n            nodeIds: this.nodeIds,\r\n            /* not needed for save, uncomment for debugging */\r\n            // traits: this.traits,            \r\n            // abilities: this.abilities,\r\n            genome: this.genome,\r\n            isMoving: this.isMoving,\r\n            harvesting: this.harvesting,\r\n            baskets: this.baskets\r\n        };\r\n    }\r\n\r\n\r\n    die(): void {\r\n        this.dead = true;\r\n    }\r\n    getAbility(abilityId: AbilityID): Ability {\r\n        return this.abilities.find(a => a.abilityId === abilityId);\r\n    }\r\n    mature(type: BeeTypes): BaseBee {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n    fertilizeEgg(bee: BaseBee): BaseBee {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n    hatch(type: BeeTypes): BaseBee {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n    mate(bee: BaseBee): void {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n    storageAmount(rid: ResourceID): number {\r\n        let amt: number;\r\n        switch (rid) {\r\n            case ResourceID.NECTAR:\r\n                amt = this.getAbility(AbilityID.STR_NECTAR).value;\r\n                break;\r\n            case ResourceID.POLLEN:\r\n                amt = this.getAbility(AbilityID.STR_POLLEN).value;\r\n                break;\r\n            case ResourceID.WATER:\r\n                amt = this.getAbility(AbilityID.STR_WATER).value;\r\n                break;\r\n        }\r\n        return amt - this.baskets[rid];\r\n\r\n    }\r\n    storageFull(): boolean {\r\n        return this.storageAmount(ResourceID.NECTAR) + this.storageAmount(ResourceID.POLLEN) + this.storageAmount(ResourceID.WATER) <= 0;\r\n    }\r\n    setJob(jid: JobID, jobStep?: IJobStep): void {\r\n        if (this.jid === jid) return;\r\n\r\n        var job = JOB_TYPES.find(j => j.jid === jid);\r\n        if (job.beetypes.indexOf(this.beetype) === -1) {\r\n            return;\r\n        }\r\n        this.workStatus = null;\r\n        this.jid = jid;\r\n        this.job = job;\r\n        this.msSinceWork = 0;\r\n        this.jobStep = jobStep;\r\n        this.nodes = [];\r\n        this.nodeIds = [];\r\n        this.nodeIndex = 0;\r\n        this.isMoving = false;\r\n    }\r\n    addWaypointNode(hexagon: Hexagon): void {\r\n        if (this.jid !== JobID.FORAGER) this.setJob(JobID.FORAGER);\r\n\r\n        if (this.nodeIds.indexOf(hexagon.id) === -1) {\r\n            this.nodes.push(hexagon);\r\n            this.nodeIds.push(hexagon.id);\r\n        }\r\n    }\r\n    removeWaypointNode(hexagon: Hexagon): void {\r\n        this.nodes.splice(this.nodes.indexOf(hexagon), 1);\r\n        this.nodeIds.splice(this.nodeIds.indexOf(hexagon.id), 1);\r\n    }\r\n    doSpawn(ms: number, hive: Hive) {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n    doProduce(ms: number, hive: Hive): void {\r\n        var rate = this.getAbility(this.jobStep.rate).value;\r\n        var ya = this.getAbility(this.jobStep.yield);\r\n        this.msSinceWork += ms;\r\n        if (this.msSinceWork >= rate) {\r\n\r\n            while (this.msSinceWork >= rate) {\r\n                var spent = [];\r\n                var success = false;\r\n                for (let c of this.jobStep.cost) {\r\n                    var ca = this.getAbility(c);\r\n                    success = (hive.changeResource(ca.c_rid, -1 * ca.value) >= 0);\r\n                    if (success) {\r\n                        spent.push({ rid: ca.c_rid, amount: ca.value });\r\n                    } else break;\r\n                }\r\n                if (success) {\r\n                    success = hive.changeResource(ya.rid, ya.value) > 0;\r\n                }\r\n\r\n                // we either didn't have enough resources, or we couldn't make the \r\n                // resource, refund anything that was spent\r\n                if (!success) {\r\n                    for (let s of spent) {\r\n                        hive.changeResource(s.rid, s.amount);\r\n                    }\r\n                    this.msSinceWork = 0; //no need to keep working\r\n                } else {\r\n                    this.msSinceWork -= rate;\r\n                }\r\n            }\r\n        }\r\n        this.workStatus = { action: this.job.name, value: this.msSinceWork / 1000, max: rate / 1000, rid: ya.rid };\r\n    }\r\n    doTravel(ms: number, hive: Hive, map: Map): void {\r\n        var mr = this.nodes[this.nodeIndex].mapResource;\r\n        if (this.tripStart !== this.pos) {\r\n            this.isMoving = true;\r\n            var rate = this.getAbility(this.jobStep.rate).value;\r\n            this.tripStart = this.pos;\r\n            this.tripElaspedTime = 0;\r\n            this.tripEnd = this.nodes[this.nodeIndex].id;\r\n            this.tripTotalTime = map.grid.GetHexDistance(this.nodes[this.nodeIndex], map.grid.GetHexById(this.tripStart)) * rate;\r\n        }\r\n        this.tripElaspedTime += ms;\r\n        if (this.tripElaspedTime >= this.tripTotalTime) {\r\n            this.isMoving = false;\r\n            this.jobStep = this.job.actions.find(a => a.action === JobAction.COLLECT);\r\n            this.msSinceWork = 0;\r\n            this.tripStart = null;\r\n            this.pos = this.nodes[this.nodeIndex].id;\r\n            mr.queueHarvest(this);\r\n        }\r\n        var rid = mr.water > 0 ? ResourceID.WATER : ResourceID.POLLEN;\r\n        this.workStatus = { action: \"Travelling to \" + this.tripEnd, value: this.tripElaspedTime / 1000, max: this.tripTotalTime / 1000, rid: rid };\r\n    }\r\n    doCollect(ms: number, hive: Hive, map: Map): void {\r\n        if (this.waitingAtResource) {\r\n            this.workStatus = { action: \"Waiting at resource\", value: 0, max: 0 };\r\n            return;\r\n        }\r\n        var resourceNode = this.nodes[this.nodeIndex].mapResource;\r\n        var rate = this.getAbility(this.jobStep.rate).value * resourceNode.harvestMultiplier;\r\n        this.msSinceWork += ms;\r\n        while (this.msSinceWork >= rate) {\r\n            var collected = false;\r\n            var rid = ResourceID.NECTAR;\r\n            if (resourceNode.getAvailable(rid) > 0 && this.storageAmount(rid) > 0) {\r\n                this.baskets[rid] += resourceNode.collect(rid, 1);\r\n                collected = true;\r\n            }\r\n            rid = ResourceID.POLLEN;\r\n            if (!collected && resourceNode.getAvailable(rid) > 0 && this.storageAmount(rid) > 0) {\r\n                this.baskets[rid] += resourceNode.collect(rid, 1);\r\n                collected = true;\r\n            }\r\n            rid = ResourceID.WATER;\r\n            if (!collected && resourceNode.getAvailable(rid) > 0 && this.storageAmount(rid) > 0) {\r\n                this.baskets[rid] += resourceNode.collect(rid, 1);\r\n                collected = true;\r\n            }\r\n            if (!collected) {\r\n                this._logService.logWorkMessage(this.name + \" done harvesting.\");\r\n                this.harvesting = false;\r\n                this.nodes[this.nodeIndex].mapResource.doneHarvesting();\r\n                this.msSinceWork -= rate;\r\n                if (this.nodeIndex + 1 === this.nodes.length) {\r\n                    this.nodeIndex = 0;\r\n                    this.goHome(0, hive, map);\r\n                } else if (this.storageFull()) {\r\n                    this.goHome(0, hive, map);\r\n                } else {\r\n                    this.jobStep = this.job.actions.find(a => a.action === JobAction.TRAVEL);\r\n                    this.nodeIndex++;\r\n                }\r\n            } else {\r\n                this.msSinceWork -= rate;\r\n            }\r\n\r\n        }\r\n        this.workStatus = { action: \"Collecting\", value: this.msSinceWork / 1000, max: rate / 1000 };\r\n    }\r\n    doDeposit(ms: number, hive: Hive): void {\r\n        var rate = this.getAbility(this.jobStep.rate).value;\r\n        this.msSinceWork += ms;\r\n        if (this.msSinceWork >= rate) {\r\n            var deposited = false;\r\n            var rid = ResourceID.NECTAR;\r\n            if (this.baskets[rid] > 0) {\r\n                if (hive.changeResource(rid, 1) >= 0) {\r\n                    this.baskets[rid]--;\r\n                    deposited = true;\r\n                }\r\n            }\r\n            rid = ResourceID.POLLEN;\r\n            if (this.baskets[rid] > 0) {\r\n                if (hive.changeResource(rid, 1) >= 0) {\r\n                    this.baskets[rid]--;\r\n                    deposited = true;\r\n                }\r\n            }\r\n            rid = ResourceID.WATER;\r\n            if (this.baskets[rid] > 0) {\r\n                if (hive.changeResource(rid, 1) >= 0) {\r\n                    this.baskets[rid]--;\r\n                    deposited = true;\r\n                }\r\n            }\r\n            if (!deposited) {\r\n                this.jobStep = this.job.actions.find(a => a.action === JobAction.TRAVEL)\r\n            }\r\n            this.msSinceWork -= rate;\r\n        }\r\n        this.workStatus = { action: \"Depositing\", value: this.msSinceWork / 1000, max: rate / 1000 };\r\n    }\r\n    goHome(ms: number, hive: Hive, map: Map): void {\r\n\r\n\r\n        if (this.tripStart !== this.pos) {\r\n            this.jobStep = null;\r\n            var rate = this.getAbility(AbilityID.SPD_FLY).value;\r\n            this.tripStart = this.pos;\r\n            this.tripElaspedTime = 0;\r\n            this.tripEnd = hive.pos;\r\n            this.tripTotalTime = map.grid.GetHexDistance(map.grid.GetHexById(this.tripEnd), map.grid.GetHexById(this.tripStart)) * rate;\r\n            this.isMoving = true;\r\n        }\r\n        this.tripElaspedTime += ms;\r\n        if (this.tripElaspedTime >= this.tripTotalTime) {\r\n            this.isMoving = false;\r\n            //var jobType = jobTypes[this.jid];\r\n            this.jobStep = this.job.actions[0];\r\n            this.msSinceWork = 0;\r\n            this.tripStart = null;\r\n            this.pos = this.tripEnd;\r\n\r\n            //var jobStepIndex = this.jobStepIndex;\r\n            if (this.job.jid === JobID.FORAGER) {\r\n                this._logService.logWorkMessage(this.name + ' returned home.');\r\n                this.jobStep = this.job.actions.find(a => a.action === JobAction.DEPOSIT);\r\n            }\r\n        }\r\n        if (this.job.jid === JobID.IDLE)\r\n            this.workStatus = { action: this.job.name, value: 0, max: 0 };\r\n        else\r\n            this.workStatus = { action: \"Going Home\", value: this.tripElaspedTime / 1000, max: this.tripTotalTime / 1000 };\r\n\r\n    }\r\n    doWork(ms: number, hive: Hive, map: Map): void {\r\n        if (!this.jobStep) {\r\n            this.goHome(ms, hive, map);\r\n            return;\r\n        }\r\n\r\n        switch (this.jid) {\r\n            case JobID.BREEDER:\r\n                if (this.jobStep.action === JobAction.SPAWN)\r\n                    this.doSpawn(ms, hive);\r\n                break;\r\n            case JobID.NURSE:\r\n            case JobID.PRODUCER_FOOD:\r\n            case JobID.PRODUCER_HONEY:\r\n            case JobID.BUILDER:\r\n            case JobID.UNDERTAKER:\r\n                if (this.jobStep.action === JobAction.PRODUCE) {\r\n                    this.doProduce(ms, hive);\r\n                }\r\n                break;\r\n            case JobID.FORAGER:\r\n                if (this.jobStep.action === JobAction.TRAVEL) {\r\n                    this.doTravel(ms, hive, map);\r\n                } else if (this.jobStep.action === JobAction.COLLECT) {\r\n                    this.doCollect(ms, hive, map);\r\n                } else if (this.jobStep.action === JobAction.DEPOSIT) {\r\n                    this.doDeposit(ms, hive);\r\n                }\r\n                break;\r\n            case JobID.GUARD:\r\n            default:\r\n                this.msSinceWork = 0;\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nexport class Queen extends BaseBee {\r\n    minDrones: number;\r\n    droneGenomes: Genome[];\r\n    droneIds: string[];\r\n    constructor(config: IBeeState) {\r\n        super(config);\r\n        this.beetype = BeeTypes.QUEEN;\r\n        this.hasPairs = true;\r\n        this.minDrones = 10;\r\n        this.droneGenomes = [];\r\n        this.droneIds = [];\r\n        this.update(config);\r\n\r\n    }\r\n    update(config?: IBeeState): void {\r\n        if (config && config.droneGenomes) {\r\n            for (let g of config.droneGenomes)\r\n                this.droneGenomes.push(new Genome(g, false));\r\n            this.droneIds = config.droneIds;\r\n        }\r\n        super.update(config);\r\n\r\n\r\n    }\r\n    getState(): IBeeState {\r\n        var state = super.getState();\r\n        state.droneGenomes = this.droneGenomes;\r\n        state.droneIds = this.droneIds;\r\n        return state;\r\n    }\r\n    fertilizeEgg(bee: BaseBee): BaseBee {\r\n        if (bee.beetype !== BeeTypes.EGG) throw new Error(\"Can only fertilize eggs.\");\r\n\r\n        var d = randomIntFromInterval(0, this.droneGenomes.length - 1);\r\n        var droneGenome = this.droneGenomes[d];\r\n        var newGenome = bee.genome.fertilize(droneGenome) as Genome;\r\n\r\n        var child = new Larva({\r\n            id: bee.id,\r\n            dt: new Date().getTime(),\r\n            generation: this.generation + 1,\r\n            genome: newGenome,\r\n            queenParentId: this.id,\r\n            droneParentId: this.droneIds[d],\r\n            beeMutationChance: this.beeMutationChance,\r\n            pos: this.pos\r\n\r\n        });\r\n        return child;\r\n    }\r\n    canLayEggs(hive: Hive): boolean {\r\n        // temporary\r\n        return hive.getNurseryCount() < hive.nurseryLimit && this.droneGenomes.length >= this.minDrones;\r\n    }\r\n    mate(drone: BaseBee): void {\r\n        if (drone.beetype !== BeeTypes.DRONE) throw new Error(\"Queen cannot mate with non-drone bees\");\r\n        this.droneGenomes.push(drone.genome);\r\n        this.droneIds.push(drone.id);\r\n        drone.die();\r\n    }\r\n    doSpawn(ms: number, hive: Hive) {\r\n        var eggRate = this.getAbility(this.jobStep.rate).value;\r\n        if (this.canLayEggs(hive)) {\r\n            this.msSinceWork += ms;\r\n            while (this.msSinceWork >= eggRate) {\r\n                var egg = this.layEgg(hive.getNextId());\r\n                hive.bees.push(egg);\r\n                this.msSinceWork -= eggRate;\r\n            }\r\n        }\r\n        this.workStatus = { action: \"Laying Eggs\", value: this.msSinceWork / 1000, max: eggRate / 1000, rid: ResourceID.ROYAL_JELLY };\r\n    }\r\n    layEgg = function (newId) {\r\n        var eggGenome = this.genome.getEggGenome();\r\n        var egg = new Egg({\r\n            id: newId,\r\n            dt: new Date().getTime(),\r\n            generation: this.generation + 1,\r\n            genome: eggGenome,\r\n            queenParentId: this.id,\r\n            beeMutationChance: this.beeMutationChance,\r\n            pos: this.pos\r\n\r\n        });\r\n        egg.update();\r\n        return egg;\r\n    };\r\n\r\n}\r\n\r\nexport class Worker extends BaseBee {\r\n    constructor(config: IBeeState) {\r\n        super(config);\r\n        this.beetype = BeeTypes.WORKER;\r\n        this.hasPairs = true;\r\n        this.update(config);\r\n    }\r\n    update(config?: IBeeState): void {\r\n        super.update(config);\r\n    }\r\n}\r\n\r\nexport class Drone extends BaseBee {\r\n\r\n    constructor(config: IBeeState) {\r\n        super(config);\r\n        this.beetype = BeeTypes.DRONE;\r\n        this.hasPairs = false;\r\n        this.update(config);\r\n    }\r\n    update(config?: IBeeState): void {\r\n        super.update(config);\r\n    }\r\n}\r\n\r\n\r\nexport class Egg extends BaseBee {\r\n    constructor(config: IBeeState) {\r\n        super(config);\r\n        this.beetype = BeeTypes.EGG;\r\n        this.hasPairs = false;\r\n        this.update(config);\r\n    }\r\n    update(config?: IBeeState): void {\r\n        super.update(config);\r\n    }\r\n\r\n    hatch(type: BeeTypes) {\r\n        if (type === BeeTypes.DRONE) {\r\n            return new Drone({\r\n                id: this.id,\r\n                generation: this.generation,\r\n                genome: this.genome,\r\n                beeMutationChance: this.beeMutationChance,\r\n                pos: this.pos\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport class Larva extends BaseBee {\r\n    constructor(config: IBeeState) {\r\n        super(config);\r\n        this.beetype = BeeTypes.LARVA;\r\n        this.hasPairs = true;\r\n        this.update(config);\r\n    }\r\n    update(config?: IBeeState): void {\r\n        super.update(config);\r\n    }\r\n    mature(type: BeeTypes) {\r\n        if (type === BeeTypes.WORKER) {\r\n            return new Worker({\r\n                id: this.id,\r\n                genome: this.genome,\r\n                generation: this.generation,\r\n                beeMutationChance: this.beeMutationChance,\r\n                pos: this.pos\r\n            });\r\n        } else if (type === BeeTypes.QUEEN) {\r\n            return new Queen({\r\n                id: this.id,\r\n                genome: this.genome,\r\n                generation: this.generation,\r\n                beeMutationChance: this.beeMutationChance,\r\n                pos: this.pos\r\n            });\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/bee.class.ts","interface IPoint {\r\n    X: number;\r\n    Y: number;\r\n}\r\n\r\nexport class Point implements IPoint {\r\n    X: number;\r\n    Y: number;\r\n\r\n    constructor(x: number, y: number) {\r\n        this.X = x;\r\n        this.Y = y;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/classes/hexmap/point.class.ts","import { JobID, ResourceID } from 'app/config/types.config';\r\n\r\nexport interface IResourceType {\r\n    rid: ResourceID;\r\n    name: string;\r\n    desc: string;\r\n    jid: JobID;\r\n    icon: string;\r\n    owned?: number;\r\n    max?: number;\r\n}\r\n\r\n\r\nexport class Resource implements IResourceType {\r\n    rid: ResourceID;\r\n    name: string;\r\n    desc: string;\r\n    jid: JobID;\r\n    icon: string;\r\n    owned: number;\r\n    max: number;\r\n    constructor(resourceType: IResourceType) {\r\n        this.rid = resourceType.rid;\r\n        this.name = resourceType.name;\r\n        this.desc = resourceType.desc;\r\n        this.jid = resourceType.jid;\r\n        this.icon = resourceType.icon;\r\n        this.owned = resourceType.owned || 0;\r\n        this.max = resourceType.max || 0;\r\n\r\n    }\r\n}\r\n\r\nexport var DEFAULT_RESOURCES: IResourceType[] = [\r\n    {\r\n        rid: ResourceID.NECTAR,\r\n        name: \"Nectar\",\r\n        desc: \"Used for creating honey.\",\r\n        jid: JobID.FORAGER,\r\n        icon: \"fa-tint\"\r\n    },\r\n    {\r\n        rid: ResourceID.POLLEN,\r\n        name: \"Pollen\",\r\n        desc: \"Used for food creation.\",\r\n        jid: JobID.FORAGER,\r\n        icon: \"icon-pollen\"\r\n    },\r\n    {\r\n        rid: ResourceID.WATER,\r\n        name: \"Water\",\r\n        desc: \"Used for food creation and breeding.\",\r\n        jid: JobID.FORAGER,\r\n        icon: \"icon-water\"\r\n    },\r\n    {\r\n        rid: ResourceID.FOOD,\r\n        name: \"Food\",\r\n        desc: \"Nurishment for the hive.\",\r\n        jid: JobID.PRODUCER_FOOD,\r\n        icon: \"fa-apple\"\r\n    },\r\n    {\r\n        rid: ResourceID.HONEY,\r\n        name: \"Honey\",\r\n        desc: \"Used for making royal jelly and food and in building.\",\r\n        jid: JobID.PRODUCER_HONEY,\r\n        icon: \"icon-honeypot\"\r\n    },\r\n    {\r\n        rid: ResourceID.ROYAL_JELLY,\r\n        name: \"Royal Jelly\",\r\n        desc: \"Used for breeding new queens.\",\r\n        jid: JobID.NURSE,\r\n        icon: \"icon-jar\"\r\n    },\r\n    {\r\n        rid: ResourceID.WAX,\r\n        name: \"Wax\",\r\n        desc: \"Used in honeycomb construction.\",\r\n        jid: JobID.BUILDER,\r\n        icon: \"icon-tools\"\r\n    },\r\n    {\r\n        rid: ResourceID.DEADBEES,\r\n        name: \"Dead bees\",\r\n        desc: \"Dead bees that take up space, convert them to food.\",\r\n        jid: JobID.UNDERTAKER,\r\n        icon: \"icon-tombstone\",\r\n        max: -1\r\n    },\r\n    {\r\n        rid: ResourceID.DEFENSE,\r\n        name: \"Defense\",\r\n        desc: \"Hive defensive ability.\",\r\n        jid: JobID.GUARD,\r\n        icon: \"icon-shield\",\r\n        max: -1\r\n    }\r\n]\n\n\n// WEBPACK FOOTER //\n// ./src/app/config/resourceTypes.config.ts"],"sourceRoot":""}